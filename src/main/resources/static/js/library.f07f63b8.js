"use strict";(self["webpackChunkdeneb"]=self["webpackChunkdeneb"]||[]).push([[297],{7642:function(o,e,t){t.r(e),t.d(e,{default:function(){return Zo}});var a=t(3396);const s={id:"library"};function l(o,e,t,l,n,i){const r=(0,a.up)("library-side-bar"),c=(0,a.up)("bookcase-contents");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a.Wm)(r,{sideBar:n.sideBar,bookcase:n.bookcase.bookcase,onToggle:e[0]||(e[0]=o=>n.sideBar=!n.sideBar),onSelect:i.select},null,8,["sideBar","bookcase","onSelect"]),(0,a.Wm)(c,{sideBar:n.sideBar,bookcase:n.bookcase.bookcase,bookcaseIndex:n.bookcaseIndex,onSelect:i.select},null,8,["sideBar","bookcase","bookcaseIndex","onSelect"])])}var n=t(7139);const i=o=>((0,a.dD)("data-v-24f643e0"),o=o(),(0,a.Cn)(),o),r={class:"sideBar-header elevation-3"},c=i((()=>(0,a._)("span",null,"안녕",-1)));function d(o,e,t,s,l,i){const d=(0,a.up)("v-btn"),k=(0,a.up)("v-icon"),m=(0,a.up)("draggable"),u=(0,a.up)("create-bookcase");return(0,a.wg)(),(0,a.iD)("div",{class:(0,n.C_)(["sideBar elevation-3",{hide:!t.sideBar}])},[(0,a.Wm)(m,{tag:"div",class:"bookcase-group",modelValue:i.library,"onUpdate:modelValue":e[2]||(e[2]=o=>i.library=o),"item-key":"bookcase_seq"},{header:(0,a.w5)((()=>[(0,a._)("div",r,[c,(0,a.Wm)(d,{variant:"plain",class:"toggle",icon:t.sideBar?"mdi-chevron-left":"mdi-chevron-right",onClick:e[0]||(e[0]=o=>this.$emit("toggle"))},null,8,["icon"])])])),item:(0,a.w5)((({element:o,index:e})=>[(0,a.Wm)(d,{block:"",class:(0,n.C_)(["bookcase",{selected:o.bookcase.bookcase_seq===this.bookcase.bookcase_seq}]),onClick:o=>i.select(e)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(o.bookcase.bookcase_name),1)])),_:2},1032,["class","onClick"])])),footer:(0,a.w5)((()=>[(0,a.Wm)(d,{block:"",class:"bookcase-create",onClick:e[1]||(e[1]=o=>l.createBookcase=!0)},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{icon:"mdi-plus-box-multiple",color:"grey"})])),_:1})])),_:1},8,["modelValue"]),l.createBookcase?((0,a.wg)(),(0,a.j4)(u,{key:0,onClose:e[3]||(e[3]=o=>l.createBookcase=!1),onSelect:i.select},null,8,["onSelect"])):(0,a.kq)("",!0)],2)}t(7658);const k={class:"modal__title"},m={class:"modal__content"};function u(o,e,t,s,l,i){const r=(0,a.up)("v-icon"),c=(0,a.up)("v-radio"),d=(0,a.up)("v-col"),u=(0,a.up)("v-row"),b=(0,a.up)("v-radio-group"),h=(0,a.up)("v-text-field"),_=(0,a.up)("v-responsive"),p=(0,a.up)("loading-button"),v=(0,a.up)("vue-final-modal");return(0,a.wg)(),(0,a.j4)(v,{modelValue:l.showModal,"onUpdate:modelValue":e[3]||(e[3]=o=>l.showModal=o),classes:"modal-container","content-class":"modal-content elevation-3","lock-scroll":!0,"click-to-close":!0,"esc-to-close":!0,onClosed:i.close},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{icon:"mdi-close",class:"modal__close",color:"#808080",onClick:e[0]||(e[0]=o=>l.showModal=!1)}),(0,a._)("span",k,[(0,a.Wm)(r,{icon:"mdi-bookshelf",size:"x-large"})]),(0,a._)("div",m,[(0,a.Wm)(b,{class:"mb-3",modelValue:l.inputCode,"onUpdate:modelValue":e[1]||(e[1]=o=>l.inputCode=o),inline:"","hide-details":""},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{cols:"6",class:"text-end"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{label:"직접 생성",value:!1,color:"indigo"})])),_:1}),(0,a.Wm)(d,{cols:"6",class:"text-start"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{label:"코드 입력",value:!0,color:"indigo"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(_,{class:"mx-auto","max-width":"256"},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{variant:"underlined",label:l.inputCode?"공유 코드":"이름",modelValue:l.bookcase_name,"onUpdate:modelValue":e[2]||(e[2]=o=>l.bookcase_name=o),class:(0,n.C_)({invalid:""===l.bookcase_name}),rules:[l.rules.required],counter:"",maxlength:"12"},null,8,["label","modelValue","class","rules"])])),_:1}),(0,a.Wm)(p,{text:l.text,loading:l.loading,onClick:i.create},null,8,["text","loading","onClick"])])])),_:1},8,["modelValue","onClosed"])}var b=t(2848),h=t(4860),_={components:{VueFinalModal:b.iR,LoadingButton:h.Z},data(){return{showModal:!0,text:"확인",loading:!1,inputCode:!1,bookcase_name:"",rules:{required:o=>!!o||""}}},setup(){},created(){},mounted(){},unmounted(){},methods:{close(){this.showModal=!0,this.$emit("close")},async create(){const o=document.querySelectorAll(".invalid");if(this.loading||!this.$isValid(o))return!1;this.text="",this.loading=!0;const e=this.inputCode?"/share/import":"/bookcase/create",t={user_email:this.$store.state.accountStore.account.user_email,user_pw:this.$store.state.accountStore.account.user_pw,[this.inputCode?"share_code":"bookcase_name"]:this.bookcase_name},a=await this.$axios.post(e,null,{params:t});if(!a.data&&this.inputCode){const o={icon:"error",html:"<strong>공유 코드가 유효하지 않아요.</strong>"};return this.$swal.fire(o).then((o=>{(o.isConfirmed||o.isDismissed)&&(this.text="확인",this.loading=!1)})),!1}this.$store.commit("addBookcase",{bookcase:a.data}),this.$emit("select",this.$store.state.bookStore.library.length-1),this.close()}}},p=t(89);const v=(0,p.Z)(_,[["render",u],["__scopeId","data-v-c1f7230e"]]);var g=v,x=t(5800),w={props:{sideBar:Boolean,bookcase:Object},components:{CreateBookcase:g,Draggable:x.Z},data(){return{createBookcase:!1}},setup(){},created(){},mounted(){},unmounted(){},computed:{library:{get(){return this.$store.state.bookStore.library},set(o){const e=[];o.forEach((o=>{e.push(o.bookcase.bookcase_seq)}));const t="/bookcase/order",a={user_email:this.$store.state.accountStore.account.user_email,user_pw:this.$store.state.accountStore.account.user_pw,bookcase_order:encodeURIComponent(e)};this.$axios.post(t,null,{params:a}),this.$store.commit("editBookcaseOrder",o);const s=this.$store.state.bookStore.library.findIndex((o=>o.bookcase.bookcase_seq===this.bookcase.bookcase_seq));this.$emit("select",s)}}},methods:{select(o){this.$emit("select",o)},log(o,e){console.log(o),console.log(e)}}};const B=(0,p.Z)(w,[["render",d],["__scopeId","data-v-24f643e0"]]);var f=B,C=t(9242);const I=o=>((0,a.dD)("data-v-a2176e1a"),o=o(),(0,a.Cn)(),o),y={class:"title elevation-1"},V={class:"title-text"},$=["value"],W={class:"title-button-group"},q=I((()=>(0,a._)("hr",null,null,-1))),M={class:"contents"};function S(o,e,t,s,l,i){const r=(0,a.up)("v-icon"),c=(0,a.up)("v-btn"),d=(0,a.up)("book-list"),k=(0,a.up)("create-book"),m=(0,a.up)("edit-book"),u=(0,a.up)("move-book"),b=(0,a.up)("create-bookmark"),h=(0,a.up)("edit-bookmark"),_=(0,a.up)("share-bookcase");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",{class:(0,n.C_)(["library-container",{extend:!t.sideBar}])},[(0,a._)("div",y,[(0,a._)("div",V,[(0,a._)("input",{ref:"editName",value:t.bookcase.bookcase_name,onFocusin:e[0]||(e[0]=o=>l.editable=!0),onFocusout:e[1]||(e[1]=(...o)=>i.editName&&i.editName(...o)),onKeydown:[e[2]||(e[2]=(0,C.D2)(((...o)=>i.editName&&i.editName(...o)),["enter"])),e[3]||(e[3]=(0,C.D2)(((...o)=>i.escapeEdit&&i.escapeEdit(...o)),["esc"]))],maxlength:"20"},null,40,$)]),(0,a._)("div",W,[(0,a.Wm)(c,{class:"title-button elevation-3",color:"red",onClick:i.deleteBookcase},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-delete")])),_:1}),(0,a.Uk)(" Delete ")])),_:1},8,["onClick"]),(0,a.Wm)(c,{class:"title-button elevation-3",color:"blue",onClick:i.openShare},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-share")])),_:1}),(0,a.Uk)(" Share ")])),_:1},8,["onClick"])])]),q,(0,a._)("div",M,[(0,a.Wm)(d,{bookcase:t.bookcase,bookcaseIndex:t.bookcaseIndex,onOpenModal:i.openModal,onSetBook:i.setBook,onSetBookmark:i.setBookmark},null,8,["bookcase","bookcaseIndex","onOpenModal","onSetBook","onSetBookmark"])])],2),l.createBook?((0,a.wg)(),(0,a.j4)(k,{key:0,bookcase:t.bookcase,bookcaseIndex:t.bookcaseIndex,onClose:i.closeModal},null,8,["bookcase","bookcaseIndex","onClose"])):(0,a.kq)("",!0),l.editBook?((0,a.wg)(),(0,a.j4)(m,{key:1,book:l.book,bookIndex:l.bookIndex,bookcaseIndex:t.bookcaseIndex,onClose:i.closeModal},null,8,["book","bookIndex","bookcaseIndex","onClose"])):(0,a.kq)("",!0),l.moveBook?((0,a.wg)(),(0,a.j4)(u,{key:2,book:l.book,bookcase:t.bookcase,bookcaseIndex:t.bookcaseIndex,onClose:i.closeModal},null,8,["book","bookcase","bookcaseIndex","onClose"])):(0,a.kq)("",!0),l.createBookmark?((0,a.wg)(),(0,a.j4)(b,{key:3,book:l.book,bookIndex:l.bookIndex,bookcaseIndex:t.bookcaseIndex,onClose:i.closeModal},null,8,["book","bookIndex","bookcaseIndex","onClose"])):(0,a.kq)("",!0),l.editBookmark?((0,a.wg)(),(0,a.j4)(h,{key:4,bookmark:l.bookmark,bookmarkIndex:l.bookmarkIndex,bookIndex:l.bookIndex,bookcaseIndex:t.bookcaseIndex,onClose:i.closeModal},null,8,["bookmark","bookmarkIndex","bookIndex","bookcaseIndex","onClose"])):(0,a.kq)("",!0),l.shareBookcase?((0,a.wg)(),(0,a.j4)(_,{key:5,bookcase:t.bookcase,bookcaseIndex:t.bookcaseIndex,onClose:i.closeModal},null,8,["bookcase","bookcaseIndex","onClose"])):(0,a.kq)("",!0)],64)}var U=t(4975);const D={class:"modal__title"},j={class:"modal__content"},N=["onClick"],L=["onClick"];function z(o,e,t,s,l,i){const r=(0,a.up)("v-icon"),c=(0,a.up)("v-text-field"),d=(0,a.up)("v-responsive"),k=(0,a.up)("loading-button"),m=(0,a.up)("vue-final-modal");return(0,a.wg)(),(0,a.j4)(m,{modelValue:l.showModal,"onUpdate:modelValue":e[6]||(e[6]=o=>l.showModal=o),classes:"modal-container","content-class":"modal-content elevation-3","lock-scroll":!0,"click-to-close":!0,"esc-to-close":!0,onClosed:i.close},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{icon:"mdi-close",class:"modal__close",color:"#808080",onClick:e[0]||(e[0]=o=>l.showModal=!1)}),(0,a._)("span",D,[(0,a.wy)((0,a._)("input",{type:"color",class:"color-custom","onUpdate:modelValue":e[1]||(e[1]=o=>l.book_color=o)},null,512),[[C.nr,l.book_color]]),(0,a.Wm)(r,{icon:"mdi-book-open-page-variant",size:"x-large",color:l.book_color},null,8,["color"])]),(0,a._)("div",j,[(0,a._)("div",null,[(0,a._)("fieldset",null,[(0,a._)("legend",null,[(0,a.Uk)("Book color "),(0,a.wy)((0,a._)("input",{style:{position:"absolute"},type:"color","onUpdate:modelValue":e[2]||(e[2]=o=>l.book_color=o)},null,512),[[C.nr,l.book_color]])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.colors,(o=>((0,a.wg)(),(0,a.iD)("span",{class:"color-filter",key:o},[(0,a._)("div",{class:"color-pick",style:(0,n.j5)({"background-color":o}),onClick:e=>l.book_color=o},null,12,N)])))),128))])]),(0,a._)("div",null,[(0,a._)("fieldset",null,[(0,a._)("legend",null,[(0,a.Uk)("Icon "),(0,a.wy)((0,a._)("input",{style:{position:"absolute"},type:"color","onUpdate:modelValue":e[3]||(e[3]=o=>l.icon_color=o)},null,512),[[C.nr,l.icon_color]])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.icons,(o=>((0,a.wg)(),(0,a.j4)(r,{class:(0,n.C_)(["icon",{selected:o===this.icon}]),key:o,icon:o,color:l.icon_color,onClick:e=>this.icon=o},null,8,["class","icon","color","onClick"])))),128)),(0,a._)("div",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.colors,(o=>((0,a.wg)(),(0,a.iD)("span",{class:"color-filter my-3",key:o},[(0,a._)("div",{class:"color-pick",style:(0,n.j5)({"background-color":o}),onClick:e=>l.icon_color=o},null,12,L)])))),128))])])]),(0,a.Wm)(d,{class:"mx-auto my-3","max-width":"320"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{variant:"underlined",label:"이름",modelValue:l.book_name,"onUpdate:modelValue":e[4]||(e[4]=o=>l.book_name=o),class:(0,n.C_)({invalid:""===l.book_name}),rules:[l.rules.required],counter:"",maxlength:"12"},null,8,["modelValue","class","rules"]),"Video"===l.book_type?((0,a.wg)(),(0,a.j4)(c,{key:0,class:(0,n.C_)(["text-start",{invalid:"Video"===l.book_type&&(""===l.video_url||!l.video_valid)}]),variant:"underlined",label:"URL",modelValue:l.video_url,"onUpdate:modelValue":e[5]||(e[5]=o=>l.video_url=o),rules:[l.rules.required],loading:l.video_loading,hint:l.hint,"persistent-hint":"",onChange:i.getVideoData},null,8,["modelValue","class","rules","loading","hint","onChange"])):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(k,{text:l.text,loading:l.loading,onClick:i.edit},null,8,["text","loading","onClick"])])])),_:1},8,["modelValue","onClosed"])}var O={props:{book:Object,bookcaseIndex:Number,bookIndex:Number},components:{VueFinalModal:b.iR,LoadingButton:h.Z},data(){return{showModal:!0,text:"변경",loading:!1,book_type:this.book.book_type,book_name:this.book.book_name,video_url:"https://youtu.be/"+this.book.video_id,video_loading:!1,hint:"",video_valid:!0,book_color:this.book.book_color,colors:["#9896A4","#F7C9C9","#F7776A","#DD4132","#F9E03D","#78C752","#97DDDD","#91A8D1","#034F83","#B18F6A"],icon:this.book.book_icon,icon_color:this.book.book_icon_color,icons:["mdi-book-multiple","mdi-star","mdi-heart","mdi-youtube","mdi-forum","mdi-cart","mdi-controller","mdi-silverware-fork-knife","mdi-information","mdi-briefcase"],rules:{required:o=>!!o||""}}},setup(){},created(){this.getVideoData(this.video_url)},mounted(){},unmounted(){},methods:{close(){this.showModal=!0,this.$emit("close","editBook")},async edit(){const o=document.querySelectorAll(".invalid");if(this.loading||!this.$isValid(o))return!1;this.text="",this.loading=!0;const e="/book/edit",t={book_seq:this.book.book_seq,book_name:this.book_name,book_color:this.book_color,book_icon:this.icon,book_icon_color:this.icon_color,video_id:this.getId(this.video_url)},a=await this.$axios.post(e,null,{params:t});if(!a.data)return!1;this.$store.commit("editBook",{book:a.data.book,bookcaseIndex:this.bookcaseIndex,bookIndex:this.bookIndex}),this.close()},async getVideoData(){const o=this.getId(this.video_url);if(null===o)return this.hint="* 올바른 형식의 URL을 입력하세요.",this.video_valid=!1,!1;this.video_loading=!0;const e="https://www.googleapis.com/youtube/v3/videos",t={part:"snippet",id:o,key:"AIzaSyDyq-JOF0s6xKnoBl1ZrQ1vadozAv7Xzss"},a=await this.$axios.get(e,{params:t});if(this.video_loading=!1,0===a.data.items.length)return this.hint="* 동영상을 찾을 수 없어요.",this.video_valid=!1,!1;const s=a.data.items[0].snippet.title;this.hint=s.length<25?"* "+s:"* "+s.slice(0,24)+"...",this.video_valid=!0},getId(o){const e=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;return null===o.match(e)?null:o.match(e)[2]}}};const Z=(0,p.Z)(O,[["render",z],["__scopeId","data-v-5c1f5c27"]]);var F=Z;const T={class:"modal__title"},R={class:"book-name"},E={class:"modal__content"};function A(o,e,t,s,l,i){const r=(0,a.up)("v-icon"),c=(0,a.up)("v-text-field"),d=(0,a.up)("v-select"),k=(0,a.up)("v-responsive"),m=(0,a.up)("loading-button"),u=(0,a.up)("vue-final-modal");return(0,a.wg)(),(0,a.j4)(u,{modelValue:l.showModal,"onUpdate:modelValue":e[2]||(e[2]=o=>l.showModal=o),classes:"modal-container","content-class":"modal-content elevation-3","lock-scroll":!0,"click-to-close":!0,"esc-to-close":!0,onClosed:i.close},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{icon:"mdi-close",class:"modal__close",color:"#808080",onClick:e[0]||(e[0]=o=>l.showModal=!1)}),(0,a._)("span",T,[(0,a.Wm)(r,{icon:"mdi-folder-move",size:"x-large",color:this.book.book_color},null,8,["color"]),(0,a._)("div",R,(0,n.zw)(this.book.book_name),1)]),(0,a._)("div",E,[(0,a.Wm)(k,{class:"mx-auto","max-width":"256"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{class:"mb-7",variant:"filled",label:"from","model-value":this.bookcase.bookcase_name,readonly:"","hide-details":""},null,8,["model-value"]),(0,a.Wm)(r,{icon:"mdi-arrow-down-bold",size:"large",style:{margin:"0 0 1rem"}}),(0,a.Wm)(d,{class:"destination mb-7",variant:"filled",label:"to",modelValue:l.select,"onUpdate:modelValue":e[1]||(e[1]=o=>l.select=o),items:l.items,"item-title":"bookcase.bookcase_name","return-object":"","hide-details":""},null,8,["modelValue","items"])])),_:1}),(0,a.Wm)(m,{text:l.text,loading:l.loading,onClick:i.move},null,8,["text","loading","onClick"])])])),_:1},8,["modelValue","onClosed"])}var Y={props:{book:Object,bookcase:Object,bookcaseIndex:Number},components:{VueFinalModal:b.iR,LoadingButton:h.Z},data(){return{showModal:!0,text:"이동",loading:!1,book_name:this.book.book_name,select:null,items:null}},setup(){},created(){const o=[];for(let e=0;e<this.$store.state.bookStore.library.length;e++)e!==this.bookcaseIndex&&o.push(this.$store.state.bookStore.library[e]);this.select=o[0],this.items=o},mounted(){},unmounted(){},methods:{close(){this.showModal=!0,this.$emit("close","moveBook")},async move(){this.text="",this.loading=!0;const o="/book/move",e={user_email:this.$store.state.accountStore.account.user_email,user_pw:this.$store.state.accountStore.account.user_pw,book_seq:this.book.book_seq,origin_seq:this.bookcase.bookcase_seq,destination_seq:this.select.bookcase.bookcase_seq},t=await this.$axios.post(o,null,{params:e});if(!t.data)return!1;this.$store.commit("moveBook",t.data),this.close()}}};const K=(0,p.Z)(Y,[["render",A],["__scopeId","data-v-2511b0e8"]]);var H=K;const J={class:"modal__title"},Q={class:"modal__content"};function X(o,e,t,s,l,i){const r=(0,a.up)("v-icon"),c=(0,a.up)("v-text-field"),d=(0,a.up)("v-textarea"),k=(0,a.up)("v-responsive"),m=(0,a.up)("loading-button"),u=(0,a.up)("vue-final-modal");return(0,a.wg)(),(0,a.j4)(u,{modelValue:l.showModal,"onUpdate:modelValue":e[4]||(e[4]=o=>l.showModal=o),classes:"modal-container","content-class":"modal-content elevation-3","lock-scroll":!0,"click-to-close":!0,"esc-to-close":!0,onClosed:i.close},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{icon:"mdi-close",class:"modal__close",color:"#808080",onClick:e[0]||(e[0]=o=>l.showModal=!1)}),(0,a._)("span",J,[(0,a.Wm)(r,{icon:"mdi-bookmark-multiple",size:"x-large"})]),(0,a._)("div",Q,[(0,a.Wm)(k,{class:"mx-auto","max-width":"256"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{variant:"underlined",label:"이름",modelValue:l.bookmark_name,"onUpdate:modelValue":e[1]||(e[1]=o=>l.bookmark_name=o),class:(0,n.C_)({invalid:""===l.bookmark_name}),rules:[l.rules.required],counter:"",maxlength:"12"},null,8,["modelValue","class","rules"]),(0,a.Wm)(c,{class:(0,n.C_)(["mb-7",{invalid:""===l.bookmark_url}]),variant:"underlined",label:"URL",modelValue:l.bookmark_url,"onUpdate:modelValue":e[2]||(e[2]=o=>l.bookmark_url=o),rules:[l.rules.required],"hide-details":"",maxlength:"1000"},null,8,["modelValue","class","rules"]),(0,a.Wm)(d,{variant:"outlined",label:"메모",modelValue:l.bookmark_memo,"onUpdate:modelValue":e[3]||(e[3]=o=>l.bookmark_memo=o),"no-resize":"",rows:"3",counter:"",maxlength:"60"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(m,{text:l.text,loading:l.loading,onClick:i.create},null,8,["text","loading","onClick"])])])),_:1},8,["modelValue","onClosed"])}var G={props:{book:Object,bookcaseIndex:Number,bookIndex:Number},components:{VueFinalModal:b.iR,LoadingButton:h.Z},data(){return{showModal:!0,text:"생성",loading:!1,bookmark_name:"",bookmark_url:"",bookmark_memo:"",bookmark_icon:"",rules:{required:o=>!!o||""}}},setup(){},created(){},mounted(){},unmounted(){},methods:{close(){this.showModal=!0,this.$emit("close","createBookmark")},async create(){const o=document.querySelectorAll(".invalid");if(this.loading||!this.$isValid(o))return!1;this.text="",this.loading=!0;const e="/bookmark/create",t={parent_book_seq:this.book.book_seq,bookmark_name:this.bookmark_name,bookmark_url:this.bookmark_url,bookmark_memo:this.bookmark_memo,bookmark_icon:this.bookmark_icon},a=await this.$axios.post(e,null,{params:t});if(!a.data)return!1;this.$store.commit("addBookmark",{bookmark:a.data,bookcaseIndex:this.bookcaseIndex,bookIndex:this.bookIndex}),this.close()}}};const P=(0,p.Z)(G,[["render",X],["__scopeId","data-v-4d1b0f66"]]);var oo=P;const eo={class:"book-title d-flex align-center handle elevation-3"},to={class:"pl-3"},ao=["onDrop"],so={key:0},lo={key:1},no={class:"book-tools elevation-3"};function io(o,e,t,s,l,i){const r=(0,a.up)("v-icon"),c=(0,a.up)("v-btn"),d=(0,a.up)("bookmark-list"),k=(0,a.up)("YouTube"),m=(0,a.up)("v-expand-transition"),u=(0,a.up)("draggable");return(0,a.wg)(),(0,a.j4)(u,{tag:"div",class:"book-group",modelValue:i.bookList,"onUpdate:modelValue":e[1]||(e[1]=o=>i.bookList=o),"item-key":"book.book_seq",handle:".handle"},{item:(0,a.w5)((({element:o,index:e})=>[(0,a._)("div",{class:(0,n.C_)("Bookmark"===o.book.book_type?"book":"video-book")},[(0,a._)("div",eo,[(0,a.Wm)(r,{icon:o.book.book_icon,color:o.book.book_icon_color,size:"small"},null,8,["icon","color"]),(0,a._)("div",to,(0,n.zw)(o.book.book_name),1),(0,a.Wm)(c,{class:"book-fold",variant:"plain",icon:"Y"===o.book.book_open?"mdi-chevron-up":"mdi-chevron-down",onClick:t=>i.setBookState(o.book,e)},null,8,["icon","onClick"])]),(0,a._)("div",{class:"elevation-1",style:(0,n.j5)([{height:"0.8rem"},{background:`linear-gradient( to right,\n          ${o.book.book_color} 90%,\n          ${o.book.book_color+"64"}`}])},null,4),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",{class:"book-content elevation-3",onDrop:t=>{l.targetBook=o.book,l.targetBookIndex=e}},["Bookmark"===o.book.book_type?((0,a.wg)(),(0,a.iD)("div",so,[(0,a.Wm)(d,{book:o.book,bookcaseIndex:t.bookcaseIndex,bookIndex:e,targetBook:l.targetBook,targetBookIndex:l.targetBookIndex,onOpenModal:t=>i.openModal(o.book,e,"editBookmark"),onSetBookmark:i.setBookmark},null,8,["book","bookcaseIndex","bookIndex","targetBook","targetBookIndex","onOpenModal","onSetBookmark"]),(0,a.Wm)(c,{block:"",variant:"text",class:"bookmark-create",onClick:t=>i.openModal(o.book,e,"createBookmark")},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{icon:"mdi-book-plus",color:"blue lighten-3"})])),_:2},1032,["onClick"])])):(0,a.kq)("",!0),"Video"===o.book.book_type?((0,a.wg)(),(0,a.iD)("div",lo,[(0,a.Wm)(k,{src:"https://www.youtube.com/watch?v="+o.book.video_id,vars:{start:o.book.video_time},ref:`youtube${e}`,width:"288",height:"200",onStateChange:t=>i.onStateChange(e,o.book.book_seq)},null,8,["src","vars","onStateChange"])])):(0,a.kq)("",!0)],40,ao),[[C.F8,"Y"===o.book.book_open]])])),_:2},1024),(0,a._)("div",no,[(0,a.Wm)(c,{variant:"plain",icon:"mdi-pencil-box-multiple",onClick:t=>i.openModal(o.book,e,"editBook")},null,8,["onClick"]),(0,a.Wm)(c,{variant:"plain",icon:"mdi-folder-move",onClick:t=>i.moveBook(o.book,e)},null,8,["onClick"]),(0,a.Wm)(c,{variant:"plain",icon:"mdi-delete",onClick:e=>i.deleteBook(o.book)},null,8,["onClick"])])],2)])),footer:(0,a.w5)((()=>[(0,a.Wm)(c,{variant:"text",class:"book book-create elevation-3",onClick:e[0]||(e[0]=o=>this.$emit("openModal","createBook"))},{default:(0,a.w5)((()=>[(0,a.Wm)(r,null,{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-view-grid-plus")])),_:1})])),_:1})])),_:1},8,["modelValue"])}const ro=o=>((0,a.dD)("data-v-31a32dc2"),o=o(),(0,a.Cn)(),o),co=["onMouseenter","onMouseleave"],ko=["src"],mo=["href"],uo=ro((()=>(0,a._)("br",null,null,-1))),bo=ro((()=>(0,a._)("br",null,null,-1))),ho={class:"ml-auto"};function _o(o,e,t,s,l,i){const r=(0,a.up)("v-tooltip"),c=(0,a.up)("v-btn"),d=(0,a.up)("draggable");return(0,a.wg)(),(0,a.j4)(d,{tag:"div",class:"bookmark-group",modelValue:i.bookmarkList,"onUpdate:modelValue":e[0]||(e[0]=o=>i.bookmarkList=o),"item-key":"bookmark.seq",group:"bookmark",onChange:i.moveBookmark},{item:(0,a.w5)((({element:o,index:e})=>[(0,a._)("div",{class:"bookmark d-flex align-center",onMouseenter:o=>l.showTools[e]=!0,onMouseleave:o=>l.showTools[e]=!1},[(0,a._)("img",{src:"https://www.google.com/s2/favicons?domain="+o.bookmark_url,alt:"favicon"},null,8,ko),(0,a._)("a",{class:"px-1",href:i.getUrlFormat(o.bookmark_url),target:"_blank"},[(0,a.Uk)((0,n.zw)(o.bookmark_name)+" ",1),(0,a.Wm)(r,{activator:"parent",location:"top","max-width":"360"},{default:(0,a.w5)((()=>[(0,a.Uk)(" URL : "+(0,n.zw)(o.bookmark_url)+" ",1),uo,bo,(0,a.Uk)(" MEMO : "+(0,n.zw)(o.bookmark_memo),1)])),_:2},1024)],8,mo),(0,a._)("div",ho,[(0,a.Wm)(c,{class:(0,n.C_)(["bookmark-tools",{show:l.showTools[e]}]),variant:"plain",icon:"mdi-book-remove",color:"red",size:"small",onClick:t=>i.deleteBookmark(o,e)},null,8,["class","onClick"]),(0,a.Wm)(c,{class:(0,n.C_)(["bookmark-tools",{show:l.showTools[e]}]),variant:"plain",icon:"mdi-book-edit",size:"small",onClick:t=>i.editBookmark(o,e)},null,8,["class","onClick"])])],40,co)])),_:1},8,["modelValue","onChange"])}var po={props:{book:Object,targetBook:Object,bookcaseIndex:Number,bookIndex:Number,targetBookIndex:Number},components:{Draggable:x.Z},data(){return{showTools:[],setValue:null}},setup(){},created(){},mounted(){},unmounted(){},computed:{bookmarkList:{get(){return this.$store.state.bookStore.library[this.bookcaseIndex].bookList[this.bookIndex].bookmarkList},set(o){this.setValue=o}}},methods:{getUrlFormat(o){const e=o.startsWith("http://")||o.startsWith("https://");return e?o:"http://"+o},editBookmark(o,e){this.$emit("openModal"),this.$emit("setBookmark",{bookmark:o,bookmarkIndex:e})},async deleteBookmark(o,e){const t="/bookmark/delete",a={bookmark_seq:o.bookmark_seq},s=await this.$axios.post(t,null,{params:a});if(!s.data)return!1;this.$store.commit("delBookmark",{bookcaseIndex:this.bookcaseIndex,bookIndex:this.bookIndex,bookmarkIndex:e})},async moveBookmark(o){const e=this.setValue,t=[];e.forEach((o=>{t.push(o.bookmark_seq)}));const a="/bookmark/order",s={book_seq:this.book.book_seq,bookmark_order:encodeURIComponent(t)};await this.$axios.post(a,null,{params:s});const l={bookmarkList:e,bookcaseIndex:this.bookcaseIndex,bookIndex:this.bookIndex};if(this.$store.commit("editBookmarkOrder",l),void 0!==o.removed){const e=o.removed.element,t="/bookmark/move",a={bookmark_seq:e.bookmark_seq,parent_book_seq:this.targetBook.book_seq},s=await this.$axios.post(t,null,{params:a});this.$store.commit("moveBookmark",{bookmark:s.data,bookIndex:this.targetBookIndex,bookcaseIndex:this.bookcaseIndex})}}}};const vo=(0,p.Z)(po,[["render",_o],["__scopeId","data-v-31a32dc2"]]);var go=vo,xo={props:{bookcase:Object,bookcaseIndex:Number},components:{BookmarkList:go,Draggable:x.Z},data(){return{targetBook:null,targetBookIndex:null}},setup(){},created(){},mounted(){},unmounted(){},computed:{bookList:{get(){return this.$store.state.bookStore.library[this.bookcaseIndex].bookList},set(o){const e=[];o.forEach((o=>{e.push(o.book.book_seq)}));const t="/book/order",a={bookcase_seq:this.bookcase.bookcase_seq,book_order:encodeURIComponent(e)};this.$axios.post(t,null,{params:a}),this.$store.commit("editBookOrder",{book:o,bookcaseIndex:this.bookcaseIndex})}}},methods:{openModal(o,e,t){this.$emit("setBook",{book:o,bookIndex:e}),this.$emit("openModal",t)},setBookState(o,e){const t="Y"===o.book_open?"N":"Y",a="/book/state",s={book_seq:o.book_seq,book_open:t};this.$axios.post(a,null,{params:s}),this.$store.commit("editBookState",{value:t,bookIndex:e,bookcaseIndex:this.bookcaseIndex})},deleteBook(o){const e={html:"<strong>"+o.book_name+"</strong><br>폴더를 삭제할거에요.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"예",cancelButtonText:"아니오"};this.$swal.fire(e).then((async e=>{if(e.isConfirmed){const e="/book/delete",t={book_seq:o.book_seq},a=await this.$axios.post(e,null,{params:t});if(!a.data)return!1;this.$store.commit("delBook",{book:o,bookcaseIndex:this.bookcaseIndex})}}))},moveBook(o,e){if(this.$store.state.bookStore.library.length<=1){const o={icon:"error",html:"<strong>이동할 페이지가 존재하지 않아요.</strong>"};return this.$swal.fire(o),!1}this.openModal(o,e,"moveBook")},setBookmark(o){this.$emit("setBookmark",o)},onStateChange(o,e){const t=JSON.parse(event.data).info;if(2===t){const t=Math.floor(this.$refs[`youtube${o}`].getCurrentTime()),a="/book/time",s={book_seq:e,video_time:t};this.$axios.post(a,null,{params:s}),this.$store.commit("editVideoTime",{value:t,bookcaseIndex:this.bookcaseIndex,bookIndex:o})}}}};const wo=(0,p.Z)(xo,[["render",io],["__scopeId","data-v-b9045974"]]);var Bo=wo;const fo={class:"modal__title"},Co={class:"modal__content"};function Io(o,e,t,s,l,i){const r=(0,a.up)("v-icon"),c=(0,a.up)("v-text-field"),d=(0,a.up)("v-textarea"),k=(0,a.up)("v-responsive"),m=(0,a.up)("loading-button"),u=(0,a.up)("vue-final-modal");return(0,a.wg)(),(0,a.j4)(u,{modelValue:l.showModal,"onUpdate:modelValue":e[4]||(e[4]=o=>l.showModal=o),classes:"modal-container","content-class":"modal-content elevation-3","lock-scroll":!0,"click-to-close":!0,"esc-to-close":!0,onClosed:i.close},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{icon:"mdi-close",class:"modal__close",color:"#808080",onClick:e[0]||(e[0]=o=>l.showModal=!1)}),(0,a._)("span",fo,[(0,a.Wm)(r,{icon:"mdi-bookmark-multiple",size:"x-large"})]),(0,a._)("div",Co,[(0,a.Wm)(k,{class:"mx-auto","max-width":"256"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{variant:"underlined",label:"이름",modelValue:l.bookmark_name,"onUpdate:modelValue":e[1]||(e[1]=o=>l.bookmark_name=o),class:(0,n.C_)({invalid:""===l.bookmark_name}),rules:[l.rules.required],counter:"",maxlength:"12"},null,8,["modelValue","class","rules"]),(0,a.Wm)(c,{class:(0,n.C_)(["mb-7",{invalid:""===l.bookmark_url}]),variant:"underlined",label:"URL",modelValue:l.bookmark_url,"onUpdate:modelValue":e[2]||(e[2]=o=>l.bookmark_url=o),rules:[l.rules.required],"hide-details":"",maxlength:"1000"},null,8,["modelValue","class","rules"]),(0,a.Wm)(d,{variant:"outlined",label:"메모",modelValue:l.bookmark_memo,"onUpdate:modelValue":e[3]||(e[3]=o=>l.bookmark_memo=o),"no-resize":"",rows:"3",counter:"",maxlength:"60"},null,8,["modelValue"])])),_:1}),(0,a.Wm)(m,{text:l.text,loading:l.loading,onClick:i.edit},null,8,["text","loading","onClick"])])])),_:1},8,["modelValue","onClosed"])}var yo={props:{bookmark:Object,bookcaseIndex:Number,bookIndex:Number,bookmarkIndex:Number},components:{VueFinalModal:b.iR,LoadingButton:h.Z},data(){return{showModal:!0,text:"변경",loading:!1,bookmark_seq:this.bookmark.bookmark_seq,parent_book_seq:this.bookmark.parent_book_seq,bookmark_name:this.bookmark.bookmark_name,bookmark_url:this.bookmark.bookmark_url,bookmark_memo:this.bookmark.bookmark_memo,bookmark_icon:"",rules:{required:o=>!!o||""}}},setup(){},created(){},mounted(){},unmounted(){},methods:{close(){this.showModal=!0,this.$emit("close","editBookmark")},async edit(){const o=document.querySelectorAll(".invalid");if(this.loading||!this.$isValid(o))return!1;this.text="",this.loading=!0;const e="/bookmark/edit",t={bookmark_seq:this.bookmark_seq,parent_book_seq:this.parent_book_seq,bookmark_name:this.bookmark_name,bookmark_url:this.bookmark_url,bookmark_memo:this.bookmark_memo,bookmark_icon:this.bookmark_icon},a=await this.$axios.post(e,null,{params:t});if(!a.data)return!1;this.$store.commit("editBookmark",{bookmark:a.data,bookcaseIndex:this.bookcaseIndex,bookIndex:this.bookIndex,bookmarkIndex:this.bookmarkIndex}),this.close()}}};const Vo=(0,p.Z)(yo,[["render",Io],["__scopeId","data-v-6fa80864"]]);var $o=Vo;const Wo={class:"modal__title"},qo={class:"modal__content"};function Mo(o,e,t,s,l,i){const r=(0,a.up)("v-icon"),c=(0,a.up)("v-radio"),d=(0,a.up)("v-col"),k=(0,a.up)("v-row"),m=(0,a.up)("v-radio-group"),u=(0,a.up)("v-text-field"),b=(0,a.up)("v-textarea"),h=(0,a.up)("v-combobox"),_=(0,a.up)("v-chip"),p=(0,a.up)("v-slide-group-item"),v=(0,a.up)("v-slide-group"),g=(0,a.up)("v-responsive"),x=(0,a.up)("v-expand-transition"),w=(0,a.up)("loading-button"),B=(0,a.up)("vue-final-modal");return(0,a.wg)(),(0,a.j4)(B,{modelValue:l.showModal,"onUpdate:modelValue":e[5]||(e[5]=o=>l.showModal=o),classes:"modal-container","content-class":"modal-content elevation-3","lock-scroll":!0,"click-to-close":!0,"esc-to-close":!0,onClosed:i.close},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{icon:"mdi-close",class:"modal__close",color:"#808080",onClick:e[0]||(e[0]=o=>l.showModal=!1)}),(0,a._)("span",Wo,[(0,a.Wm)(r,{icon:"mdi-share",size:"x-large"})]),(0,a._)("div",qo,[(0,a.Wm)(m,{class:"mb-3",modelValue:l.onlyCode,"onUpdate:modelValue":e[1]||(e[1]=o=>l.onlyCode=o),inline:"","hide-details":""},{default:(0,a.w5)((()=>[(0,a.Wm)(k,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,{cols:"6",class:"text-end"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{label:"공유 코드 생성",value:!0,color:"indigo"})])),_:1}),(0,a.Wm)(d,{cols:"6",class:"text-start"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{label:"공개 등록",value:!1,color:"indigo"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(x,null,{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(g,{class:"mx-auto","max-width":"320"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:(0,n.C_)(["mb-7",{invalid:""===l.bookcase_name}]),variant:"underlined",label:"이름",modelValue:l.bookcase_name,"onUpdate:modelValue":e[2]||(e[2]=o=>l.bookcase_name=o),rules:[l.rules.required],disabled:l.onlyCode,counter:"",maxlength:"12"},null,8,["modelValue","class","rules","disabled"]),(0,a.Wm)(b,{variant:"outlined",label:"내용",modelValue:l.share_contents,"onUpdate:modelValue":e[3]||(e[3]=o=>l.share_contents=o),class:(0,n.C_)({invalid:""===l.share_contents}),"no-resize":"",rows:"3",disabled:l.onlyCode,counter:"",maxlength:"1000"},null,8,["modelValue","class","disabled"]),(0,a.Wm)(h,{class:"input-tag",label:"tag",modelValue:l.temp_tag,"onUpdate:modelValue":e[4]||(e[4]=o=>l.temp_tag=o),items:[],multiple:"",delimiters:[","," "],"hide-details":"","hide-selected":"","prepend-inner-icon":"mdi-tag",onInput:i.moveTag,onKeydown:(0,C.D2)(i.moveTag,["enter"])},null,8,["modelValue","onInput","onKeydown"]),(0,a.Wm)(v,{class:"slide-tag","show-arrows":""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.tags,(o=>((0,a.wg)(),(0,a.j4)(p,{key:o},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{class:"mx-1",closable:"","onClick:close":e=>i.deleteTag(o)},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(o),1)])),_:2},1032,["onClick:close"])])),_:2},1024)))),128))])),_:1})])),_:1},512),[[C.F8,!l.onlyCode]])])),_:1}),(0,a.Wm)(w,{text:l.text,loading:l.loading,onClick:i.create},null,8,["text","loading","onClick"])])])),_:1},8,["modelValue","onClosed"])}var So={props:{bookcase:Object,bookcaseIndex:Number},components:{VueFinalModal:b.iR,LoadingButton:h.Z},data(){return{showModal:!0,onlyCode:!0,text:"확인",loading:!1,bookcase_name:this.bookcase.bookcase_name,share_contents:"",temp_tag:[],tags:[],rules:{required:o=>!!o||""}}},setup(){},created(){},mounted(){},unmounted(){},methods:{close(){this.showModal=!0,this.$emit("close","shareBookcase")},moveTag(){if(this.temp_tag.length>0){const o=this.temp_tag.pop();this.tags.includes(o)||this.tags.push(o)}},deleteTag(o){const e=this.tags.findIndex((e=>e===o));this.tags.splice(e,1)},async create(){const o=document.querySelectorAll(".invalid");if(!this.onlyCode&&(this.loading||!this.$isValid(o)))return!1;this.text="",this.loading=!0;const e="/share/create",t={origin_seq:this.bookcase.bookcase_seq,account_seq:this.$store.state.accountStore.account.account_seq,bookcase_name:this.onlyCode?this.bookcase.bookcase_name:this.bookcase_name,share_public:this.onlyCode?"N":"Y",share_contents:this.onlyCode?"-":this.share_contents,share_tag:this.onlyCode?"-":encodeURIComponent(JSON.stringify(this.tags))},a=await this.$axios.post(e,null,{params:t});if(!a.data)return!1;this.close();const s={icon:"success",html:"<strong>"+a.data.bookcase.share_code+'</strong><br><br>코드는 <a href="/">공유함<a>에서 다시 확인할 수 있어요.'};this.$swal.fire(s)}}};const Uo=(0,p.Z)(So,[["render",Mo],["__scopeId","data-v-480f2aaa"]]);var Do=Uo,jo={props:{sideBar:Boolean,bookcase:Object,bookcaseIndex:Number},components:{CreateBook:U.Z,EditBook:F,MoveBook:H,CreateBookmark:oo,EditBookmark:$o,ShareBookcase:Do,BookList:Bo},data(){return{createBook:!1,editBook:!1,moveBook:!1,createBookmark:!1,editBookmark:!1,shareBookcase:!1,editable:!1,book:null,bookIndex:null,bookmark:null,bookmarkIndex:null}},setup(){},created(){},mounted(){},unmounted(){},methods:{openModal(o){"createBook"===o?this.createBook=!0:"editBook"===o?this.editBook=!0:"moveBook"===o?this.moveBook=!0:"createBookmark"===o?this.createBookmark=!0:"editBookmark"===o&&(this.editBookmark=!0)},closeModal(o){"createBook"===o?this.createBook=!1:"editBook"===o?this.editBook=!1:"moveBook"===o?this.moveBook=!1:"createBookmark"===o?this.createBookmark=!1:"editBookmark"===o?this.editBookmark=!1:"shareBookcase"===o&&(this.shareBookcase=!1)},setBook(o){this.book=o.book,this.bookIndex=o.bookIndex},setBookmark(o){this.bookmark=o.bookmark,this.bookmarkIndex=o.bookmarkIndex},deleteBookcase(){if(this.$store.state.bookStore.library.length<=1){const o={icon:"error",html:"<strong>마지막 페이지는 삭제할 수 없어요.</strong>"};return this.$swal.fire(o),!1}const o={html:"<strong>'"+this.bookcase.bookcase_name+"'</strong><br>페이지를 삭제합니다.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"예",cancelButtonText:"아니오"};this.$swal.fire(o).then((async o=>{if(o.isConfirmed){const o="/bookcase/delete",e={bookcase_seq:this.bookcase.bookcase_seq},t=await this.$axios.post(o,null,{params:e});if(!t.data)return!1;this.$store.commit("delBookcase",{bookcaseIndex:this.bookcaseIndex}),this.$emit("select",0)}}))},async editName(){if(!this.editable||""===this.$refs.editName.value||this.$refs.editName.value===this.bookcase.bookcase_name)return this.escapeEdit(),!1;const o="/bookcase/name",e={bookcase_seq:this.bookcase.bookcase_seq,bookcase_name:this.$refs.editName.value},t=await this.$axios.post(o,null,{params:e});if(!t.data)return!1;await this.$store.commit("editBookcaseName",{bookcase:t.data,bookcaseIndex:this.bookcaseIndex}),this.escapeEdit()},escapeEdit(){this.$refs.editName.value=this.bookcase.bookcase_name,this.editable=!1,this.$refs.editName.blur()},openShare(){if(0===this.$store.state.bookStore.library[this.bookcaseIndex].bookList.length){const o={icon:"error",html:"<strong>빈 페이지는 공유할 수 없어요.</strong>"};return this.$swal.fire(o),!1}this.shareBookcase=!0}}};const No=(0,p.Z)(jo,[["render",S],["__scopeId","data-v-a2176e1a"]]);var Lo=No,zo={components:{LibrarySideBar:f,BookcaseContents:Lo},data(){return{sideBar:!0,bookcase:this.$store.state.bookStore.library[0],bookcaseIndex:0}},setup(){},async created(){const o="/bookcase/list",e={user_email:this.$store.state.accountStore.account.user_email,user_pw:this.$store.state.accountStore.account.user_pw},t=await this.$axios.get(o,{params:e});this.$store.commit("refresh",t.data)},mounted(){},unmounted(){},methods:{select(o){this.bookcase=this.$store.state.bookStore.library[o],this.bookcaseIndex=o}}};const Oo=(0,p.Z)(zo,[["render",l],["__scopeId","data-v-4f1ca7da"]]);var Zo=Oo}}]);
//# sourceMappingURL=library.f07f63b8.js.map