"use strict";(self["webpackChunkdeneb"]=self["webpackChunkdeneb"]||[]).push([[809],{273:function(t,e,s){s.r(e),s.d(e,{default:function(){return b}});var i=s(3396),a=s(7139);const o=t=>((0,i.dD)("data-v-4161e8d6"),t=t(),(0,i.Cn)(),t),n={key:0,id:"my-share"},d={class:"container"},c={class:"table text-start"},l=(0,i.uE)('<div class="title mb-3" data-v-4161e8d6>나의 공유 목록</div><hr data-v-4161e8d6><div class="py-5 d-flex" data-v-4161e8d6><div style="width:12%;" class="px-1" data-v-4161e8d6> 공유코드 </div><div style="width:24%;" class="px-1" data-v-4161e8d6> 제목 </div><div style="width:24%;" class="px-1" data-v-4161e8d6> 내용 </div><div style="width:16%;" class="text-center px-1" data-v-4161e8d6> 날짜 </div><div style="width:7%;" class="text-center px-1" data-v-4161e8d6> 좋아요 </div><div style="width:7%;" class="text-center px-1" data-v-4161e8d6> 공유 </div><div style="width:5%;" class="text-center px-1" data-v-4161e8d6> 공개 </div><div style="width:5%;" class="text-center px-1" data-v-4161e8d6> 삭제 </div></div><hr data-v-4161e8d6>',4),r=["onClick"],h={style:{width:"12%"},class:"px-1"},p={style:{width:"24%"},class:"text-truncate px-1"},u={style:{width:"24%"},class:"text-truncate px-1"},v={style:{width:"16%"},class:"text-center px-1"},_={style:{width:"7%"},class:"text-center px-1"},x={style:{width:"7%"},class:"text-center px-1"},m={style:{width:"5%"},class:"text-center px-1"},w={style:{width:"5%"},class:"text-center px-1"},k=o((()=>(0,i._)("hr",null,null,-1)));function y(t,e,s,o,y,C){const L=(0,i.up)("v-icon"),g=(0,i.up)("share-post-detail");return y.loadComplete?((0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",d,[(0,i._)("div",c,[l,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(y.postList,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{key:e},[(0,i._)("div",{class:"py-4 d-flex post",onClick:e=>C.openDetail(t)},[(0,i._)("div",h,(0,a.zw)(t.share_code),1),(0,i._)("div",p,(0,a.zw)(t.bookcase_name),1),(0,i._)("div",u,(0,a.zw)(t.share_contents),1),(0,i._)("div",v,(0,a.zw)(C.getDateFormat(t.share_date)),1),(0,i._)("div",_,[(0,i.Wm)(L,{class:"mr-1",icon:"mdi-heart",size:"x-small",color:"red"}),(0,i.Uk)(" "+(0,a.zw)(t.like_count),1)]),(0,i._)("div",x,[(0,i.Wm)(L,{class:"mr-1",icon:"mdi-share-variant",size:"x-small"}),(0,i.Uk)(" "+(0,a.zw)(t.share_count),1)]),(0,i._)("div",m,(0,a.zw)(t.share_public),1),(0,i._)("div",w,[(0,i.Wm)(L,{icon:"mdi-close",color:"red-lighten-3",onClick:e=>C.deleteShare(t)},null,8,["onClick"])])],8,r),k])))),128))])]),y.post_detail?((0,i.wg)(),(0,i.j4)(g,{key:0,post:y.post,onOpenLogin:e[0]||(e[0]=t=>this.$emit("setLoginModal",!0)),onShareCount:C.shareCount,onLikeCount:C.likeCount,onReplyCount:C.replyCount,onClose:e[1]||(e[1]=t=>y.post_detail=!1)},null,8,["post","onShareCount","onLikeCount","onReplyCount"])):(0,i.kq)("",!0)])):(0,i.kq)("",!0)}var C=s(5766),L={components:{SharePostDetail:C.Z},data(){return{postList:[],post:null,post_detail:!1,loadComplete:!1}},setup(){},async created(){if(!this.$store.state.accountStore.isLogin)return this.$emit("setLoginModal",!0),!1;await this.getShareList(),this.loadComplete=!0},mounted(){},unmounted(){},methods:{async getShareList(){const t="/share/myshare",e={account_seq:this.$store.state.accountStore.account.account_seq},s=await this.$axios.get(t,{params:e});this.postList=s.data},shareCount(t){const e=this.postList.findIndex((e=>e.bookcase_seq===t.post.bookcase_seq));this.postList[e].share_count=this.postList[e].share_count+t.increase,this.postList.splice(0,0)},likeCount(t){const e=this.postList.findIndex((e=>e.bookcase_seq===t.post.bookcase_seq));this.postList[e].like_count=this.postList[e].like_count+t.increase,this.postList.splice(0,0)},replyCount(t){const e=this.postList.findIndex((e=>e.bookcase_seq===t.post.bookcase_seq));this.postList[e].reply_count=t.count,this.postList.splice(0,0)},openDetail(t){const e=event.target.className;if(e.includes("mdi-close"))return!1;this.post=t,this.post_detail=!0},getDateFormat(t){return this.$getDateFormat(new Date(t).getTime()+324e5)},deleteShare(t){const e={html:"<strong>'"+t.bookcase_name+"'</strong><br> 공유 목록에서 삭제합니다.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"예",cancelButtonText:"아니오"};this.$swal.fire(e).then((async e=>{if(e.isConfirmed){const e="/share/delete",s={account_seq:this.$store.state.accountStore.account.account_seq,bookcase_seq:t.bookcase_seq},i=await this.$axios.post(e,null,{params:s});if(!i.data)return!1;this.postList=i.data,this.postList.splice(0,0)}}))}}},g=s(89);const f=(0,g.Z)(L,[["render",y],["__scopeId","data-v-4161e8d6"]]);var b=f}}]);
//# sourceMappingURL=account.3dcbb759.js.map