"use strict";(self["webpackChunkdeneb"]=self["webpackChunkdeneb"]||[]).push([[557],{6211:function(e,t,s){s.r(t),s.d(t,{default:function(){return C}});var a=s(3396);const i={id:"share"},o={key:0,class:"container"};function n(e,t,s,n,l,p){const r=(0,a.up)("share-contents"),c=(0,a.up)("share-post-detail");return(0,a.wg)(),(0,a.iD)("div",i,[l.loadComplete?((0,a.wg)(),(0,a.iD)("div",o,[l.showContents?((0,a.wg)(),(0,a.j4)(r,{key:0,postList:l.postList,page:l.page,pageSize:l.pageSize,onMovePage:p.movePage,onOpenDetail:p.openDetail},null,8,["postList","page","pageSize","onMovePage","onOpenDetail"])):(0,a.kq)("",!0),l.post_detail?((0,a.wg)(),(0,a.j4)(c,{key:1,post:l.post,onOpenLogin:t[0]||(t[0]=e=>this.$emit("setLoginModal",!0)),onShareCount:p.shareCount,onLikeCount:p.likeCount,onReplyCount:p.replyCount,onClose:t[1]||(t[1]=e=>l.post_detail=!1)},null,8,["post","onShareCount","onLikeCount","onReplyCount"])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])}var l=s(9242),p=s(7139);const r={class:"search"},c={key:0,class:"ma-5"},u={class:"post-group"},h={class:"d-flex pt-1 pb-3"},d={class:"text-start w-50 px-3 text-truncate"},m={class:"d-flex w-50 align-end"},g={class:"ml-auto px-3"};function _(e,t,s,i,o,n){const _=(0,a.up)("v-select"),w=(0,a.up)("v-text-field"),k=(0,a.up)("v-card-title"),v=(0,a.up)("v-card-text"),x=(0,a.up)("v-chip"),y=(0,a.up)("v-slide-group-item"),L=(0,a.up)("v-slide-group"),f=(0,a.up)("v-list-item-title"),C=(0,a.up)("v-list-item-subtitle"),b=(0,a.up)("v-icon"),D=(0,a.up)("v-card"),z=(0,a.up)("v-pagination");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",r,[(0,a.Wm)(_,{variant:"filled",class:"d-inline-block",modelValue:o.temp_type,"onUpdate:modelValue":t[0]||(t[0]=e=>o.temp_type=e),items:["내용","태그","작성자"],"hide-details":"","single-line":""},null,8,["modelValue"]),(0,a.Wm)(w,{variant:"filled",class:"d-inline-block",style:{width:"24rem"},placeholder:"검색어 입력",type:"text",modelValue:o.temp_text,"onUpdate:modelValue":t[1]||(t[1]=e=>o.temp_text=e),"append-inner-icon":"mdi-magnify","hide-details":"","onClick:appendInner":n.searchList,onKeydown:(0,l.D2)(n.searchList,["enter"]),"max-length":"100"},null,8,["modelValue","onClick:appendInner","onKeydown"])]),0===s.postList.length?((0,a.wg)(),(0,a.iD)("div",c," 해당하는 데이터가 없어요. ")):(0,a.kq)("",!0),(0,a._)("div",u,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.postList,(e=>((0,a.wg)(),(0,a.j4)(D,{class:"post ma-5 px-3 py-3 elevation-3",width:"360",onClick:t=>n.openDetail(e),key:e.bookcase_seq},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{class:"text-truncate"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,p.zw)(e.bookcase_name),1)])),_:2},1024),(0,a.Wm)(v,{class:"text-truncate py-1"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,p.zw)(e.share_contents),1)])),_:2},1024),(0,a.Wm)(L,{style:{height:"56px"},class:"py-3","show-arrows":""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(JSON.parse(e.share_tag),(e=>((0,a.wg)(),(0,a.j4)(y,{key:e},{default:(0,a.w5)((()=>[(0,a.Wm)(x,{class:"mx-1 tag",onClick:t=>{o.temp_type="태그",o.temp_text=e,this.searchList()}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,p.zw)(e),1)])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:2},1024),(0,a._)("div",h,[(0,a._)("div",d,[(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,p.zw)(e.user_name),1)])),_:2},1024),(0,a.Wm)(C,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,p.zw)(n.getPostDateFormat(e.share_date))+" 저장",1)])),_:2},1024)]),(0,a._)("div",m,[(0,a._)("div",g,[(0,a.Wm)(b,{class:"ml-3 mr-1",icon:"mdi-heart",size:"x-small",color:"red"}),(0,a._)("span",null,(0,p.zw)(e.like_count),1),(0,a.Wm)(b,{class:"ml-3 mr-1",icon:"mdi-share-variant",size:"x-small"}),(0,a._)("span",null,(0,p.zw)(e.share_count),1),(0,a.Wm)(b,{class:"ml-3 mr-1",icon:"mdi-message-reply-text",size:"x-small"}),(0,a._)("span",null,(0,p.zw)(e.reply_count),1)])])])])),_:2},1032,["onClick"])))),128))]),(0,a.Wm)(z,{class:"pagination mt-5 mb-10",modelValue:o.currentPage,"onUpdate:modelValue":t[2]||(t[2]=e=>o.currentPage=e),length:s.pageSize,"total-visible":8,rounded:"circle"},null,8,["modelValue","length"])],64)}s(7658);var w={props:{postList:Object,page:Number,pageSize:Number},components:{},data(){return{temp_type:"내용",temp_text:"",search_type:null,search_text:null,search:!1,currentPage:this.page}},setup(){},created(){},mounted(){},unmounted(){},watch:{currentPage:function(){this.$router.push({name:"shareList",params:{page:this.currentPage}}),this.$emit("movePage",{page:this.currentPage,search_type:this.search_type,search_text:this.search_text,search:this.search})}},methods:{getPostDateFormat(e){const t=new Date,s=new Date(new Date(e).getTime()+324e5),a=t.getTime()-s.getTime();return a>864e5?this.$getDateFormat(s).slice(0,10):this.$getDateFormat(s).slice(11,16)},openDetail(e){const t=event.target.className;if(t.includes("chip")||t.includes("chevron"))return!1;this.$emit("openDetail",e)},searchList(){this.search=""!==this.search_text,this.search_type=this.temp_type,this.search_text=this.temp_text,this.$router.push({name:"shareList",params:{page:1}}),this.$emit("movePage",{page:1,search_type:this.search_type,search_text:this.search_text,search:this.search})}}},k=s(89);const v=(0,k.Z)(w,[["render",_],["__scopeId","data-v-38f3b897"]]);var x=v,y=s(404),L={components:{ShareContents:x,SharePostDetail:y.Z},data(){return{showContents:!1,postList:null,post:null,pageSize:null,post_detail:!1,page:Number(this.$route.params.page),loadComplete:!1}},setup(){},created(){this.getPostList({page:this.$route.params.page,search:!1}),this.loadComplete=!0},mounted(){},unmounted(){},methods:{async getPostList(e){const t=e.search?"/share/search":"/share/list",s=await this.$axios.get(t,{params:e});this.pageSize=Math.ceil(s.data.count/12),this.postList=s.data.postList,this.showContents=!0},movePage(e){this.getPostList(e),this.page=Number(this.$route.params.page)},openDetail(e){this.post=e,this.post_detail=!0},shareCount(e){const t=this.postList.findIndex((t=>t.bookcase_seq===e.post.bookcase_seq));this.postList[t].share_count=this.postList[t].share_count+e.increase,this.postList.splice(0,0)},likeCount(e){const t=this.postList.findIndex((t=>t.bookcase_seq===e.post.bookcase_seq));this.postList[t].like_count=this.postList[t].like_count+e.increase,this.postList.splice(0,0)},replyCount(e){const t=this.postList.findIndex((t=>t.bookcase_seq===e.post.bookcase_seq));this.postList[t].reply_count=e.count,this.postList.splice(0,0)}}};const f=(0,k.Z)(L,[["render",n],["__scopeId","data-v-77fdd8ea"]]);var C=f}}]);
//# sourceMappingURL=share.66809dc8.js.map