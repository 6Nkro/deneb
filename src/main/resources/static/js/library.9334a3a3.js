"use strict";(self["webpackChunkdeneb"]=self["webpackChunkdeneb"]||[]).push([[297],{7154:function(e,o,t){t.r(o),t.d(o,{default:function(){return ka}});var n=t(3396);const a=e=>((0,n.dD)("data-v-35903599"),e=e(),(0,n.Cn)(),e),i={key:0,id:"circular"},l={class:"mx-auto text-center"},r=a((()=>(0,n._)("div",null,[(0,n._)("strong",{style:{color:"grey","font-size":"x-large"}},"페이지를 불러오고 있어요.")],-1))),s={key:1,id:"library"},c={key:2,id:"temp"};function d(e,o,t,a,d,u){const m=(0,n.up)("v-progress-circular"),h=(0,n.up)("library-side-bar"),k=(0,n.up)("bookcase-contents"),p=(0,n.up)("create-bookcase");return(0,n.wg)(),(0,n.iD)(n.HY,null,[!d.loadComplete&&this.$store.state.accountStore.isLogin?((0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("div",l,[(0,n.Wm)(m,{class:"mb-5",size:200,width:15,color:"grey",indeterminate:""}),r])])):(0,n.kq)("",!0),d.loadComplete?((0,n.wg)(),(0,n.iD)("div",s,[(0,n.Wm)(h,{sideBar:d.sideBar,bookcase:d.bookcase.bookcase,onCreate:o[0]||(o[0]=e=>d.createBookcase=!0),onToggle:o[1]||(o[1]=e=>d.sideBar=!d.sideBar),onSelect:u.selectBookcase},null,8,["sideBar","bookcase","onSelect"]),(0,n.Wm)(k,{sideBar:d.sideBar,bookcase:d.bookcase.bookcase,bookcaseIndex:d.bookcaseIndex,onSelect:u.selectBookcase},null,8,["sideBar","bookcase","bookcaseIndex","onSelect"]),d.createBookcase?((0,n.wg)(),(0,n.j4)(p,{key:0,onClose:o[2]||(o[2]=e=>d.createBookcase=!1),onSelect:u.selectBookcase},null,8,["onSelect"])):(0,n.kq)("",!0)])):(0,n.kq)("",!0),d.loadComplete?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",c))],64)}var u=t(7139),m=t.p+"img/banner.8abebcfb.png";const h=e=>((0,n.dD)("data-v-0b41cb46"),e=e(),(0,n.Cn)(),e),k={class:"sideBar-header elevation-3"},p=h((()=>(0,n._)("img",{src:m,alt:"bookcase"},null,-1)));function b(e,o,t,a,i,l){const r=(0,n.up)("v-btn"),s=(0,n.up)("v-icon"),c=(0,n.up)("draggable");return(0,n.wg)(),(0,n.iD)("div",{class:(0,u.C_)(["sideBar elevation-3",{hide:!t.sideBar}])},[(0,n.Wm)(c,{tag:"div",class:"bookcase-group",modelValue:l.library,"onUpdate:modelValue":o[2]||(o[2]=e=>l.library=e),"item-key":"bookcase_seq"},{header:(0,n.w5)((()=>[(0,n._)("div",k,[p,(0,n.Wm)(r,{variant:"plain",class:"toggle",icon:t.sideBar?"mdi-chevron-left":"mdi-chevron-right",onClick:o[0]||(o[0]=e=>this.$emit("toggle"))},null,8,["icon"])])])),item:(0,n.w5)((({element:e,index:o})=>[(0,n.Wm)(r,{block:"",class:(0,u.C_)(["bookcase",{selected:e.bookcase.bookcase_seq===this.bookcase.bookcase_seq}]),onClick:e=>this.$emit("select",o)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,u.zw)(e.bookcase.bookcase_name),1)])),_:2},1032,["class","onClick"])])),footer:(0,n.w5)((()=>[(0,n.Wm)(r,{block:"",class:"bookcase-create",onClick:o[1]||(o[1]=e=>this.$emit("create"))},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{icon:"mdi-plus-box-multiple",color:"grey"})])),_:1})])),_:1},8,["modelValue"])],2)}t(7658);
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function g(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?g(Object(t),!0).forEach((function(o){_(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}function f(e){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function _(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function w(){return w=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},w.apply(this,arguments)}function y(e,o){if(null==e)return{};var t,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],o.indexOf(t)>=0||(a[t]=e[t]);return a}function x(e,o){if(null==e)return{};var t,n,a=y(e,o);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],o.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var C="1.14.0";function I(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var B=I(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),D=I(/Edge/i),S=I(/firefox/i),E=I(/safari/i)&&!I(/chrome/i)&&!I(/android/i),V=I(/iP(ad|od|hone)/i),M=I(/chrome/i)&&I(/android/i),$={capture:!1,passive:!1};function T(e,o,t){e.addEventListener(o,t,!B&&$)}function q(e,o,t){e.removeEventListener(o,t,!B&&$)}function W(e,o){if(o){if(">"===o[0]&&(o=o.substring(1)),e)try{if(e.matches)return e.matches(o);if(e.msMatchesSelector)return e.msMatchesSelector(o);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(o)}catch(t){return!1}return!1}}function O(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function N(e,o,t,n){if(e){t=t||document;do{if(null!=o&&(">"===o[0]?e.parentNode===t&&W(e,o):W(e,o))||n&&e===t)return e;if(e===t)break}while(e=O(e))}return null}var A,L=/\s+/g;function U(e,o,t){if(e&&o)if(e.classList)e.classList[t?"add":"remove"](o);else{var n=(" "+e.className+" ").replace(L," ").replace(" "+o+" "," ");e.className=(n+(t?" "+o:"")).replace(L," ")}}function j(e,o,t){var n=e&&e.style;if(n){if(void 0===t)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(t=e.currentStyle),void 0===o?t:t[o];o in n||-1!==o.indexOf("webkit")||(o="-webkit-"+o),n[o]=t+("string"===typeof t?"":"px")}}function F(e,o){var t="";if("string"===typeof e)t=e;else do{var n=j(e,"transform");n&&"none"!==n&&(t=n+" "+t)}while(!o&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(t)}function P(e,o,t){if(e){var n=e.getElementsByTagName(o),a=0,i=n.length;if(t)for(;a<i;a++)t(n[a],a);return n}return[]}function R(){var e=document.scrollingElement;return e||document.documentElement}function Y(e,o,t,n,a){if(e.getBoundingClientRect||e===window){var i,l,r,s,c,d,u;if(e!==window&&e.parentNode&&e!==R()?(i=e.getBoundingClientRect(),l=i.top,r=i.left,s=i.bottom,c=i.right,d=i.height,u=i.width):(l=0,r=0,s=window.innerHeight,c=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(o||t)&&e!==window&&(a=a||e.parentNode,!B))do{if(a&&a.getBoundingClientRect&&("none"!==j(a,"transform")||t&&"static"!==j(a,"position"))){var m=a.getBoundingClientRect();l-=m.top+parseInt(j(a,"border-top-width")),r-=m.left+parseInt(j(a,"border-left-width")),s=l+i.height,c=r+i.width;break}}while(a=a.parentNode);if(n&&e!==window){var h=F(a||e),k=h&&h.a,p=h&&h.d;h&&(l/=p,r/=k,u/=k,d/=p,s=l+d,c=r+u)}return{top:l,left:r,bottom:s,right:c,width:u,height:d}}}function z(e,o,t){var n=J(e,!0),a=Y(e)[o];while(n){var i=Y(n)[t],l=void 0;if(l="top"===t||"left"===t?a>=i:a<=i,!l)return n;if(n===R())break;n=J(n,!1)}return!1}function X(e,o,t,n){var a=0,i=0,l=e.children;while(i<l.length){if("none"!==l[i].style.display&&l[i]!==so.ghost&&(n||l[i]!==so.dragged)&&N(l[i],t.draggable,e,!1)){if(a===o)return l[i];a++}i++}return null}function H(e,o){var t=e.lastElementChild;while(t&&(t===so.ghost||"none"===j(t,"display")||o&&!W(t,o)))t=t.previousElementSibling;return t||null}function Z(e,o){var t=0;if(!e||!e.parentNode)return-1;while(e=e.previousElementSibling)"TEMPLATE"===e.nodeName.toUpperCase()||e===so.clone||o&&!W(e,o)||t++;return t}function K(e){var o=0,t=0,n=R();if(e)do{var a=F(e),i=a.a,l=a.d;o+=e.scrollLeft*i,t+=e.scrollTop*l}while(e!==n&&(e=e.parentNode));return[o,t]}function G(e,o){for(var t in e)if(e.hasOwnProperty(t))for(var n in o)if(o.hasOwnProperty(n)&&o[n]===e[t][n])return Number(t);return-1}function J(e,o){if(!e||!e.getBoundingClientRect)return R();var t=e,n=!1;do{if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var a=j(t);if(t.clientWidth<t.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||t.clientHeight<t.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!t.getBoundingClientRect||t===document.body)return R();if(n||o)return t;n=!0}}}while(t=t.parentNode);return R()}function Q(e,o){if(e&&o)for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t]);return e}function ee(e,o){return Math.round(e.top)===Math.round(o.top)&&Math.round(e.left)===Math.round(o.left)&&Math.round(e.height)===Math.round(o.height)&&Math.round(e.width)===Math.round(o.width)}function oe(e,o){return function(){if(!A){var t=arguments,n=this;1===t.length?e.call(n,t[0]):e.apply(n,t),A=setTimeout((function(){A=void 0}),o)}}}function te(){clearTimeout(A),A=void 0}function ne(e,o,t){e.scrollLeft+=o,e.scrollTop+=t}function ae(e){var o=window.Polymer,t=window.jQuery||window.Zepto;return o&&o.dom?o.dom(e).cloneNode(!0):t?t(e).clone(!0)[0]:e.cloneNode(!0)}var ie="Sortable"+(new Date).getTime();function le(){var e,o=[];return{captureAnimationState:function(){if(o=[],this.options.animation){var e=[].slice.call(this.el.children);e.forEach((function(e){if("none"!==j(e,"display")&&e!==so.ghost){o.push({target:e,rect:Y(e)});var t=v({},o[o.length-1].rect);if(e.thisAnimationDuration){var n=F(e,!0);n&&(t.top-=n.f,t.left-=n.e)}e.fromRect=t}}))}},addAnimationState:function(e){o.push(e)},removeAnimationState:function(e){o.splice(G(o,{target:e}),1)},animateAll:function(t){var n=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof t&&t());var a=!1,i=0;o.forEach((function(e){var o=0,t=e.target,l=t.fromRect,r=Y(t),s=t.prevFromRect,c=t.prevToRect,d=e.rect,u=F(t,!0);u&&(r.top-=u.f,r.left-=u.e),t.toRect=r,t.thisAnimationDuration&&ee(s,r)&&!ee(l,r)&&(d.top-r.top)/(d.left-r.left)===(l.top-r.top)/(l.left-r.left)&&(o=se(d,s,c,n.options)),ee(r,l)||(t.prevFromRect=l,t.prevToRect=r,o||(o=n.options.animation),n.animate(t,d,r,o)),o&&(a=!0,i=Math.max(i,o),clearTimeout(t.animationResetTimer),t.animationResetTimer=setTimeout((function(){t.animationTime=0,t.prevFromRect=null,t.fromRect=null,t.prevToRect=null,t.thisAnimationDuration=null}),o),t.thisAnimationDuration=o)})),clearTimeout(e),a?e=setTimeout((function(){"function"===typeof t&&t()}),i):"function"===typeof t&&t(),o=[]},animate:function(e,o,t,n){if(n){j(e,"transition",""),j(e,"transform","");var a=F(this.el),i=a&&a.a,l=a&&a.d,r=(o.left-t.left)/(i||1),s=(o.top-t.top)/(l||1);e.animatingX=!!r,e.animatingY=!!s,j(e,"transform","translate3d("+r+"px,"+s+"px,0)"),this.forRepaintDummy=re(e),j(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),j(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){j(e,"transition",""),j(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),n)}}}}function re(e){return e.offsetWidth}function se(e,o,t,n){return Math.sqrt(Math.pow(o.top-e.top,2)+Math.pow(o.left-e.left,2))/Math.sqrt(Math.pow(o.top-t.top,2)+Math.pow(o.left-t.left,2))*n.animation}var ce=[],de={initializeByDefault:!0},ue={mount:function(e){for(var o in de)de.hasOwnProperty(o)&&!(o in e)&&(e[o]=de[o]);ce.forEach((function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),ce.push(e)},pluginEvent:function(e,o,t){var n=this;this.eventCanceled=!1,t.cancel=function(){n.eventCanceled=!0};var a=e+"Global";ce.forEach((function(n){o[n.pluginName]&&(o[n.pluginName][a]&&o[n.pluginName][a](v({sortable:o},t)),o.options[n.pluginName]&&o[n.pluginName][e]&&o[n.pluginName][e](v({sortable:o},t)))}))},initializePlugins:function(e,o,t,n){for(var a in ce.forEach((function(n){var a=n.pluginName;if(e.options[a]||n.initializeByDefault){var i=new n(e,o,e.options);i.sortable=e,i.options=e.options,e[a]=i,w(t,i.defaults)}})),e.options)if(e.options.hasOwnProperty(a)){var i=this.modifyOption(e,a,e.options[a]);"undefined"!==typeof i&&(e.options[a]=i)}},getEventProperties:function(e,o){var t={};return ce.forEach((function(n){"function"===typeof n.eventProperties&&w(t,n.eventProperties.call(o[n.pluginName],e))})),t},modifyOption:function(e,o,t){var n;return ce.forEach((function(a){e[a.pluginName]&&a.optionListeners&&"function"===typeof a.optionListeners[o]&&(n=a.optionListeners[o].call(e[a.pluginName],t))})),n}};function me(e){var o=e.sortable,t=e.rootEl,n=e.name,a=e.targetEl,i=e.cloneEl,l=e.toEl,r=e.fromEl,s=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,u=e.newDraggableIndex,m=e.originalEvent,h=e.putSortable,k=e.extraEventProperties;if(o=o||t&&t[ie],o){var p,b=o.options,g="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||B||D?(p=document.createEvent("Event"),p.initEvent(n,!0,!0)):p=new CustomEvent(n,{bubbles:!0,cancelable:!0}),p.to=l||t,p.from=r||t,p.item=a||t,p.clone=i,p.oldIndex=s,p.newIndex=c,p.oldDraggableIndex=d,p.newDraggableIndex=u,p.originalEvent=m,p.pullMode=h?h.lastPutMode:void 0;var f=v(v({},k),ue.getEventProperties(n,o));for(var _ in f)p[_]=f[_];t&&t.dispatchEvent(p),b[g]&&b[g].call(o,p)}}var he=["evt"],ke=function(e,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t.evt,a=x(t,he);ue.pluginEvent.bind(so)(e,o,v({dragEl:be,parentEl:ge,ghostEl:ve,rootEl:fe,nextEl:_e,lastDownEl:we,cloneEl:ye,cloneHidden:xe,dragStarted:Oe,putSortable:Ee,activeSortable:so.active,originalEvent:n,oldIndex:Ce,oldDraggableIndex:Be,newIndex:Ie,newDraggableIndex:De,hideGhostForTarget:ao,unhideGhostForTarget:io,cloneNowHidden:function(){xe=!0},cloneNowShown:function(){xe=!1},dispatchSortableEvent:function(e){pe({sortable:o,name:e,originalEvent:n})}},a))};function pe(e){me(v({putSortable:Ee,cloneEl:ye,targetEl:be,rootEl:fe,oldIndex:Ce,oldDraggableIndex:Be,newIndex:Ie,newDraggableIndex:De},e))}var be,ge,ve,fe,_e,we,ye,xe,Ce,Ie,Be,De,Se,Ee,Ve,Me,$e,Te,qe,We,Oe,Ne,Ae,Le,Ue,je=!1,Fe=!1,Pe=[],Re=!1,Ye=!1,ze=[],Xe=!1,He=[],Ze="undefined"!==typeof document,Ke=V,Ge=D||B?"cssFloat":"float",Je=Ze&&!M&&!V&&"draggable"in document.createElement("div"),Qe=function(){if(Ze){if(B)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),eo=function(e,o){var t=j(e),n=parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight)-parseInt(t.borderLeftWidth)-parseInt(t.borderRightWidth),a=X(e,0,o),i=X(e,1,o),l=a&&j(a),r=i&&j(i),s=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Y(a).width,c=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+Y(i).width;if("flex"===t.display)return"column"===t.flexDirection||"column-reverse"===t.flexDirection?"vertical":"horizontal";if("grid"===t.display)return t.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&l["float"]&&"none"!==l["float"]){var d="left"===l["float"]?"left":"right";return!i||"both"!==r.clear&&r.clear!==d?"horizontal":"vertical"}return a&&("block"===l.display||"flex"===l.display||"table"===l.display||"grid"===l.display||s>=n&&"none"===t[Ge]||i&&"none"===t[Ge]&&s+c>n)?"vertical":"horizontal"},oo=function(e,o,t){var n=t?e.left:e.top,a=t?e.right:e.bottom,i=t?e.width:e.height,l=t?o.left:o.top,r=t?o.right:o.bottom,s=t?o.width:o.height;return n===l||a===r||n+i/2===l+s/2},to=function(e,o){var t;return Pe.some((function(n){var a=n[ie].options.emptyInsertThreshold;if(a&&!H(n)){var i=Y(n),l=e>=i.left-a&&e<=i.right+a,r=o>=i.top-a&&o<=i.bottom+a;return l&&r?t=n:void 0}})),t},no=function(e){function o(e,t){return function(n,a,i,l){var r=n.options.group.name&&a.options.group.name&&n.options.group.name===a.options.group.name;if(null==e&&(t||r))return!0;if(null==e||!1===e)return!1;if(t&&"clone"===e)return e;if("function"===typeof e)return o(e(n,a,i,l),t)(n,a,i,l);var s=(t?n:a).options.group.name;return!0===e||"string"===typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var t={},n=e.group;n&&"object"==f(n)||(n={name:n}),t.name=n.name,t.checkPull=o(n.pull,!0),t.checkPut=o(n.put),t.revertClone=n.revertClone,e.group=t},ao=function(){!Qe&&ve&&j(ve,"display","none")},io=function(){!Qe&&ve&&j(ve,"display","")};Ze&&document.addEventListener("click",(function(e){if(Fe)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Fe=!1,!1}),!0);var lo=function(e){if(be){e=e.touches?e.touches[0]:e;var o=to(e.clientX,e.clientY);if(o){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.target=t.rootEl=o,t.preventDefault=void 0,t.stopPropagation=void 0,o[ie]._onDragOver(t)}}},ro=function(e){be&&be.parentNode[ie]._isOutsideThisEl(e.target)};function so(e,o){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=o=w({},o),e[ie]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return eo(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,o){e.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==so.supportPointer&&"PointerEvent"in window&&!E,emptyInsertThreshold:5};for(var n in ue.initializePlugins(this,e,t),t)!(n in o)&&(o[n]=t[n]);for(var a in no(o),this)"_"===a.charAt(0)&&"function"===typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!o.forceFallback&&Je,this.nativeDraggable&&(this.options.touchStartThreshold=1),o.supportPointer?T(e,"pointerdown",this._onTapStart):(T(e,"mousedown",this._onTapStart),T(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(T(e,"dragover",this),T(e,"dragenter",this)),Pe.push(this.el),o.store&&o.store.get&&this.sort(o.store.get(this)||[]),w(this,le())}function co(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function uo(e,o,t,n,a,i,l,r){var s,c,d=e[ie],u=d.options.onMove;return!window.CustomEvent||B||D?(s=document.createEvent("Event"),s.initEvent("move",!0,!0)):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=o,s.from=e,s.dragged=t,s.draggedRect=n,s.related=a||o,s.relatedRect=i||Y(o),s.willInsertAfter=r,s.originalEvent=l,e.dispatchEvent(s),u&&(c=u.call(d,s,l)),c}function mo(e){e.draggable=!1}function ho(){Xe=!1}function ko(e,o,t){var n=Y(X(t.el,0,t.options,!0)),a=10;return o?e.clientX<n.left-a||e.clientY<n.top&&e.clientX<n.right:e.clientY<n.top-a||e.clientY<n.bottom&&e.clientX<n.left}function po(e,o,t){var n=Y(H(t.el,t.options.draggable)),a=10;return o?e.clientX>n.right+a||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+a}function bo(e,o,t,n,a,i,l,r){var s=n?e.clientY:e.clientX,c=n?t.height:t.width,d=n?t.top:t.left,u=n?t.bottom:t.right,m=!1;if(!l)if(r&&Le<c*a){if(!Re&&(1===Ae?s>d+c*i/2:s<u-c*i/2)&&(Re=!0),Re)m=!0;else if(1===Ae?s<d+Le:s>u-Le)return-Ae}else if(s>d+c*(1-a)/2&&s<u-c*(1-a)/2)return go(o);return m=m||l,m&&(s<d+c*i/2||s>u-c*i/2)?s>d+c/2?1:-1:0}function go(e){return Z(be)<Z(e)?1:-1}function vo(e){var o=e.tagName+e.className+e.src+e.href+e.textContent,t=o.length,n=0;while(t--)n+=o.charCodeAt(t);return n.toString(36)}function fo(e){He.length=0;var o=e.getElementsByTagName("input"),t=o.length;while(t--){var n=o[t];n.checked&&He.push(n)}}function _o(e){return setTimeout(e,0)}function wo(e){return clearTimeout(e)}so.prototype={constructor:so,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Ne=null)},_getDirection:function(e,o){return"function"===typeof this.options.direction?this.options.direction.call(this,e,o,be):this.options.direction},_onTapStart:function(e){if(e.cancelable){var o=this,t=this.el,n=this.options,a=n.preventOnFilter,i=e.type,l=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,r=(l||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||r,c=n.filter;if(fo(t),!be&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||n.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!E||!r||"SELECT"!==r.tagName.toUpperCase())&&(r=N(r,n.draggable,t,!1),(!r||!r.animated)&&we!==r)){if(Ce=Z(r),Be=Z(r,n.draggable),"function"===typeof c){if(c.call(this,e,r,this))return pe({sortable:o,rootEl:s,name:"filter",targetEl:r,toEl:t,fromEl:t}),ke("filter",o,{evt:e}),void(a&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(n){if(n=N(s,n.trim(),t,!1),n)return pe({sortable:o,rootEl:n,name:"filter",targetEl:r,fromEl:t,toEl:t}),ke("filter",o,{evt:e}),!0})),c))return void(a&&e.cancelable&&e.preventDefault());n.handle&&!N(s,n.handle,t,!1)||this._prepareDragStart(e,l,r)}}},_prepareDragStart:function(e,o,t){var n,a=this,i=a.el,l=a.options,r=i.ownerDocument;if(t&&!be&&t.parentNode===i){var s=Y(t);if(fe=i,be=t,ge=be.parentNode,_e=be.nextSibling,we=t,Se=l.group,so.dragged=be,Ve={target:be,clientX:(o||e).clientX,clientY:(o||e).clientY},qe=Ve.clientX-s.left,We=Ve.clientY-s.top,this._lastX=(o||e).clientX,this._lastY=(o||e).clientY,be.style["will-change"]="all",n=function(){ke("delayEnded",a,{evt:e}),so.eventCanceled?a._onDrop():(a._disableDelayedDragEvents(),!S&&a.nativeDraggable&&(be.draggable=!0),a._triggerDragStart(e,o),pe({sortable:a,name:"choose",originalEvent:e}),U(be,l.chosenClass,!0))},l.ignore.split(",").forEach((function(e){P(be,e.trim(),mo)})),T(r,"dragover",lo),T(r,"mousemove",lo),T(r,"touchmove",lo),T(r,"mouseup",a._onDrop),T(r,"touchend",a._onDrop),T(r,"touchcancel",a._onDrop),S&&this.nativeDraggable&&(this.options.touchStartThreshold=4,be.draggable=!0),ke("delayStart",this,{evt:e}),!l.delay||l.delayOnTouchOnly&&!o||this.nativeDraggable&&(D||B))n();else{if(so.eventCanceled)return void this._onDrop();T(r,"mouseup",a._disableDelayedDrag),T(r,"touchend",a._disableDelayedDrag),T(r,"touchcancel",a._disableDelayedDrag),T(r,"mousemove",a._delayedDragTouchMoveHandler),T(r,"touchmove",a._delayedDragTouchMoveHandler),l.supportPointer&&T(r,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(n,l.delay)}}},_delayedDragTouchMoveHandler:function(e){var o=e.touches?e.touches[0]:e;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){be&&mo(be),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;q(e,"mouseup",this._disableDelayedDrag),q(e,"touchend",this._disableDelayedDrag),q(e,"touchcancel",this._disableDelayedDrag),q(e,"mousemove",this._delayedDragTouchMoveHandler),q(e,"touchmove",this._delayedDragTouchMoveHandler),q(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,o){o=o||"touch"==e.pointerType&&e,!this.nativeDraggable||o?this.options.supportPointer?T(document,"pointermove",this._onTouchMove):T(document,o?"touchmove":"mousemove",this._onTouchMove):(T(be,"dragend",this),T(fe,"dragstart",this._onDragStart));try{document.selection?_o((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(e,o){if(je=!1,fe&&be){ke("dragStarted",this,{evt:o}),this.nativeDraggable&&T(document,"dragover",ro);var t=this.options;!e&&U(be,t.dragClass,!1),U(be,t.ghostClass,!0),so.active=this,e&&this._appendGhost(),pe({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(Me){this._lastX=Me.clientX,this._lastY=Me.clientY,ao();var e=document.elementFromPoint(Me.clientX,Me.clientY),o=e;while(e&&e.shadowRoot){if(e=e.shadowRoot.elementFromPoint(Me.clientX,Me.clientY),e===o)break;o=e}if(be.parentNode[ie]._isOutsideThisEl(e),o)do{if(o[ie]){var t=void 0;if(t=o[ie]._onDragOver({clientX:Me.clientX,clientY:Me.clientY,target:e,rootEl:o}),t&&!this.options.dragoverBubble)break}e=o}while(o=o.parentNode);io()}},_onTouchMove:function(e){if(Ve){var o=this.options,t=o.fallbackTolerance,n=o.fallbackOffset,a=e.touches?e.touches[0]:e,i=ve&&F(ve,!0),l=ve&&i&&i.a,r=ve&&i&&i.d,s=Ke&&Ue&&K(Ue),c=(a.clientX-Ve.clientX+n.x)/(l||1)+(s?s[0]-ze[0]:0)/(l||1),d=(a.clientY-Ve.clientY+n.y)/(r||1)+(s?s[1]-ze[1]:0)/(r||1);if(!so.active&&!je){if(t&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<t)return;this._onDragStart(e,!0)}if(ve){i?(i.e+=c-($e||0),i.f+=d-(Te||0)):i={a:1,b:0,c:0,d:1,e:c,f:d};var u="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");j(ve,"webkitTransform",u),j(ve,"mozTransform",u),j(ve,"msTransform",u),j(ve,"transform",u),$e=c,Te=d,Me=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ve){var e=this.options.fallbackOnBody?document.body:fe,o=Y(be,!0,Ke,!0,e),t=this.options;if(Ke){Ue=e;while("static"===j(Ue,"position")&&"none"===j(Ue,"transform")&&Ue!==document)Ue=Ue.parentNode;Ue!==document.body&&Ue!==document.documentElement?(Ue===document&&(Ue=R()),o.top+=Ue.scrollTop,o.left+=Ue.scrollLeft):Ue=R(),ze=K(Ue)}ve=be.cloneNode(!0),U(ve,t.ghostClass,!1),U(ve,t.fallbackClass,!0),U(ve,t.dragClass,!0),j(ve,"transition",""),j(ve,"transform",""),j(ve,"box-sizing","border-box"),j(ve,"margin",0),j(ve,"top",o.top),j(ve,"left",o.left),j(ve,"width",o.width),j(ve,"height",o.height),j(ve,"opacity","0.8"),j(ve,"position",Ke?"absolute":"fixed"),j(ve,"zIndex","100000"),j(ve,"pointerEvents","none"),so.ghost=ve,e.appendChild(ve),j(ve,"transform-origin",qe/parseInt(ve.style.width)*100+"% "+We/parseInt(ve.style.height)*100+"%")}},_onDragStart:function(e,o){var t=this,n=e.dataTransfer,a=t.options;ke("dragStart",this,{evt:e}),so.eventCanceled?this._onDrop():(ke("setupClone",this),so.eventCanceled||(ye=ae(be),ye.draggable=!1,ye.style["will-change"]="",this._hideClone(),U(ye,this.options.chosenClass,!1),so.clone=ye),t.cloneId=_o((function(){ke("clone",t),so.eventCanceled||(t.options.removeCloneOnHide||fe.insertBefore(ye,be),t._hideClone(),pe({sortable:t,name:"clone"}))})),!o&&U(be,a.dragClass,!0),o?(Fe=!0,t._loopId=setInterval(t._emulateDragOver,50)):(q(document,"mouseup",t._onDrop),q(document,"touchend",t._onDrop),q(document,"touchcancel",t._onDrop),n&&(n.effectAllowed="move",a.setData&&a.setData.call(t,n,be)),T(document,"drop",t),j(be,"transform","translateZ(0)")),je=!0,t._dragStartId=_o(t._dragStarted.bind(t,o,e)),T(document,"selectstart",t),Oe=!0,E&&j(document.body,"user-select","none"))},_onDragOver:function(e){var o,t,n,a,i=this.el,l=e.target,r=this.options,s=r.group,c=so.active,d=Se===s,u=r.sort,m=Ee||c,h=this,k=!1;if(!Xe){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),l=N(l,r.draggable,i,!0),V("dragOver"),so.eventCanceled)return k;if(be.contains(e.target)||l.animated&&l.animatingX&&l.animatingY||h._ignoreWhileAnimating===l)return $(!1);if(Fe=!1,c&&!r.disabled&&(d?u||(n=ge!==fe):Ee===this||(this.lastPutMode=Se.checkPull(this,c,be,e))&&s.checkPut(this,c,be,e))){if(a="vertical"===this._getDirection(e,l),o=Y(be),V("dragOverValid"),so.eventCanceled)return k;if(n)return ge=fe,M(),this._hideClone(),V("revert"),so.eventCanceled||(_e?fe.insertBefore(be,_e):fe.appendChild(be)),$(!0);var p=H(i,r.draggable);if(!p||po(e,a,this)&&!p.animated){if(p===be)return $(!1);if(p&&i===e.target&&(l=p),l&&(t=Y(l)),!1!==uo(fe,i,be,o,l,t,e,!!l))return M(),i.appendChild(be),ge=i,T(),$(!0)}else if(p&&ko(e,a,this)){var b=X(i,0,r,!0);if(b===be)return $(!1);if(l=b,t=Y(l),!1!==uo(fe,i,be,o,l,t,e,!1))return M(),i.insertBefore(be,b),ge=i,T(),$(!0)}else if(l.parentNode===i){t=Y(l);var g,f,_=0,w=be.parentNode!==i,y=!oo(be.animated&&be.toRect||o,l.animated&&l.toRect||t,a),x=a?"top":"left",C=z(l,"top","top")||z(be,"top","top"),I=C?C.scrollTop:void 0;if(Ne!==l&&(g=t[x],Re=!1,Ye=!y&&r.invertSwap||w),_=bo(e,l,t,a,y?1:r.swapThreshold,null==r.invertedSwapThreshold?r.swapThreshold:r.invertedSwapThreshold,Ye,Ne===l),0!==_){var B=Z(be);do{B-=_,f=ge.children[B]}while(f&&("none"===j(f,"display")||f===ve))}if(0===_||f===l)return $(!1);Ne=l,Ae=_;var D=l.nextElementSibling,S=!1;S=1===_;var E=uo(fe,i,be,o,l,t,e,S);if(!1!==E)return 1!==E&&-1!==E||(S=1===E),Xe=!0,setTimeout(ho,30),M(),S&&!D?i.appendChild(be):l.parentNode.insertBefore(be,S?D:l),C&&ne(C,0,I-C.scrollTop),ge=be.parentNode,void 0===g||Ye||(Le=Math.abs(g-Y(l)[x])),T(),$(!0)}if(i.contains(be))return $(!1)}return!1}function V(r,s){ke(r,h,v({evt:e,isOwner:d,axis:a?"vertical":"horizontal",revert:n,dragRect:o,targetRect:t,canSort:u,fromSortable:m,target:l,completed:$,onMove:function(t,n){return uo(fe,i,be,o,t,Y(t),e,n)},changed:T},s))}function M(){V("dragOverAnimationCapture"),h.captureAnimationState(),h!==m&&m.captureAnimationState()}function $(o){return V("dragOverCompleted",{insertion:o}),o&&(d?c._hideClone():c._showClone(h),h!==m&&(U(be,Ee?Ee.options.ghostClass:c.options.ghostClass,!1),U(be,r.ghostClass,!0)),Ee!==h&&h!==so.active?Ee=h:h===so.active&&Ee&&(Ee=null),m===h&&(h._ignoreWhileAnimating=l),h.animateAll((function(){V("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(l===be&&!be.animated||l===i&&!l.animated)&&(Ne=null),r.dragoverBubble||e.rootEl||l===document||(be.parentNode[ie]._isOutsideThisEl(e.target),!o&&lo(e)),!r.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),k=!0}function T(){Ie=Z(be),De=Z(be,r.draggable),pe({sortable:h,name:"change",toEl:i,newIndex:Ie,newDraggableIndex:De,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){q(document,"mousemove",this._onTouchMove),q(document,"touchmove",this._onTouchMove),q(document,"pointermove",this._onTouchMove),q(document,"dragover",lo),q(document,"mousemove",lo),q(document,"touchmove",lo)},_offUpEvents:function(){var e=this.el.ownerDocument;q(e,"mouseup",this._onDrop),q(e,"touchend",this._onDrop),q(e,"pointerup",this._onDrop),q(e,"touchcancel",this._onDrop),q(document,"selectstart",this)},_onDrop:function(e){var o=this.el,t=this.options;Ie=Z(be),De=Z(be,t.draggable),ke("drop",this,{evt:e}),ge=be&&be.parentNode,Ie=Z(be),De=Z(be,t.draggable),so.eventCanceled||(je=!1,Ye=!1,Re=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),wo(this.cloneId),wo(this._dragStartId),this.nativeDraggable&&(q(document,"drop",this),q(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),E&&j(document.body,"user-select",""),j(be,"transform",""),e&&(Oe&&(e.cancelable&&e.preventDefault(),!t.dropBubble&&e.stopPropagation()),ve&&ve.parentNode&&ve.parentNode.removeChild(ve),(fe===ge||Ee&&"clone"!==Ee.lastPutMode)&&ye&&ye.parentNode&&ye.parentNode.removeChild(ye),be&&(this.nativeDraggable&&q(be,"dragend",this),mo(be),be.style["will-change"]="",Oe&&!je&&U(be,Ee?Ee.options.ghostClass:this.options.ghostClass,!1),U(be,this.options.chosenClass,!1),pe({sortable:this,name:"unchoose",toEl:ge,newIndex:null,newDraggableIndex:null,originalEvent:e}),fe!==ge?(Ie>=0&&(pe({rootEl:ge,name:"add",toEl:ge,fromEl:fe,originalEvent:e}),pe({sortable:this,name:"remove",toEl:ge,originalEvent:e}),pe({rootEl:ge,name:"sort",toEl:ge,fromEl:fe,originalEvent:e}),pe({sortable:this,name:"sort",toEl:ge,originalEvent:e})),Ee&&Ee.save()):Ie!==Ce&&Ie>=0&&(pe({sortable:this,name:"update",toEl:ge,originalEvent:e}),pe({sortable:this,name:"sort",toEl:ge,originalEvent:e})),so.active&&(null!=Ie&&-1!==Ie||(Ie=Ce,De=Be),pe({sortable:this,name:"end",toEl:ge,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){ke("nulling",this),fe=be=ge=ve=_e=ye=we=xe=Ve=Me=Oe=Ie=De=Ce=Be=Ne=Ae=Ee=Se=so.dragged=so.ghost=so.clone=so.active=null,He.forEach((function(e){e.checked=!0})),He.length=$e=Te=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":be&&(this._onDragOver(e),co(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e,o=[],t=this.el.children,n=0,a=t.length,i=this.options;n<a;n++)e=t[n],N(e,i.draggable,this.el,!1)&&o.push(e.getAttribute(i.dataIdAttr)||vo(e));return o},sort:function(e,o){var t={},n=this.el;this.toArray().forEach((function(e,o){var a=n.children[o];N(a,this.options.draggable,n,!1)&&(t[e]=a)}),this),o&&this.captureAnimationState(),e.forEach((function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))})),o&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,o){return N(e,o||this.options.draggable,this.el,!1)},option:function(e,o){var t=this.options;if(void 0===o)return t[e];var n=ue.modifyOption(this,e,o);t[e]="undefined"!==typeof n?n:o,"group"===e&&no(t)},destroy:function(){ke("destroy",this);var e=this.el;e[ie]=null,q(e,"mousedown",this._onTapStart),q(e,"touchstart",this._onTapStart),q(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(q(e,"dragover",this),q(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Pe.splice(Pe.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!xe){if(ke("hideClone",this),so.eventCanceled)return;j(ye,"display","none"),this.options.removeCloneOnHide&&ye.parentNode&&ye.parentNode.removeChild(ye),xe=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(xe){if(ke("showClone",this),so.eventCanceled)return;be.parentNode!=fe||this.options.group.revertClone?_e?fe.insertBefore(ye,_e):fe.appendChild(ye):fe.insertBefore(ye,be),this.options.group.revertClone&&this.animate(be,ye),j(ye,"display",""),xe=!1}}else this._hideClone()}},Ze&&T(document,"touchmove",(function(e){(so.active||je)&&e.cancelable&&e.preventDefault()})),so.utils={on:T,off:q,css:j,find:P,is:function(e,o){return!!N(e,o,e,!1)},extend:Q,throttle:oe,closest:N,toggleClass:U,clone:ae,index:Z,nextTick:_o,cancelNextTick:wo,detectDirection:eo,getChild:X},so.get=function(e){return e[ie]},so.mount=function(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];o[0].constructor===Array&&(o=o[0]),o.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(so.utils=v(v({},so.utils),e.utils)),ue.mount(e)}))},so.create=function(e,o){return new so(e,o)},so.version=C;var yo,xo,Co,Io,Bo,Do,So=[],Eo=!1;function Vo(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var o=e.originalEvent;this.sortable.nativeDraggable?T(document,"dragover",this._handleAutoScroll):this.options.supportPointer?T(document,"pointermove",this._handleFallbackAutoScroll):o.touches?T(document,"touchmove",this._handleFallbackAutoScroll):T(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var o=e.originalEvent;this.options.dragOverBubble||o.rootEl||this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?q(document,"dragover",this._handleAutoScroll):(q(document,"pointermove",this._handleFallbackAutoScroll),q(document,"touchmove",this._handleFallbackAutoScroll),q(document,"mousemove",this._handleFallbackAutoScroll)),$o(),Mo(),te()},nulling:function(){Bo=xo=yo=Eo=Do=Co=Io=null,So.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,o){var t=this,n=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(n,a);if(Bo=e,o||this.options.forceAutoScrollFallback||D||B||E){To(e,this.options,i,o);var l=J(i,!0);!Eo||Do&&n===Co&&a===Io||(Do&&$o(),Do=setInterval((function(){var i=J(document.elementFromPoint(n,a),!0);i!==l&&(l=i,Mo()),To(e,t.options,i,o)}),10),Co=n,Io=a)}else{if(!this.options.bubbleScroll||J(i,!0)===R())return void Mo();To(e,this.options,J(i,!1),!1)}}},w(e,{pluginName:"scroll",initializeByDefault:!0})}function Mo(){So.forEach((function(e){clearInterval(e.pid)})),So=[]}function $o(){clearInterval(Do)}var To=oe((function(e,o,t,n){if(o.scroll){var a,i=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,r=o.scrollSensitivity,s=o.scrollSpeed,c=R(),d=!1;xo!==t&&(xo=t,Mo(),yo=o.scroll,a=o.scrollFn,!0===yo&&(yo=J(t,!0)));var u=0,m=yo;do{var h=m,k=Y(h),p=k.top,b=k.bottom,g=k.left,v=k.right,f=k.width,_=k.height,w=void 0,y=void 0,x=h.scrollWidth,C=h.scrollHeight,I=j(h),B=h.scrollLeft,D=h.scrollTop;h===c?(w=f<x&&("auto"===I.overflowX||"scroll"===I.overflowX||"visible"===I.overflowX),y=_<C&&("auto"===I.overflowY||"scroll"===I.overflowY||"visible"===I.overflowY)):(w=f<x&&("auto"===I.overflowX||"scroll"===I.overflowX),y=_<C&&("auto"===I.overflowY||"scroll"===I.overflowY));var S=w&&(Math.abs(v-i)<=r&&B+f<x)-(Math.abs(g-i)<=r&&!!B),E=y&&(Math.abs(b-l)<=r&&D+_<C)-(Math.abs(p-l)<=r&&!!D);if(!So[u])for(var V=0;V<=u;V++)So[V]||(So[V]={});So[u].vx==S&&So[u].vy==E&&So[u].el===h||(So[u].el=h,So[u].vx=S,So[u].vy=E,clearInterval(So[u].pid),0==S&&0==E||(d=!0,So[u].pid=setInterval(function(){n&&0===this.layer&&so.active._onTouchMove(Bo);var o=So[this.layer].vy?So[this.layer].vy*s:0,t=So[this.layer].vx?So[this.layer].vx*s:0;"function"===typeof a&&"continue"!==a.call(so.dragged.parentNode[ie],t,o,e,Bo,So[this.layer].el)||ne(So[this.layer].el,t,o)}.bind({layer:u}),24))),u++}while(o.bubbleScroll&&m!==c&&(m=J(m,!1)));Eo=d}}),30),qo=function(e){var o=e.originalEvent,t=e.putSortable,n=e.dragEl,a=e.activeSortable,i=e.dispatchSortableEvent,l=e.hideGhostForTarget,r=e.unhideGhostForTarget;if(o){var s=t||a;l();var c=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,d=document.elementFromPoint(c.clientX,c.clientY);r(),s&&!s.el.contains(d)&&(i("spill"),this.onSpill({dragEl:n,putSortable:t}))}};function Wo(){}function Oo(){}Wo.prototype={startIndex:null,dragStart:function(e){var o=e.oldDraggableIndex;this.startIndex=o},onSpill:function(e){var o=e.dragEl,t=e.putSortable;this.sortable.captureAnimationState(),t&&t.captureAnimationState();var n=X(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(o,n):this.sortable.el.appendChild(o),this.sortable.animateAll(),t&&t.animateAll()},drop:qo},w(Wo,{pluginName:"revertOnSpill"}),Oo.prototype={onSpill:function(e){var o=e.dragEl,t=e.putSortable,n=t||this.sortable;n.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),n.animateAll()},drop:qo},w(Oo,{pluginName:"removeOnSpill"});so.mount(new Vo),so.mount(Oo,Wo);var No=so;function Ao(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function Lo(e,o,t){const n=0===t?e.children[0]:e.children[t-1].nextSibling;e.insertBefore(o,n)}function Uo(){return"undefined"!==typeof window?window.console:t.g.console}const jo=Uo();function Fo(e){const o=Object.create(null);return function(t){const n=o[t];return n||(o[t]=e(t))}}const Po=/-(\w)/g,Ro=Fo((e=>e.replace(Po,((e,o)=>o.toUpperCase())))),Yo=["Start","Add","Remove","Update","End"],zo=["Choose","Unchoose","Sort","Filter","Clone"],Xo=["Move"],Ho=[Xo,Yo,zo].flatMap((e=>e)).map((e=>`on${e}`)),Zo={manage:Xo,manageAndEmit:Yo,emit:zo};function Ko(e){return-1!==Ho.indexOf(e)}const Go=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function Jo(e){return Go.includes(e)}function Qo(e){return["transition-group","TransitionGroup"].includes(e)}function et(e){return["id","class","role","style"].includes(e)||e.startsWith("data-")||e.startsWith("aria-")||e.startsWith("on")}function ot(e){return e.reduce(((e,[o,t])=>(e[o]=t,e)),{})}function tt({$attrs:e,componentData:o={}}){const t=ot(Object.entries(e).filter((([e,o])=>et(e))));return{...t,...o}}function nt({$attrs:e,callBackBuilder:o}){const t=ot(at(e));Object.entries(o).forEach((([e,o])=>{Zo[e].forEach((e=>{t[`on${e}`]=o(e)}))}));const n=`[data-draggable]${t.draggable||""}`;return{...t,draggable:n}}function at(e){return Object.entries(e).filter((([e,o])=>!et(e))).map((([e,o])=>[Ro(e),o])).filter((([e,o])=>!Ko(e)))}const it=({el:e})=>e,lt=(e,o)=>e.__draggable_context=o,rt=e=>e.__draggable_context;class st{constructor({nodes:{header:e,default:o,footer:t},root:n,realList:a}){this.defaultNodes=o,this.children=[...e,...o,...t],this.externalComponent=n.externalComponent,this.rootTransition=n.transition,this.tag=n.tag,this.realList=a}get _isRootComponent(){return this.externalComponent||this.rootTransition}render(e,o){const{tag:t,children:n,_isRootComponent:a}=this,i=a?{default:()=>n}:n;return e(t,o,i)}updated(){const{defaultNodes:e,realList:o}=this;e.forEach(((e,t)=>{lt(it(e),{element:o[t],index:t})}))}getUnderlyingVm(e){return rt(e)}getVmIndexFromDomIndex(e,o){const{defaultNodes:t}=this,{length:n}=t,a=o.children,i=a.item(e);if(null===i)return n;const l=rt(i);if(l)return l.index;if(0===n)return 0;const r=it(t[0]),s=[...a].findIndex((e=>e===r));return e<s?0:n}}var ct=t(9242);function dt(e,o){const t=e[o];return t?t():[]}function ut({$slots:e,realList:o,getKey:t}){const n=o||[],[a,i]=["header","footer"].map((o=>dt(e,o))),{item:l}=e;if(!l)throw new Error("draggable element must have an item slot");const r=n.flatMap(((e,o)=>l({element:e,index:o}).map((o=>(o.key=t(e),o.props={...o.props||{},"data-draggable":!0},o)))));if(r.length!==n.length)throw new Error("Item slot must have only one child");return{header:a,footer:i,default:r}}function mt(e){const o=Qo(e),t=!Jo(e)&&!o;return{transition:o,externalComponent:t,tag:t?(0,n.up)(e):o?ct.W3:e}}function ht({$slots:e,tag:o,realList:t,getKey:n}){const a=ut({$slots:e,realList:t,getKey:n}),i=mt(o);return new st({nodes:a,root:i,realList:t})}function kt(e,o){(0,n.Y3)((()=>this.$emit(e.toLowerCase(),o)))}function pt(e){return(o,t)=>{if(null!==this.realList)return this[`onDrag${e}`](o,t)}}function bt(e){const o=pt.call(this,e);return(t,n)=>{o.call(this,t,n),kt.call(this,e,t)}}let gt=null;const vt={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},ft=["update:modelValue","change",...[...Zo.manageAndEmit,...Zo.emit].map((e=>e.toLowerCase()))],_t=(0,n.aZ)({name:"draggable",inheritAttrs:!1,props:vt,emits:ft,data(){return{error:!1}},render(){try{this.error=!1;const{$slots:e,$attrs:o,tag:t,componentData:a,realList:i,getKey:l}=this,r=ht({$slots:e,tag:t,realList:i,getKey:l});this.componentStructure=r;const s=tt({$attrs:o,componentData:a});return r.render(n.h,s)}catch(e){return this.error=!0,(0,n.h)("pre",{style:{color:"red"}},e.stack)}},created(){null!==this.list&&null!==this.modelValue&&jo.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted(){if(this.error)return;const{$attrs:e,$el:o,componentStructure:t}=this;t.updated();const n=nt({$attrs:e,callBackBuilder:{manageAndEmit:e=>bt.call(this,e),emit:e=>kt.bind(this,e),manage:e=>pt.call(this,e)}}),a=1===o.nodeType?o:o.parentElement;this._sortable=new No(a,n),this.targetDomElement=a,a.__draggable_component__=this},updated(){this.componentStructure.updated()},beforeUnmount(){void 0!==this._sortable&&this._sortable.destroy()},computed:{realList(){const{list:e}=this;return e||this.modelValue},getKey(){const{itemKey:e}=this;return"function"===typeof e?e:o=>o[e]}},watch:{$attrs:{handler(e){const{_sortable:o}=this;o&&at(e).forEach((([e,t])=>{o.option(e,t)}))},deep:!0}},methods:{getUnderlyingVm(e){return this.componentStructure.getUnderlyingVm(e)||null},getUnderlyingPotencialDraggableComponent(e){return e.__draggable_component__},emitChanges(e){(0,n.Y3)((()=>this.$emit("change",e)))},alterList(e){if(this.list)return void e(this.list);const o=[...this.modelValue];e(o),this.$emit("update:modelValue",o)},spliceList(){const e=e=>e.splice(...arguments);this.alterList(e)},updatePosition(e,o){const t=t=>t.splice(o,0,t.splice(e,1)[0]);this.alterList(t)},getRelatedContextFromMoveEvent({to:e,related:o}){const t=this.getUnderlyingPotencialDraggableComponent(e);if(!t)return{component:t};const n=t.realList,a={list:n,component:t};if(e!==o&&n){const e=t.getUnderlyingVm(o)||{};return{...e,...a}}return a},getVmIndexFromDomIndex(e){return this.componentStructure.getVmIndexFromDomIndex(e,this.targetDomElement)},onDragStart(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),gt=e.item},onDragAdd(e){const o=e.item._underlying_vm_;if(void 0===o)return;Ao(e.item);const t=this.getVmIndexFromDomIndex(e.newIndex);this.spliceList(t,0,o);const n={element:o,newIndex:t};this.emitChanges({added:n})},onDragRemove(e){if(Lo(this.$el,e.item,e.oldIndex),"clone"===e.pullMode)return void Ao(e.clone);const{index:o,element:t}=this.context;this.spliceList(o,1);const n={element:t,oldIndex:o};this.emitChanges({removed:n})},onDragUpdate(e){Ao(e.item),Lo(e.from,e.item,e.oldIndex);const o=this.context.index,t=this.getVmIndexFromDomIndex(e.newIndex);this.updatePosition(o,t);const n={element:this.context.element,oldIndex:o,newIndex:t};this.emitChanges({moved:n})},computeFutureIndex(e,o){if(!e.element)return 0;const t=[...o.to.children].filter((e=>"none"!==e.style["display"])),n=t.indexOf(o.related),a=e.component.getVmIndexFromDomIndex(n),i=-1!==t.indexOf(gt);return i||!o.willInsertAfter?a:a+1},onDragMove(e,o){const{move:t,realList:n}=this;if(!t||!n)return!0;const a=this.getRelatedContextFromMoveEvent(e),i=this.computeFutureIndex(a,e),l={...this.context,futureIndex:i},r={...e,relatedContext:a,draggedContext:l};return t(r,o)},onDragEnd(){gt=null}}});var wt=_t,yt={props:{sideBar:Boolean,bookcase:Object},components:{Draggable:wt},data(){return{}},setup(){},created(){},mounted(){},unmounted(){},computed:{library:{get(){return this.$store.state.bookStore.library},set(e){const o=[];e.forEach((e=>{o.push(e.bookcase.bookcase_seq)}));const t="/bookcase/order",n={account_seq:this.$store.state.accountStore.account.account_seq,bookcase_order:JSON.stringify(o)};this.$axios.post(t,null,{params:n}),this.$store.commit("editBookcaseOrder",e);const a=this.$store.state.bookStore.library.findIndex((e=>e.bookcase.bookcase_seq===this.bookcase.bookcase_seq));this.$emit("select",a)}}},methods:{}},xt=t(89);const Ct=(0,xt.Z)(yt,[["render",b],["__scopeId","data-v-0b41cb46"]]);var It=Ct;const Bt={class:"title elevation-1"},Dt={class:"title-text"},St=["value"],Et={class:"title-button-group"},Vt={class:"contents"};function Mt(e,o,t,a,i,l){const r=(0,n.up)("v-icon"),s=(0,n.up)("v-btn"),c=(0,n.up)("book-list"),d=(0,n.up)("create-book"),m=(0,n.up)("edit-book"),h=(0,n.up)("move-book"),k=(0,n.up)("create-bookmark"),p=(0,n.up)("edit-bookmark"),b=(0,n.up)("share-bookcase");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",{class:(0,u.C_)(["library-container",{extend:!t.sideBar}])},[(0,n._)("div",Bt,[(0,n._)("div",Dt,[(0,n._)("input",{ref:"editName",value:t.bookcase.bookcase_name,onFocusin:o[0]||(o[0]=e=>i.editable=!0),onFocusout:o[1]||(o[1]=(...e)=>l.editName&&l.editName(...e)),onKeydown:[o[2]||(o[2]=(0,ct.D2)(((...e)=>l.editName&&l.editName(...e)),["enter"])),o[3]||(o[3]=(0,ct.D2)(((...e)=>l.escapeEdit&&l.escapeEdit(...e)),["esc"]))],maxlength:"12"},null,40,St)]),(0,n._)("div",Et,[(0,n.Wm)(s,{class:"title-button elevation-3",color:"red",onClick:l.deleteBookcase},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-delete")])),_:1}),(0,n.Uk)(" Delete ")])),_:1},8,["onClick"]),(0,n.Wm)(s,{class:"title-button elevation-3",color:"blue",onClick:l.openShare},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-share")])),_:1}),(0,n.Uk)(" Share ")])),_:1},8,["onClick"])])]),(0,n._)("div",Vt,[(0,n.Wm)(c,{bookcase:t.bookcase,bookcaseIndex:t.bookcaseIndex,onOpenModal:l.openModal,onSetBook:l.setBook,onSetBookmark:l.setBookmark},null,8,["bookcase","bookcaseIndex","onOpenModal","onSetBook","onSetBookmark"])])],2),i.createBook?((0,n.wg)(),(0,n.j4)(d,{key:0,bookcase:t.bookcase,bookcaseIndex:t.bookcaseIndex,onClose:l.closeModal},null,8,["bookcase","bookcaseIndex","onClose"])):(0,n.kq)("",!0),i.editBook?((0,n.wg)(),(0,n.j4)(m,{key:1,book:i.book,bookIndex:i.bookIndex,bookcaseIndex:t.bookcaseIndex,onClose:l.closeModal},null,8,["book","bookIndex","bookcaseIndex","onClose"])):(0,n.kq)("",!0),i.moveBook?((0,n.wg)(),(0,n.j4)(h,{key:2,book:i.book,bookcase:t.bookcase,bookcaseIndex:t.bookcaseIndex,onClose:l.closeModal},null,8,["book","bookcase","bookcaseIndex","onClose"])):(0,n.kq)("",!0),i.createBookmark?((0,n.wg)(),(0,n.j4)(k,{key:3,book:i.book,bookIndex:i.bookIndex,bookcaseIndex:t.bookcaseIndex,onClose:l.closeModal},null,8,["book","bookIndex","bookcaseIndex","onClose"])):(0,n.kq)("",!0),i.editBookmark?((0,n.wg)(),(0,n.j4)(p,{key:4,bookmark:i.bookmark,bookmarkIndex:i.bookmarkIndex,book:i.book,bookIndex:i.bookIndex,bookcaseIndex:t.bookcaseIndex,onClose:l.closeModal},null,8,["bookmark","bookmarkIndex","book","bookIndex","bookcaseIndex","onClose"])):(0,n.kq)("",!0),i.shareBookcase?((0,n.wg)(),(0,n.j4)(b,{key:5,bookcase:t.bookcase,bookcaseIndex:t.bookcaseIndex,onClose:l.closeModal},null,8,["bookcase","bookcaseIndex","onClose"])):(0,n.kq)("",!0)],64)}const $t={class:"modal__title"},Tt={class:"modal__content"},qt=["onClick"],Wt=["onClick"];function Ot(e,o,t,a,i,l){const r=(0,n.up)("v-icon"),s=(0,n.up)("v-radio"),c=(0,n.up)("v-col"),d=(0,n.up)("v-row"),m=(0,n.up)("v-radio-group"),h=(0,n.up)("v-slide-group-item"),k=(0,n.up)("v-slide-group"),p=(0,n.up)("v-text-field"),b=(0,n.up)("v-responsive"),g=(0,n.up)("loading-button"),v=(0,n.up)("vue-final-modal");return(0,n.wg)(),(0,n.j4)(v,{modelValue:i.showModal,"onUpdate:modelValue":o[6]||(o[6]=e=>i.showModal=e),classes:"modal-container","content-class":"modal-content elevation-3","lock-scroll":!0,"click-to-close":!0,"esc-to-close":!0,onClosed:l.close},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:"mdi-close",class:"modal__close",color:"#808080",onClick:o[0]||(o[0]=e=>i.showModal=!1)}),(0,n._)("span",$t,[(0,n.wy)((0,n._)("input",{type:"color",class:"color-custom","onUpdate:modelValue":o[1]||(o[1]=e=>i.icon_color=e)},null,512),[[ct.nr,i.icon_color]]),(0,n.Wm)(r,{icon:i.icon,size:"x-large",color:i.icon_color},null,8,["icon","color"])]),(0,n._)("div",Tt,[(0,n.Wm)(m,{class:"mb-3",modelValue:i.book_type,"onUpdate:modelValue":o[2]||(o[2]=e=>i.book_type=e),inline:"","hide-details":""},{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{cols:"6",class:"text-end"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{label:"북마크 북",value:"Bookmark",color:"indigo"})])),_:1}),(0,n.Wm)(c,{cols:"6",class:"text-start"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{label:"비디오 북",value:"Video",color:"indigo"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n._)("div",null,[(0,n._)("fieldset",null,[(0,n._)("legend",null,[(0,n.Uk)("Icon "),(0,n.wy)((0,n._)("input",{style:{position:"absolute"},type:"color","onUpdate:modelValue":o[3]||(o[3]=e=>i.icon_color=e)},null,512),[[ct.nr,i.icon_color]])]),(0,n.Wm)(k,{"show-arrows":"",style:{width:"20rem"}},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.icons,(e=>((0,n.wg)(),(0,n.j4)(h,{key:e},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{class:(0,u.C_)(["icon",{selected:e===this.icon}]),icon:e,onClick:o=>this.icon=e},null,8,["class","icon","onClick"])])),_:2},1024)))),128))])),_:1}),(0,n._)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.colors,(e=>((0,n.wg)(),(0,n.iD)("span",{class:"color-filter my-3",key:e},[(0,n._)("div",{class:"color-pick",style:(0,u.j5)({"background-color":e}),onClick:o=>i.icon_color=e},null,12,qt)])))),128))])])]),(0,n._)("div",null,[(0,n._)("fieldset",{style:(0,u.j5)(`border:2px solid ${i.book_color}`)},[(0,n._)("legend",null,[(0,n.Uk)("Line color "),(0,n.wy)((0,n._)("input",{style:{position:"absolute"},type:"color","onUpdate:modelValue":o[4]||(o[4]=e=>i.book_color=e)},null,512),[[ct.nr,i.book_color]])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.colors,(e=>((0,n.wg)(),(0,n.iD)("span",{class:"color-filter",key:e},[(0,n._)("div",{class:"color-pick",style:(0,u.j5)({"background-color":e}),onClick:o=>i.book_color=e},null,12,Wt)])))),128))],4)]),(0,n.Wm)(b,{class:"mx-auto my-3","max-width":"320"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{variant:"underlined",label:"이름",modelValue:i.book_name,"onUpdate:modelValue":o[5]||(o[5]=e=>i.book_name=e),class:(0,u.C_)({invalid:""===i.book_name}),rules:[i.rules.required],counter:"",maxlength:"12"},null,8,["modelValue","class","rules"])])),_:1}),(0,n.Wm)(g,{text:i.text,loading:i.loading,onClick:l.create},null,8,["text","loading","onClick"])])])),_:1},8,["modelValue","onClosed"])}var Nt=t(2848),At=t(4860),Lt={props:{bookcase:Object,bookcaseIndex:Number},components:{VueFinalModal:Nt.iR,LoadingButton:At.Z},data(){return{showModal:!0,text:"생성",loading:!1,book_type:"Bookmark",book_name:"",book_color:"#9896A4",colors:["#9896A4","#F7C9C9","#F7776A","#DD4132","#F9E03D","#78C752","#97DDDD","#91A8D1","#034F83","#B18F6A"],icon:"mdi-book-multiple",icon_color:"#9896A4",icons:["mdi-book-open-page-variant","mdi-star","mdi-heart","mdi-book-multiple","mdi-youtube","mdi-email","mdi-forum","mdi-cart","mdi-music","mdi-pencil","mdi-controller","mdi-silverware-fork-knife","mdi-information","mdi-briefcase","mdi-camera","mdi-palette","mdi-movie","mdi-tennis-ball","mdi-dog-side","mdi-map-marker","mdi-car","mdi-headset","mdi-hospital-box","mdi-chef-hat","mdi-cloud","mdi-cog","mdi-dice-3","mdi-glass-cocktail","mdi-lock","mdi-watch","mdi-pistol","mdi-looks"],rules:{required:e=>!!e||""}}},setup(){},created(){},mounted(){},unmounted(){},watch:{book_type:function(){this.icon="Bookmark"===this.book_type?"mdi-book-multiple":"mdi-youtube"}},methods:{close(){this.showModal=!0,this.$emit("close","createBook")},async create(){const e=document.querySelectorAll(".invalid");if(this.loading||!this.$isValid(e))return!1;this.text="",this.loading=!0;const o="/book/create",t={parent_bookcase_seq:this.bookcase.bookcase_seq,book_name:this.book_name,book_color:this.book_color,book_icon:this.icon,book_icon_color:this.icon_color,book_type:this.book_type},n=await this.$axios.post(o,null,{params:t});if(!n.data)return!1;this.$store.commit("addBook",{book:n.data,bookcaseIndex:this.bookcaseIndex}),this.close()}}};const Ut=(0,xt.Z)(Lt,[["render",Ot],["__scopeId","data-v-5f2ecf41"]]);var jt=Ut;const Ft={class:"modal__title"},Pt={class:"modal__content"},Rt=["onClick"],Yt=["onClick"];function zt(e,o,t,a,i,l){const r=(0,n.up)("v-icon"),s=(0,n.up)("v-radio"),c=(0,n.up)("v-col"),d=(0,n.up)("v-row"),m=(0,n.up)("v-radio-group"),h=(0,n.up)("v-slide-group-item"),k=(0,n.up)("v-slide-group"),p=(0,n.up)("v-text-field"),b=(0,n.up)("v-responsive"),g=(0,n.up)("loading-button"),v=(0,n.up)("vue-final-modal");return(0,n.wg)(),(0,n.j4)(v,{modelValue:i.showModal,"onUpdate:modelValue":o[6]||(o[6]=e=>i.showModal=e),classes:"modal-container","content-class":"modal-content elevation-3","lock-scroll":!0,"click-to-close":!0,"esc-to-close":!0,onClosed:l.close},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:"mdi-close",class:"modal__close",color:"#808080",onClick:o[0]||(o[0]=e=>i.showModal=!1)}),(0,n._)("span",Ft,[(0,n.wy)((0,n._)("input",{type:"color",class:"color-custom","onUpdate:modelValue":o[1]||(o[1]=e=>i.icon_color=e)},null,512),[[ct.nr,i.icon_color]]),(0,n.Wm)(r,{icon:i.icon,size:"x-large",color:i.icon_color},null,8,["icon","color"])]),(0,n._)("div",Pt,[(0,n.Wm)(m,{readonly:"",inline:"",class:"mb-3",modelValue:i.book_type,"onUpdate:modelValue":o[2]||(o[2]=e=>i.book_type=e),"hide-details":""},{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{cols:"12"},{default:(0,n.w5)((()=>["Bookmark"===i.book_type?((0,n.wg)(),(0,n.j4)(s,{key:0,label:"북마크 북",value:"Bookmark",color:"indigo"})):(0,n.kq)("",!0),"Video"===i.book_type?((0,n.wg)(),(0,n.j4)(s,{key:1,label:"비디오 북",value:"Video",color:"indigo"})):(0,n.kq)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n._)("div",null,[(0,n._)("fieldset",null,[(0,n._)("legend",null,[(0,n.Uk)("Icon "),(0,n.wy)((0,n._)("input",{style:{position:"absolute"},type:"color","onUpdate:modelValue":o[3]||(o[3]=e=>i.icon_color=e)},null,512),[[ct.nr,i.icon_color]])]),(0,n.Wm)(k,{"show-arrows":"",style:{width:"20rem"}},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.icons,(e=>((0,n.wg)(),(0,n.j4)(h,{key:e},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{class:(0,u.C_)(["icon",{selected:e===this.icon}]),icon:e,onClick:o=>this.icon=e},null,8,["class","icon","onClick"])])),_:2},1024)))),128))])),_:1}),(0,n._)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.colors,(e=>((0,n.wg)(),(0,n.iD)("span",{class:"color-filter my-3",key:e},[(0,n._)("div",{class:"color-pick",style:(0,u.j5)({"background-color":e}),onClick:o=>i.icon_color=e},null,12,Rt)])))),128))])])]),(0,n._)("div",null,[(0,n._)("fieldset",{style:(0,u.j5)(`border:2px solid ${i.book_color}`)},[(0,n._)("legend",null,[(0,n.Uk)("Line color "),(0,n.wy)((0,n._)("input",{style:{position:"absolute"},type:"color","onUpdate:modelValue":o[4]||(o[4]=e=>i.book_color=e)},null,512),[[ct.nr,i.book_color]])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.colors,(e=>((0,n.wg)(),(0,n.iD)("span",{class:"color-filter",key:e},[(0,n._)("div",{class:"color-pick",style:(0,u.j5)({"background-color":e}),onClick:o=>i.book_color=e},null,12,Yt)])))),128))],4)]),(0,n.Wm)(b,{class:"mx-auto my-3","max-width":"320"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{variant:"underlined",label:"이름",modelValue:i.book_name,"onUpdate:modelValue":o[5]||(o[5]=e=>i.book_name=e),class:(0,u.C_)({invalid:""===i.book_name}),rules:[i.rules.required],counter:"",maxlength:"12"},null,8,["modelValue","class","rules"])])),_:1}),(0,n.Wm)(g,{text:i.text,loading:i.loading,onClick:l.edit},null,8,["text","loading","onClick"])])])),_:1},8,["modelValue","onClosed"])}var Xt={props:{book:Object,bookcaseIndex:Number,bookIndex:Number},components:{VueFinalModal:Nt.iR,LoadingButton:At.Z},data(){return{showModal:!0,text:"변경",loading:!1,book_type:this.book.book_type,book_name:this.book.book_name,book_color:this.book.book_color,colors:["#9896A4","#F7C9C9","#F7776A","#DD4132","#F9E03D","#78C752","#97DDDD","#91A8D1","#034F83","#B18F6A"],icon:this.book.book_icon,icon_color:this.book.book_icon_color,icons:["mdi-book-open-page-variant","mdi-star","mdi-heart","mdi-book-multiple","mdi-youtube","mdi-email","mdi-forum","mdi-cart","mdi-music","mdi-controller","mdi-pencil","mdi-silverware-fork-knife","mdi-information","mdi-briefcase","mdi-camera","mdi-palette","mdi-movie","mdi-tennis-ball","mdi-dog-side","mdi-map-marker","mdi-car","mdi-headset","mdi-hospital-box","mdi-chef-hat","mdi-cloud","mdi-cog","mdi-dice-3","mdi-glass-cocktail","mdi-lock","mdi-watch","mdi-pistol","mdi-looks"],rules:{required:e=>!!e||""}}},setup(){},created(){},mounted(){},unmounted(){},methods:{close(){this.showModal=!0,this.$emit("close","editBook")},async edit(){const e=document.querySelectorAll(".invalid");if(this.loading||!this.$isValid(e))return!1;this.text="",this.loading=!0;const o="/book/edit",t={book_seq:this.book.book_seq,book_name:this.book_name,book_color:this.book_color,book_icon:this.icon,book_icon_color:this.icon_color},n=await this.$axios.post(o,null,{params:t});if(!n.data)return!1;this.$store.commit("editBook",{book:n.data.book,bookcaseIndex:this.bookcaseIndex,bookIndex:this.bookIndex}),this.close()}}};const Ht=(0,xt.Z)(Xt,[["render",zt],["__scopeId","data-v-237ff742"]]);var Zt=Ht;const Kt={class:"modal__title"},Gt={class:"book-name"},Jt={class:"modal__content"};function Qt(e,o,t,a,i,l){const r=(0,n.up)("v-icon"),s=(0,n.up)("v-text-field"),c=(0,n.up)("v-select"),d=(0,n.up)("v-responsive"),m=(0,n.up)("loading-button"),h=(0,n.up)("vue-final-modal");return(0,n.wg)(),(0,n.j4)(h,{modelValue:i.showModal,"onUpdate:modelValue":o[2]||(o[2]=e=>i.showModal=e),classes:"modal-container","content-class":"modal-content elevation-3","lock-scroll":!0,"click-to-close":!0,"esc-to-close":!0,onClosed:l.close},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:"mdi-close",class:"modal__close",color:"#808080",onClick:o[0]||(o[0]=e=>i.showModal=!1)}),(0,n._)("span",Kt,[(0,n.Wm)(r,{icon:"mdi-folder-move",size:"x-large",color:this.book.book_color},null,8,["color"]),(0,n._)("div",Gt,(0,u.zw)(this.book.book_name),1)]),(0,n._)("div",Jt,[(0,n.Wm)(d,{class:"mx-auto","max-width":"256"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{class:"mb-7",variant:"filled",label:"from","model-value":this.bookcase.bookcase_name,readonly:"","hide-details":""},null,8,["model-value"]),(0,n.Wm)(r,{icon:"mdi-arrow-down-bold",size:"large",style:{margin:"0 0 1rem"}}),(0,n.Wm)(c,{class:"destination mb-7",variant:"filled",label:"to",modelValue:i.select,"onUpdate:modelValue":o[1]||(o[1]=e=>i.select=e),items:i.items,"item-title":"bookcase.bookcase_name","return-object":"","hide-details":""},null,8,["modelValue","items"])])),_:1}),(0,n.Wm)(m,{text:i.text,loading:i.loading,onClick:l.move},null,8,["text","loading","onClick"])])])),_:1},8,["modelValue","onClosed"])}var en={props:{book:Object,bookcase:Object,bookcaseIndex:Number},components:{VueFinalModal:Nt.iR,LoadingButton:At.Z},data(){return{showModal:!0,text:"이동",loading:!1,book_name:this.book.book_name,select:null,items:null}},setup(){},created(){const e=[];for(let o=0;o<this.$store.state.bookStore.library.length;o++)o!==this.bookcaseIndex&&e.push(this.$store.state.bookStore.library[o]);this.select=e[0],this.items=e},mounted(){},unmounted(){},methods:{close(){this.showModal=!0,this.$emit("close","moveBook")},async move(){this.text="",this.loading=!0;const e="/book/move",o={account_seq:this.$store.state.accountStore.account.account_seq,book_seq:this.book.book_seq,origin_seq:this.bookcase.bookcase_seq,destination_seq:this.select.bookcase.bookcase_seq},t=await this.$axios.post(e,null,{params:o});if(!t.data)return!1;this.$store.commit("moveBook",t.data),this.close()}}};const on=(0,xt.Z)(en,[["render",Qt],["__scopeId","data-v-377884aa"]]);var tn=on;const nn={class:"modal__title"},an={class:"modal__content"};function ln(e,o,t,a,i,l){const r=(0,n.up)("v-icon"),s=(0,n.up)("v-text-field"),c=(0,n.up)("v-textarea"),d=(0,n.up)("v-responsive"),m=(0,n.up)("loading-button"),h=(0,n.up)("vue-final-modal");return(0,n.wg)(),(0,n.j4)(h,{modelValue:i.showModal,"onUpdate:modelValue":o[5]||(o[5]=e=>i.showModal=e),classes:"modal-container","content-class":"modal-content elevation-3","lock-scroll":!0,"click-to-close":!0,"esc-to-close":!0,onClosed:l.close},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:"mdi-close",class:"modal__close",color:"#808080",onClick:o[0]||(o[0]=e=>i.showModal=!1)}),(0,n._)("span",nn,[(0,n.Wm)(r,{icon:"mdi-bookmark-multiple",size:"x-large"})]),(0,n._)("div",an,[(0,n.Wm)(d,{class:"mx-auto","max-width":"256"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{variant:"underlined",label:"이름",modelValue:i.bookmark_name,"onUpdate:modelValue":o[1]||(o[1]=e=>i.bookmark_name=e),class:(0,u.C_)({invalid:""===i.bookmark_name}),rules:[i.rules.required],counter:"",maxlength:"12"},null,8,["modelValue","class","rules"]),"Bookmark"===this.book.book_type?((0,n.wg)(),(0,n.j4)(s,{key:0,class:(0,u.C_)(["mb-3",{invalid:""===i.bookmark_url}]),variant:"underlined",label:"URL",modelValue:i.bookmark_url,"onUpdate:modelValue":o[2]||(o[2]=e=>i.bookmark_url=e),rules:[i.rules.required],maxlength:"1000"},null,8,["modelValue","class","rules"])):(0,n.kq)("",!0),"Video"===this.book.book_type?((0,n.wg)(),(0,n.j4)(s,{key:1,class:(0,u.C_)(["text-start mb-3",{invalid:""===i.video_url||!i.video_valid}]),variant:"underlined",label:"URL",modelValue:i.video_url,"onUpdate:modelValue":o[3]||(o[3]=e=>i.video_url=e),rules:[i.rules.required],loading:i.video_loading,hint:i.hint,"persistent-hint":"",onChange:l.getVideoData},null,8,["modelValue","class","rules","loading","hint","onChange"])):(0,n.kq)("",!0),(0,n.Wm)(c,{variant:"outlined",label:"메모",modelValue:i.bookmark_memo,"onUpdate:modelValue":o[4]||(o[4]=e=>i.bookmark_memo=e),"no-resize":"",rows:"3",counter:"",maxlength:"60"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(m,{text:i.text,loading:i.loading,onClick:l.create},null,8,["text","loading","onClick"])])])),_:1},8,["modelValue","onClosed"])}var rn={props:{book:Object,bookcaseIndex:Number,bookIndex:Number},components:{VueFinalModal:Nt.iR,LoadingButton:At.Z},data(){return{showModal:!0,text:"생성",loading:!1,bookmark_name:"",bookmark_url:"",bookmark_memo:"",bookmark_icon:"",video_url:"",video_title:"",video_channel:"",video_loading:!1,hint:"* 현재 YouTube 링크만 지원 가능해요.",video_valid:!1,rules:{required:e=>!!e||""}}},setup(){},created(){},mounted(){},unmounted(){},methods:{close(){this.showModal=!0,this.$emit("close","createBookmark")},async create(){const e=document.querySelectorAll(".invalid");if(this.loading||!this.$isValid(e))return!1;this.text="",this.loading=!0;const o="/bookmark/create",t={parent_book_seq:this.book.book_seq,bookmark_name:this.bookmark_name,bookmark_url:"Bookmark"===this.book.book_type?this.bookmark_url:"-",bookmark_memo:this.bookmark_memo,bookmark_icon:this.bookmark_icon,video_id:"Video"===this.book.book_type?this.getId(this.video_url):"-",video_title:"Video"===this.book.book_type?this.video_title:"-",video_channel:"Video"===this.book.book_type?this.video_channel:"-"},n=await this.$axios.post(o,null,{params:t});if(!n.data)return!1;this.$store.commit("addBookmark",{bookmark:n.data,bookcaseIndex:this.bookcaseIndex,bookIndex:this.bookIndex}),this.close()},async getVideoData(){const e=this.getId(this.video_url);if(null===e)return this.hint="* 올바른 형식의 URL을 입력하세요.",this.video_valid=!1,!1;this.video_loading=!0;const o="https://www.googleapis.com/youtube/v3/videos",t={part:"snippet",id:e,key:"AIzaSyDyq-JOF0s6xKnoBl1ZrQ1vadozAv7Xzss"},n=await this.$axios.get(o,{params:t});if(this.video_loading=!1,0===n.data.items.length)return this.hint="* 동영상을 찾을 수 없어요.",this.video_valid=!1,!1;const a=n.data.items[0].snippet.title;this.hint=a.length<20?"* "+a:"* "+a.slice(0,19)+"...",this.video_title=a,this.video_channel=n.data.items[0].snippet.channelTitle,this.video_valid=!0},getId(e){const o=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;return null===e.match(o)?null:e.match(o)[2]}}};const sn=(0,xt.Z)(rn,[["render",ln],["__scopeId","data-v-1bcf4d6a"]]);var cn=sn;const dn={class:"book"},un=["onClick"],mn={class:"pl-3"},hn=["onDrop"],kn={class:"book-tools elevation-3"};function pn(e,o,t,a,i,l){const r=(0,n.up)("v-icon"),s=(0,n.up)("v-btn"),c=(0,n.up)("bookmark-list"),d=(0,n.up)("v-expand-transition"),m=(0,n.up)("draggable");return(0,n.wg)(),(0,n.j4)(m,{tag:"div",class:"book-group",modelValue:l.bookList,"onUpdate:modelValue":o[1]||(o[1]=e=>l.bookList=e),"item-key":"book.book_seq",handle:".handle"},{item:(0,n.w5)((({element:e,index:o})=>[(0,n._)("div",dn,[(0,n._)("div",{class:"book-title d-flex align-center handle elevation-3",onClick:t=>l.setBookState(e.book,o)},[(0,n.Wm)(r,{icon:e.book.book_icon,color:e.book.book_icon_color,size:"small"},null,8,["icon","color"]),(0,n._)("div",mn,(0,u.zw)(e.book.book_name),1),(0,n.Wm)(s,{class:"book-fold",variant:"plain",icon:"Y"===e.book.book_open?"mdi-chevron-up":"mdi-chevron-down"},null,8,["icon"])],8,un),(0,n._)("div",{class:"elevation-1",style:(0,u.j5)([{height:"0.8rem"},{background:`linear-gradient( to right,\n          ${e.book.book_color} 90%,\n          ${e.book.book_color+"64"}`}])},null,4),(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("div",{class:"book-content elevation-3",onDrop:t=>{i.targetBook=e.book,i.targetBookIndex=o}},[(0,n._)("div",null,[(0,n.Wm)(c,{book:e.book,bookcaseIndex:t.bookcaseIndex,bookIndex:o,targetBook:i.targetBook,targetBookIndex:i.targetBookIndex,onOpenModal:t=>l.openModal(e.book,o,"editBookmark"),onSetBookmark:l.setBookmark,onSetBook:t=>this.$emit("setBook",{book:e.book,bookIndex:o})},null,8,["book","bookcaseIndex","bookIndex","targetBook","targetBookIndex","onOpenModal","onSetBookmark","onSetBook"])])],40,hn),[[ct.F8,"Y"===e.book.book_open]])])),_:2},1024),(0,n._)("div",kn,[(0,n.Wm)(s,{variant:"plain",icon:"mdi-book-plus",onClick:t=>l.openModal(e.book,o,"createBookmark")},null,8,["onClick"]),(0,n.Wm)(s,{variant:"plain",icon:"mdi-pencil-box-multiple",onClick:t=>l.openModal(e.book,o,"editBook")},null,8,["onClick"]),(0,n.Wm)(s,{variant:"plain",icon:"mdi-folder-move",onClick:t=>l.moveBook(e.book,o)},null,8,["onClick"]),(0,n.Wm)(s,{variant:"plain",icon:"mdi-delete",onClick:o=>l.deleteBook(e.book)},null,8,["onClick"])])])])),footer:(0,n.w5)((()=>[(0,n.Wm)(s,{variant:"text",class:"book book-create elevation-3",onClick:o[0]||(o[0]=e=>this.$emit("openModal","createBook"))},{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-view-grid-plus")])),_:1})])),_:1})])),_:1},8,["modelValue"])}const bn=e=>((0,n.dD)("data-v-7c8ceedd"),e=e(),(0,n.Cn)(),e),gn={key:0,class:"d-flex align-center justify-center",style:{height:"40px","background-color":"#808080",color:"white"}},vn=bn((()=>(0,n._)("div",null,"아직 등록된 북마크가 없어요.",-1))),fn=[vn],_n={key:1,class:"d-flex align-center justify-center",style:{height:"200px","background-color":"#808080",color:"white"}},wn=bn((()=>(0,n._)("div",null,"표시할 컨텐츠가 존재하지 않아요.",-1))),yn=[wn],xn=["onMouseenter","onMouseleave"],Cn={key:0,class:"d-flex align-center"},In=["src"],Bn=["href"],Dn=bn((()=>(0,n._)("strong",null,"URL",-1))),Sn=bn((()=>(0,n._)("hr",null,null,-1))),En=bn((()=>(0,n._)("strong",null,"MEMO",-1))),Vn={key:1,class:"d-flex align-center"},Mn=["onClick"],$n=bn((()=>(0,n._)("strong",null,"TITLE",-1))),Tn=bn((()=>(0,n._)("br",null,null,-1))),qn=bn((()=>(0,n._)("strong",null,"CHANNEL",-1))),Wn=bn((()=>(0,n._)("hr",null,null,-1))),On=bn((()=>(0,n._)("strong",null,"MEMO",-1))),Nn={class:"ml-auto"};function An(e,o,t,a,i,l){const r=(0,n.up)("YouTube"),s=(0,n.up)("v-tooltip"),c=(0,n.up)("v-icon"),d=(0,n.up)("v-btn"),m=(0,n.up)("draggable");return(0,n.wg)(),(0,n.j4)(m,{tag:"div",class:(0,u.C_)(0!==l.bookmarkList.length?"bookmark-group":""),modelValue:l.bookmarkList,"onUpdate:modelValue":o[1]||(o[1]=e=>l.bookmarkList=e),"item-key":"bookmark.seq",group:"Bookmark"===this.book.book_type?"Book":"VideoBook",onChange:l.moveBookmark},{header:(0,n.w5)((()=>["Bookmark"===this.book.book_type&&0===this.bookmarkList.length?((0,n.wg)(),(0,n.iD)("div",gn,fn)):(0,n.kq)("",!0),"Video"===this.book.book_type&&0===this.bookmarkList.length?((0,n.wg)(),(0,n.iD)("div",_n,yn)):(0,n.kq)("",!0),"Video"===this.book.book_type&&0!==this.bookmarkList.length?((0,n.wg)(),(0,n.j4)(r,{key:2,src:"https://www.youtube.com/watch?v="+this.bookmarkList[this.book.video_index].video_id,vars:{start:this.bookmarkList[this.book.video_index].video_time},ref:`youtube${this.bookIndex}`,width:"288",height:"200",onStateChange:o[0]||(o[0]=e=>l.onStateChange(l.bookmarkList[this.book.video_index].bookmark_seq))},null,8,["src","vars"])):(0,n.kq)("",!0)])),item:(0,n.w5)((({element:e,index:o})=>[(0,n._)("div",{class:"bookmark d-flex align-center",onMouseenter:e=>i.showTools[o]=!0,onMouseleave:e=>i.showTools[o]=!1},["Bookmark"===this.book.book_type?((0,n.wg)(),(0,n.iD)("div",Cn,[(0,n._)("img",{src:"https://www.google.com/s2/favicons?domain="+e.bookmark_url,alt:"favicon"},null,8,In),(0,n._)("a",{class:"px-1",href:l.getUrlFormat(e.bookmark_url),target:"_blank"},[(0,n.Uk)((0,u.zw)(e.bookmark_name)+" ",1),(0,n.Wm)(s,{activator:"parent",location:"top","max-width":"360"},{default:(0,n.w5)((()=>[Dn,(0,n.Uk)(" : "+(0,u.zw)(e.bookmark_url)+" ",1),Sn,En,(0,n.Uk)(" : "+(0,u.zw)(e.bookmark_memo),1)])),_:2},1024)],8,Bn)])):(0,n.kq)("",!0),"Video"===this.book.book_type?((0,n.wg)(),(0,n.iD)("div",Vn,[(0,n.Wm)(c,{icon:"mdi-youtube",color:"red"}),(0,n._)("a",{class:"px-1",href:"javascript:void(0)",onClick:t=>l.loadVideo(e,this.book,o,this.bookIndex)},[(0,n.Uk)((0,u.zw)(e.bookmark_name)+" ",1),(0,n.Wm)(s,{activator:"parent",location:"bottom","max-width":"360"},{default:(0,n.w5)((()=>[$n,(0,n.Uk)(" : "+(0,u.zw)(e.video_title)+" ",1),Tn,qn,(0,n.Uk)(" : "+(0,u.zw)(e.video_channel)+" ",1),Wn,On,(0,n.Uk)(" : "+(0,u.zw)(e.bookmark_memo),1)])),_:2},1024)],8,Mn)])):(0,n.kq)("",!0),(0,n._)("div",Nn,[(0,n.Wm)(d,{class:(0,u.C_)(["bookmark-tools",{show:i.showTools[o]}]),variant:"plain",icon:"mdi-book-edit",size:"small",onClick:t=>l.editBookmark(e,o)},null,8,["class","onClick"]),(0,n.Wm)(d,{class:(0,u.C_)(["bookmark-tools",{show:i.showTools[o]}]),variant:"plain",icon:"mdi-book-remove",color:"red",size:"small",onClick:t=>l.deleteBookmark(e,o)},null,8,["class","onClick"])])],40,xn)])),_:1},8,["class","modelValue","group","onChange"])}var Ln={props:{book:Object,targetBook:Object,bookcaseIndex:Number,bookIndex:Number,targetBookIndex:Number},components:{Draggable:wt},data(){return{showTools:[],setValue:null,bookmark:null}},setup(){},created(){},mounted(){},unmounted(){},computed:{bookmarkList:{get(){return this.$store.state.bookStore.library[this.bookcaseIndex].bookList[this.bookIndex].bookmarkList},set(e){this.setValue=e}}},methods:{getUrlFormat(e){const o=e.startsWith("http://")||e.startsWith("https://");return o?e:"http://"+e},editBookmark(e,o){this.$emit("openModal"),this.$emit("setBookmark",{bookmark:e,bookmarkIndex:o}),this.$emit("setBook")},async deleteBookmark(e,o){const t="/bookmark/delete",n={bookmark_seq:e.bookmark_seq},a=await this.$axios.post(t,null,{params:n});if(!a.data)return!1;this.$store.commit("delBookmark",{bookcaseIndex:this.bookcaseIndex,bookIndex:this.bookIndex,bookmarkIndex:o})},async moveBookmark(e){const o=this.setValue,t=[];o.forEach((e=>{t.push(e.bookmark_seq)}));const n="/bookmark/order",a={book_seq:this.book.book_seq,bookmark_order:JSON.stringify(t)};await this.$axios.post(n,null,{params:a});const i={bookmarkList:o,bookcaseIndex:this.bookcaseIndex,bookIndex:this.bookIndex};if(this.$store.commit("editBookmarkOrder",i),void 0!==e.removed){this.$store.commit("editVideoIndex",{value:0,bookcaseIndex:this.bookcaseIndex,bookIndex:this.bookIndex});const o=e.removed.element,t="/bookmark/move",n={bookmark_seq:o.bookmark_seq,parent_book_seq:this.targetBook.book_seq},a=await this.$axios.post(t,null,{params:n});this.$store.commit("moveBookmark",{bookmark:a.data,bookIndex:this.targetBookIndex,bookcaseIndex:this.bookcaseIndex})}},onStateChange(e){const o=JSON.parse(event.data).info;if(2===o){const o=Math.floor(this.$refs[`youtube${this.bookIndex}`].getCurrentTime()),t="/bookmark/time",n={bookmark_seq:e,video_time:o};this.$axios.post(t,null,{params:n}),this.$store.commit("editVideoTime",{value:o,bookcaseIndex:this.bookcaseIndex,bookIndex:this.bookIndex,bookmark_seq:e})}},loadVideo(e,o,t,n){this.$refs[`youtube${n}`].loadVideoById(e.video_id);const a="/book/index",i={book_seq:o.book_seq,video_index:t};this.$axios.post(a,null,{params:i}),this.$store.commit("editVideoIndex",{value:t,bookcaseIndex:this.bookcaseIndex,bookIndex:this.bookIndex})}}};const Un=(0,xt.Z)(Ln,[["render",An],["__scopeId","data-v-7c8ceedd"]]);var jn=Un,Fn={props:{bookcase:Object,bookcaseIndex:Number},components:{BookmarkList:jn,Draggable:wt},data(){return{targetBook:null,targetBookIndex:null}},setup(){},created(){},mounted(){},unmounted(){},computed:{bookList:{get(){return this.$store.state.bookStore.library[this.bookcaseIndex].bookList},set(e){const o=[];e.forEach((e=>{o.push(e.book.book_seq)}));const t="/book/order",n={bookcase_seq:this.bookcase.bookcase_seq,book_order:JSON.stringify(o)};this.$axios.post(t,null,{params:n}),this.$store.commit("editBookOrder",{book:e,bookcaseIndex:this.bookcaseIndex})}}},methods:{openModal(e,o,t){this.$emit("setBook",{book:e,bookIndex:o}),this.$emit("openModal",t)},setBookState(e,o){const t="Y"===e.book_open?"N":"Y",n="/book/state",a={book_seq:e.book_seq,book_open:t};this.$axios.post(n,null,{params:a}),this.$store.commit("editBookState",{value:t,bookIndex:o,bookcaseIndex:this.bookcaseIndex})},deleteBook(e){const o={html:"<strong>"+e.book_name+"</strong><br>폴더를 삭제 할거에요.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"예",cancelButtonText:"아니오"};this.$swal.fire(o).then((async o=>{if(o.isConfirmed){const o="/book/delete",t={book_seq:e.book_seq},n=await this.$axios.post(o,null,{params:t});if(!n.data)return!1;this.$store.commit("delBook",{book:e,bookcaseIndex:this.bookcaseIndex})}}))},moveBook(e,o){if(this.$store.state.bookStore.library.length<=1){const e={icon:"error",html:"<strong>이동할 페이지가 존재하지 않아요.</strong>"};return this.$swal.fire(e),!1}this.openModal(e,o,"moveBook")},setBookmark(e){this.$emit("setBookmark",e)}}};const Pn=(0,xt.Z)(Fn,[["render",pn],["__scopeId","data-v-371c8883"]]);var Rn=Pn;const Yn={class:"modal__title"},zn={class:"modal__content"};function Xn(e,o,t,a,i,l){const r=(0,n.up)("v-icon"),s=(0,n.up)("v-text-field"),c=(0,n.up)("v-textarea"),d=(0,n.up)("v-responsive"),m=(0,n.up)("loading-button"),h=(0,n.up)("vue-final-modal");return(0,n.wg)(),(0,n.j4)(h,{modelValue:i.showModal,"onUpdate:modelValue":o[5]||(o[5]=e=>i.showModal=e),classes:"modal-container","content-class":"modal-content elevation-3","lock-scroll":!0,"click-to-close":!0,"esc-to-close":!0,onClosed:l.close},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:"mdi-close",class:"modal__close",color:"#808080",onClick:o[0]||(o[0]=e=>i.showModal=!1)}),(0,n._)("span",Yn,[(0,n.Wm)(r,{icon:"mdi-bookmark-multiple",size:"x-large"})]),(0,n._)("div",zn,[(0,n.Wm)(d,{class:"mx-auto","max-width":"256"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{variant:"underlined",label:"이름",modelValue:i.bookmark_name,"onUpdate:modelValue":o[1]||(o[1]=e=>i.bookmark_name=e),class:(0,u.C_)({invalid:""===i.bookmark_name}),rules:[i.rules.required],counter:"",maxlength:"12"},null,8,["modelValue","class","rules"]),"Bookmark"===i.book_type?((0,n.wg)(),(0,n.j4)(s,{key:0,class:(0,u.C_)(["mb-3",{invalid:""===i.bookmark_url}]),variant:"underlined",label:"URL",modelValue:i.bookmark_url,"onUpdate:modelValue":o[2]||(o[2]=e=>i.bookmark_url=e),rules:[i.rules.required],maxlength:"1000"},null,8,["modelValue","class","rules"])):(0,n.kq)("",!0),"Video"===i.book_type?((0,n.wg)(),(0,n.j4)(s,{key:1,class:(0,u.C_)(["text-start mb-3",{invalid:""===i.video_url||!i.video_valid}]),variant:"underlined",label:"URL",modelValue:i.video_url,"onUpdate:modelValue":o[3]||(o[3]=e=>i.video_url=e),rules:[i.rules.required],loading:i.video_loading,hint:i.hint,"persistent-hint":"",onChange:l.getVideoData},null,8,["modelValue","class","rules","loading","hint","onChange"])):(0,n.kq)("",!0),(0,n.Wm)(c,{variant:"outlined",label:"메모",modelValue:i.bookmark_memo,"onUpdate:modelValue":o[4]||(o[4]=e=>i.bookmark_memo=e),"no-resize":"",rows:"3",counter:"",maxlength:"60"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(m,{text:i.text,loading:i.loading,onClick:l.edit},null,8,["text","loading","onClick"])])])),_:1},8,["modelValue","onClosed"])}var Hn={props:{book:Object,bookmark:Object,bookcaseIndex:Number,bookIndex:Number,bookmarkIndex:Number},components:{VueFinalModal:Nt.iR,LoadingButton:At.Z},data(){return{showModal:!0,text:"변경",loading:!1,bookmark_seq:this.bookmark.bookmark_seq,parent_book_seq:this.bookmark.parent_book_seq,bookmark_name:this.bookmark.bookmark_name,bookmark_url:this.bookmark.bookmark_url,bookmark_memo:this.bookmark.bookmark_memo,bookmark_icon:"",book_type:this.book.book_type,video_url:"https://www.youtube.com/watch?v="+this.bookmark.video_id,video_title:this.bookmark.video_title,video_channel:this.bookmark.video_channel,video_loading:!1,hint:"",video_valid:!0,rules:{required:e=>!!e||""}}},setup(){},created(){this.getVideoData(this.video_url)},mounted(){},unmounted(){},methods:{close(){this.showModal=!0,this.$emit("close","editBookmark")},async edit(){const e=document.querySelectorAll(".invalid");if(this.loading||!this.$isValid(e))return!1;this.text="",this.loading=!0;const o="/bookmark/edit",t={bookmark_seq:this.bookmark_seq,parent_book_seq:this.parent_book_seq,bookmark_name:this.bookmark_name,bookmark_url:"Bookmark"===this.book.book_type?this.bookmark_url:"-",bookmark_memo:this.bookmark_memo,bookmark_icon:this.bookmark_icon,video_id:"Video"===this.book.book_type?this.getId(this.video_url):"-",video_title:"Video"===this.book.book_type?this.video_title:"-",video_channel:"Video"===this.book.book_type?this.video_channel:"-"},n=await this.$axios.post(o,null,{params:t});if(!n.data)return!1;this.$store.commit("editBookmark",{bookmark:n.data,bookcaseIndex:this.bookcaseIndex,bookIndex:this.bookIndex,bookmarkIndex:this.bookmarkIndex}),this.close()},async getVideoData(){const e=this.getId(this.video_url);if(null===e)return this.hint="* 올바른 형식의 URL을 입력하세요.",this.video_valid=!1,!1;this.video_loading=!0;const o="https://www.googleapis.com/youtube/v3/videos",t={part:"snippet",id:e,key:"AIzaSyDyq-JOF0s6xKnoBl1ZrQ1vadozAv7Xzss"},n=await this.$axios.get(o,{params:t});if(this.video_loading=!1,0===n.data.items.length)return this.hint="* 동영상을 찾을 수 없어요.",this.video_valid=!1,!1;const a=n.data.items[0].snippet.title;this.hint=a.length<20?"* "+a:"* "+a.slice(0,19)+"...",this.video_title=a,this.video_channel=n.data.items[0].snippet.channelTitle,this.video_valid=!0},getId(e){const o=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;return null===e.match(o)?null:e.match(o)[2]}}};const Zn=(0,xt.Z)(Hn,[["render",Xn],["__scopeId","data-v-19f3e04a"]]);var Kn=Zn;const Gn={class:"modal__title"},Jn={class:"modal__content"};function Qn(e,o,t,a,i,l){const r=(0,n.up)("v-icon"),s=(0,n.up)("v-radio"),c=(0,n.up)("v-col"),d=(0,n.up)("v-row"),m=(0,n.up)("v-radio-group"),h=(0,n.up)("v-text-field"),k=(0,n.up)("v-textarea"),p=(0,n.up)("v-combobox"),b=(0,n.up)("v-chip"),g=(0,n.up)("v-slide-group-item"),v=(0,n.up)("v-slide-group"),f=(0,n.up)("v-responsive"),_=(0,n.up)("v-expand-transition"),w=(0,n.up)("loading-button"),y=(0,n.up)("vue-final-modal");return(0,n.wg)(),(0,n.j4)(y,{modelValue:i.showModal,"onUpdate:modelValue":o[5]||(o[5]=e=>i.showModal=e),classes:"modal-container","content-class":"modal-content elevation-3","lock-scroll":!0,"click-to-close":!0,"esc-to-close":!0,onClosed:l.close},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:"mdi-close",class:"modal__close",color:"#808080",onClick:o[0]||(o[0]=e=>i.showModal=!1)}),(0,n._)("span",Gn,[(0,n.Wm)(r,{icon:"mdi-share",size:"x-large"})]),(0,n._)("div",Jn,[(0,n.Wm)(m,{class:"mb-3",modelValue:i.onlyCode,"onUpdate:modelValue":o[1]||(o[1]=e=>i.onlyCode=e),inline:"","hide-details":""},{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{cols:"6",class:"text-end"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{label:"공유 코드 생성",value:!0,color:"indigo"})])),_:1}),(0,n.Wm)(c,{cols:"6",class:"text-start"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{label:"공개 등록",value:!1,color:"indigo"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(f,{class:"mx-auto","max-width":"320"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{class:(0,u.C_)(["mb-7",{invalid:""===i.bookcase_name}]),variant:"underlined",label:"이름",modelValue:i.bookcase_name,"onUpdate:modelValue":o[2]||(o[2]=e=>i.bookcase_name=e),rules:[i.rules.required],disabled:i.onlyCode,counter:"",maxlength:"12"},null,8,["modelValue","class","rules","disabled"]),(0,n.Wm)(k,{variant:"outlined",label:"내용",modelValue:i.share_contents,"onUpdate:modelValue":o[3]||(o[3]=e=>i.share_contents=e),class:(0,u.C_)({invalid:""===i.share_contents}),"no-resize":"",rows:"3",disabled:i.onlyCode,counter:"",maxlength:"1000"},null,8,["modelValue","class","disabled"]),(0,n.Wm)(p,{class:"input-tag",label:"tag",modelValue:i.temp_tag,"onUpdate:modelValue":o[4]||(o[4]=e=>i.temp_tag=e),items:[],multiple:"",delimiters:[","," "],"hide-details":"","hide-selected":"","prepend-inner-icon":"mdi-tag",onInput:l.moveTag,onKeydown:(0,ct.D2)(l.moveTag,["enter"])},null,8,["modelValue","onInput","onKeydown"]),(0,n.Wm)(v,{class:"slide-tag","show-arrows":""},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.tags,(e=>((0,n.wg)(),(0,n.j4)(g,{key:e},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{class:"mx-1",closable:"","onClick:close":o=>l.deleteTag(e)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,u.zw)(e),1)])),_:2},1032,["onClick:close"])])),_:2},1024)))),128))])),_:1})])),_:1},512),[[ct.F8,!i.onlyCode]])])),_:1}),(0,n.Wm)(w,{text:i.text,loading:i.loading,onClick:l.create},null,8,["text","loading","onClick"])])])),_:1},8,["modelValue","onClosed"])}var ea={props:{bookcase:Object,bookcaseIndex:Number},components:{VueFinalModal:Nt.iR,LoadingButton:At.Z},data(){return{showModal:!0,onlyCode:!0,text:"확인",loading:!1,bookcase_name:this.bookcase.bookcase_name,share_contents:"",temp_tag:[],tags:[],rules:{required:e=>!!e||""}}},setup(){},created(){},mounted(){},unmounted(){},methods:{close(){this.showModal=!0,this.$emit("close","shareBookcase")},moveTag(){if(this.temp_tag.length>0){const e=this.temp_tag.pop();this.tags.includes(e)||this.tags.push(e)}},deleteTag(e){const o=this.tags.findIndex((o=>o===e));this.tags.splice(o,1)},async create(){const e=document.querySelectorAll(".invalid");if(!this.onlyCode&&(this.loading||!this.$isValid(e)))return!1;this.text="",this.loading=!0;const o="/share/create",t={origin_seq:this.bookcase.bookcase_seq,account_seq:this.$store.state.accountStore.account.account_seq,bookcase_name:this.onlyCode?this.bookcase.bookcase_name:this.bookcase_name,share_public:this.onlyCode?"N":"Y",share_contents:this.onlyCode?"-":this.share_contents,share_tag:this.onlyCode?"-":JSON.stringify(this.tags)},n=await this.$axios.post(o,null,{params:t});if(!n.data)return!1;this.close();const a={icon:"success",html:`\n        <input\n        type="text"\n        value="${n.data.bookcase.share_code}"\n        style="\n        text-align: center;\n        height: 2rem;\n        font-weight: bold;\n        font-size: large;\n        border: 0;\n        background-color: #E8E8E8;\n        outline: none;\n        cursor: pointer;"\n        onclick="this.select()\n        document.execCommand('Copy')\n        this.setSelectionRange(0, 0)"\n        readonly>\n        <br><br>코드는 <a href="/myshare">공유함<a>에서 다시 확인할 수 있어요.`};this.$swal.fire(a)}}};const oa=(0,xt.Z)(ea,[["render",Qn],["__scopeId","data-v-0c31f562"]]);var ta=oa,na={props:{sideBar:Boolean,bookcase:Object,bookcaseIndex:Number},components:{CreateBook:jt,EditBook:Zt,MoveBook:tn,CreateBookmark:cn,EditBookmark:Kn,ShareBookcase:ta,BookList:Rn},data(){return{createBook:!1,editBook:!1,moveBook:!1,createBookmark:!1,editBookmark:!1,shareBookcase:!1,editable:!1,book:null,bookIndex:null,bookmark:null,bookmarkIndex:null}},setup(){},created(){},mounted(){},unmounted(){},methods:{openModal(e){"createBook"===e?this.createBook=!0:"editBook"===e?this.editBook=!0:"moveBook"===e?this.moveBook=!0:"createBookmark"===e?this.createBookmark=!0:"editBookmark"===e&&(this.editBookmark=!0)},closeModal(e){"createBook"===e?this.createBook=!1:"editBook"===e?this.editBook=!1:"moveBook"===e?this.moveBook=!1:"createBookmark"===e?this.createBookmark=!1:"editBookmark"===e?this.editBookmark=!1:"shareBookcase"===e&&(this.shareBookcase=!1)},setBook(e){this.book=e.book,this.bookIndex=e.bookIndex},setBookmark(e){this.bookmark=e.bookmark,this.bookmarkIndex=e.bookmarkIndex},deleteBookcase(){if(this.$store.state.bookStore.library.length<=1){const e={icon:"error",html:"<strong>마지막 페이지는 삭제할 수 없어요.</strong>"};return this.$swal.fire(e),!1}const e={html:"<strong>'"+this.bookcase.bookcase_name+"'</strong><br>페이지를 삭제합니다.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"예",cancelButtonText:"아니오"};this.$swal.fire(e).then((async e=>{if(e.isConfirmed){const e="/bookcase/delete",o={bookcase_seq:this.bookcase.bookcase_seq},t=await this.$axios.post(e,null,{params:o});if(!t.data)return!1;this.$store.commit("delBookcase",{bookcaseIndex:this.bookcaseIndex}),this.$emit("select",0)}}))},async editName(){if(!this.editable||""===this.$refs.editName.value||this.$refs.editName.value===this.bookcase.bookcase_name)return this.escapeEdit(),!1;const e="/bookcase/name",o={bookcase_seq:this.bookcase.bookcase_seq,bookcase_name:this.$refs.editName.value},t=await this.$axios.post(e,null,{params:o});if(!t.data)return!1;await this.$store.commit("editBookcaseName",{bookcase:t.data,bookcaseIndex:this.bookcaseIndex}),this.escapeEdit()},escapeEdit(){this.$refs.editName.value=this.bookcase.bookcase_name,this.editable=!1,this.$refs.editName.blur()},openShare(){if(0===this.$store.state.bookStore.library[this.bookcaseIndex].bookList.length){const e={icon:"error",html:"<strong>빈 페이지는 공유할 수 없어요.</strong>"};return this.$swal.fire(e),!1}this.shareBookcase=!0}}};const aa=(0,xt.Z)(na,[["render",Mt],["__scopeId","data-v-4cdd3f67"]]);var ia=aa;const la={class:"modal__title"},ra={class:"modal__content"};function sa(e,o,t,a,i,l){const r=(0,n.up)("v-icon"),s=(0,n.up)("v-radio"),c=(0,n.up)("v-col"),d=(0,n.up)("v-row"),m=(0,n.up)("v-radio-group"),h=(0,n.up)("v-text-field"),k=(0,n.up)("v-responsive"),p=(0,n.up)("loading-button"),b=(0,n.up)("vue-final-modal");return(0,n.wg)(),(0,n.j4)(b,{modelValue:i.showModal,"onUpdate:modelValue":o[3]||(o[3]=e=>i.showModal=e),classes:"modal-container","content-class":"modal-content elevation-3","lock-scroll":!0,"click-to-close":!0,"esc-to-close":!0,onClosed:l.close},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:"mdi-close",class:"modal__close",color:"#808080",onClick:o[0]||(o[0]=e=>i.showModal=!1)}),(0,n._)("span",la,[(0,n.Wm)(r,{icon:"mdi-bookshelf",size:"x-large"})]),(0,n._)("div",ra,[(0,n.Wm)(m,{class:"mb-3",modelValue:i.inputCode,"onUpdate:modelValue":o[1]||(o[1]=e=>i.inputCode=e),inline:"","hide-details":""},{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{cols:"6",class:"text-end"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{label:"직접 생성",value:!1,color:"indigo"})])),_:1}),(0,n.Wm)(c,{cols:"6",class:"text-start"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{label:"코드 입력",value:!0,color:"indigo"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(k,{class:"mx-auto","max-width":"256"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{variant:"underlined",label:i.inputCode?"공유 코드":"이름",modelValue:i.bookcase_name,"onUpdate:modelValue":o[2]||(o[2]=e=>i.bookcase_name=e),class:(0,u.C_)({invalid:""===i.bookcase_name}),rules:[i.rules.required],counter:"",maxlength:"12"},null,8,["label","modelValue","class","rules"])])),_:1}),(0,n.Wm)(p,{text:i.text,loading:i.loading,onClick:l.create},null,8,["text","loading","onClick"])])])),_:1},8,["modelValue","onClosed"])}var ca={components:{VueFinalModal:Nt.iR,LoadingButton:At.Z},data(){return{showModal:!0,text:"확인",loading:!1,inputCode:!1,bookcase_name:"",rules:{required:e=>!!e||""}}},setup(){},created(){},mounted(){},unmounted(){},methods:{close(){this.showModal=!0,this.$emit("close")},async create(){const e=document.querySelectorAll(".invalid");if(this.loading||!this.$isValid(e))return!1;this.text="",this.loading=!0;const o=this.inputCode?"/share/import":"/bookcase/create",t={account_seq:this.$store.state.accountStore.account.account_seq,[this.inputCode?"share_code":"bookcase_name"]:this.bookcase_name},n=await this.$axios.post(o,null,{params:t});if(!n.data&&this.inputCode){const e={icon:"error",html:"<strong>공유 코드가 유효하지 않아요.</strong>"};return this.$swal.fire(e).then((e=>{(e.isConfirmed||e.isDismissed)&&(this.text="확인",this.loading=!1)})),!1}this.$store.commit("addBookcase",{bookcase:n.data}),this.$emit("select",this.$store.state.bookStore.library.length-1),this.close()}}};const da=(0,xt.Z)(ca,[["render",sa],["__scopeId","data-v-10d0a4be"]]);var ua=da,ma={components:{LibrarySideBar:It,BookcaseContents:ia,CreateBookcase:ua},data(){return{sideBar:!0,bookcase:this.$store.state.bookStore.library[0],bookcaseIndex:0,createBookcase:!1,loadComplete:!1}},setup(){},async created(){if(!this.$store.state.accountStore.isLogin)return this.$emit("setLoginModal",!0),!1;const e="/bookcase/list",o={account_seq:this.$store.state.accountStore.account.account_seq},t=await this.$axios.get(e,{params:o});this.$store.commit("refresh",t.data),void 0!==this.$route.query.recent&&(this.bookcase=this.$store.state.bookStore.library[t.data.length-1],this.bookcaseIndex=t.data.length-1),this.loadComplete=!0},mounted(){},unmounted(){},methods:{selectBookcase(e){if(e.constructor!==Number)return!1;this.bookcase=this.$store.state.bookStore.library[e],this.bookcaseIndex=e}}};const ha=(0,xt.Z)(ma,[["render",d],["__scopeId","data-v-35903599"]]);var ka=ha}}]);
//# sourceMappingURL=library.9334a3a3.js.map