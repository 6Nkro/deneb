"use strict";(self["webpackChunkdeneb"]=self["webpackChunkdeneb"]||[]).push([[297],{5948:function(e,o,t){t.r(o),t.d(o,{default:function(){return da}});var n=t(3396);const a={key:0,id:"library"},i={key:1,id:"temp"};function l(e,o,t,l,r,s){const c=(0,n.up)("library-side-bar"),d=(0,n.up)("bookcase-contents"),u=(0,n.up)("create-bookcase");return(0,n.wg)(),(0,n.iD)(n.HY,null,[r.loadComplete?((0,n.wg)(),(0,n.iD)("div",a,[(0,n.Wm)(c,{sideBar:r.sideBar,bookcase:r.bookcase.bookcase,onCreate:o[0]||(o[0]=e=>r.createBookcase=!0),onToggle:o[1]||(o[1]=e=>r.sideBar=!r.sideBar),onSelect:s.selectBookcase},null,8,["sideBar","bookcase","onSelect"]),(0,n.Wm)(d,{sideBar:r.sideBar,bookcase:r.bookcase.bookcase,bookcaseIndex:r.bookcaseIndex,onSelect:s.selectBookcase},null,8,["sideBar","bookcase","bookcaseIndex","onSelect"]),r.createBookcase?((0,n.wg)(),(0,n.j4)(u,{key:0,onClose:o[2]||(o[2]=e=>r.createBookcase=!1),onSelect:s.selectBookcase},null,8,["onSelect"])):(0,n.kq)("",!0)])):(0,n.kq)("",!0),r.loadComplete?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",i))],64)}var r=t(7139),s=t.p+"img/banner.8abebcfb.png";const c=e=>((0,n.dD)("data-v-2563b7e5"),e=e(),(0,n.Cn)(),e),d={class:"sideBar-header elevation-3"},u=c((()=>(0,n._)("img",{src:s,alt:"bookcase"},null,-1)));function m(e,o,t,a,i,l){const s=(0,n.up)("v-btn"),c=(0,n.up)("v-icon"),m=(0,n.up)("draggable");return(0,n.wg)(),(0,n.iD)("div",{class:(0,r.C_)(["sideBar elevation-3",{hide:!t.sideBar}])},[(0,n.Wm)(m,{tag:"div",class:"bookcase-group",modelValue:l.library,"onUpdate:modelValue":o[2]||(o[2]=e=>l.library=e),"item-key":"bookcase_seq"},{header:(0,n.w5)((()=>[(0,n._)("div",d,[u,(0,n.Wm)(s,{variant:"plain",class:"toggle",icon:t.sideBar?"mdi-chevron-left":"mdi-chevron-right",onClick:o[0]||(o[0]=e=>this.$emit("toggle"))},null,8,["icon"])])])),item:(0,n.w5)((({element:e,index:o})=>[(0,n.Wm)(s,{block:"",class:(0,r.C_)(["bookcase",{selected:e.bookcase.bookcase_seq===this.bookcase.bookcase_seq}]),onClick:e=>this.$emit("select",o)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(e.bookcase.bookcase_name),1)])),_:2},1032,["class","onClick"])])),footer:(0,n.w5)((()=>[(0,n.Wm)(s,{block:"",class:"bookcase-create",onClick:o[1]||(o[1]=e=>this.$emit("create"))},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{icon:"mdi-plus-box-multiple",color:"grey"})])),_:1})])),_:1},8,["modelValue"])],2)}t(7658);
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function h(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,n)}return t}function k(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?h(Object(t),!0).forEach((function(o){b(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}function p(e){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function b(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function g(){return g=Object.assign||function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},g.apply(this,arguments)}function v(e,o){if(null==e)return{};var t,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],o.indexOf(t)>=0||(a[t]=e[t]);return a}function f(e,o){if(null==e)return{};var t,n,a=v(e,o);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],o.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var _="1.14.0";function w(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var x=w(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),y=w(/Edge/i),C=w(/firefox/i),I=w(/safari/i)&&!w(/chrome/i)&&!w(/android/i),B=w(/iP(ad|od|hone)/i),D=w(/chrome/i)&&w(/android/i),S={capture:!1,passive:!1};function E(e,o,t){e.addEventListener(o,t,!x&&S)}function V(e,o,t){e.removeEventListener(o,t,!x&&S)}function M(e,o){if(o){if(">"===o[0]&&(o=o.substring(1)),e)try{if(e.matches)return e.matches(o);if(e.msMatchesSelector)return e.msMatchesSelector(o);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(o)}catch(t){return!1}return!1}}function $(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function T(e,o,t,n){if(e){t=t||document;do{if(null!=o&&(">"===o[0]?e.parentNode===t&&M(e,o):M(e,o))||n&&e===t)return e;if(e===t)break}while(e=$(e))}return null}var W,q=/\s+/g;function O(e,o,t){if(e&&o)if(e.classList)e.classList[t?"add":"remove"](o);else{var n=(" "+e.className+" ").replace(q," ").replace(" "+o+" "," ");e.className=(n+(t?" "+o:"")).replace(q," ")}}function N(e,o,t){var n=e&&e.style;if(n){if(void 0===t)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(t=e.currentStyle),void 0===o?t:t[o];o in n||-1!==o.indexOf("webkit")||(o="-webkit-"+o),n[o]=t+("string"===typeof t?"":"px")}}function A(e,o){var t="";if("string"===typeof e)t=e;else do{var n=N(e,"transform");n&&"none"!==n&&(t=n+" "+t)}while(!o&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(t)}function U(e,o,t){if(e){var n=e.getElementsByTagName(o),a=0,i=n.length;if(t)for(;a<i;a++)t(n[a],a);return n}return[]}function L(){var e=document.scrollingElement;return e||document.documentElement}function j(e,o,t,n,a){if(e.getBoundingClientRect||e===window){var i,l,r,s,c,d,u;if(e!==window&&e.parentNode&&e!==L()?(i=e.getBoundingClientRect(),l=i.top,r=i.left,s=i.bottom,c=i.right,d=i.height,u=i.width):(l=0,r=0,s=window.innerHeight,c=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(o||t)&&e!==window&&(a=a||e.parentNode,!x))do{if(a&&a.getBoundingClientRect&&("none"!==N(a,"transform")||t&&"static"!==N(a,"position"))){var m=a.getBoundingClientRect();l-=m.top+parseInt(N(a,"border-top-width")),r-=m.left+parseInt(N(a,"border-left-width")),s=l+i.height,c=r+i.width;break}}while(a=a.parentNode);if(n&&e!==window){var h=A(a||e),k=h&&h.a,p=h&&h.d;h&&(l/=p,r/=k,u/=k,d/=p,s=l+d,c=r+u)}return{top:l,left:r,bottom:s,right:c,width:u,height:d}}}function F(e,o,t){var n=H(e,!0),a=j(e)[o];while(n){var i=j(n)[t],l=void 0;if(l="top"===t||"left"===t?a>=i:a<=i,!l)return n;if(n===L())break;n=H(n,!1)}return!1}function P(e,o,t,n){var a=0,i=0,l=e.children;while(i<l.length){if("none"!==l[i].style.display&&l[i]!==ao.ghost&&(n||l[i]!==ao.dragged)&&T(l[i],t.draggable,e,!1)){if(a===o)return l[i];a++}i++}return null}function R(e,o){var t=e.lastElementChild;while(t&&(t===ao.ghost||"none"===N(t,"display")||o&&!M(t,o)))t=t.previousElementSibling;return t||null}function Y(e,o){var t=0;if(!e||!e.parentNode)return-1;while(e=e.previousElementSibling)"TEMPLATE"===e.nodeName.toUpperCase()||e===ao.clone||o&&!M(e,o)||t++;return t}function z(e){var o=0,t=0,n=L();if(e)do{var a=A(e),i=a.a,l=a.d;o+=e.scrollLeft*i,t+=e.scrollTop*l}while(e!==n&&(e=e.parentNode));return[o,t]}function X(e,o){for(var t in e)if(e.hasOwnProperty(t))for(var n in o)if(o.hasOwnProperty(n)&&o[n]===e[t][n])return Number(t);return-1}function H(e,o){if(!e||!e.getBoundingClientRect)return L();var t=e,n=!1;do{if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var a=N(t);if(t.clientWidth<t.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||t.clientHeight<t.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!t.getBoundingClientRect||t===document.body)return L();if(n||o)return t;n=!0}}}while(t=t.parentNode);return L()}function Z(e,o){if(e&&o)for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t]);return e}function K(e,o){return Math.round(e.top)===Math.round(o.top)&&Math.round(e.left)===Math.round(o.left)&&Math.round(e.height)===Math.round(o.height)&&Math.round(e.width)===Math.round(o.width)}function G(e,o){return function(){if(!W){var t=arguments,n=this;1===t.length?e.call(n,t[0]):e.apply(n,t),W=setTimeout((function(){W=void 0}),o)}}}function J(){clearTimeout(W),W=void 0}function Q(e,o,t){e.scrollLeft+=o,e.scrollTop+=t}function ee(e){var o=window.Polymer,t=window.jQuery||window.Zepto;return o&&o.dom?o.dom(e).cloneNode(!0):t?t(e).clone(!0)[0]:e.cloneNode(!0)}var oe="Sortable"+(new Date).getTime();function te(){var e,o=[];return{captureAnimationState:function(){if(o=[],this.options.animation){var e=[].slice.call(this.el.children);e.forEach((function(e){if("none"!==N(e,"display")&&e!==ao.ghost){o.push({target:e,rect:j(e)});var t=k({},o[o.length-1].rect);if(e.thisAnimationDuration){var n=A(e,!0);n&&(t.top-=n.f,t.left-=n.e)}e.fromRect=t}}))}},addAnimationState:function(e){o.push(e)},removeAnimationState:function(e){o.splice(X(o,{target:e}),1)},animateAll:function(t){var n=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof t&&t());var a=!1,i=0;o.forEach((function(e){var o=0,t=e.target,l=t.fromRect,r=j(t),s=t.prevFromRect,c=t.prevToRect,d=e.rect,u=A(t,!0);u&&(r.top-=u.f,r.left-=u.e),t.toRect=r,t.thisAnimationDuration&&K(s,r)&&!K(l,r)&&(d.top-r.top)/(d.left-r.left)===(l.top-r.top)/(l.left-r.left)&&(o=ae(d,s,c,n.options)),K(r,l)||(t.prevFromRect=l,t.prevToRect=r,o||(o=n.options.animation),n.animate(t,d,r,o)),o&&(a=!0,i=Math.max(i,o),clearTimeout(t.animationResetTimer),t.animationResetTimer=setTimeout((function(){t.animationTime=0,t.prevFromRect=null,t.fromRect=null,t.prevToRect=null,t.thisAnimationDuration=null}),o),t.thisAnimationDuration=o)})),clearTimeout(e),a?e=setTimeout((function(){"function"===typeof t&&t()}),i):"function"===typeof t&&t(),o=[]},animate:function(e,o,t,n){if(n){N(e,"transition",""),N(e,"transform","");var a=A(this.el),i=a&&a.a,l=a&&a.d,r=(o.left-t.left)/(i||1),s=(o.top-t.top)/(l||1);e.animatingX=!!r,e.animatingY=!!s,N(e,"transform","translate3d("+r+"px,"+s+"px,0)"),this.forRepaintDummy=ne(e),N(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),N(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){N(e,"transition",""),N(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),n)}}}}function ne(e){return e.offsetWidth}function ae(e,o,t,n){return Math.sqrt(Math.pow(o.top-e.top,2)+Math.pow(o.left-e.left,2))/Math.sqrt(Math.pow(o.top-t.top,2)+Math.pow(o.left-t.left,2))*n.animation}var ie=[],le={initializeByDefault:!0},re={mount:function(e){for(var o in le)le.hasOwnProperty(o)&&!(o in e)&&(e[o]=le[o]);ie.forEach((function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),ie.push(e)},pluginEvent:function(e,o,t){var n=this;this.eventCanceled=!1,t.cancel=function(){n.eventCanceled=!0};var a=e+"Global";ie.forEach((function(n){o[n.pluginName]&&(o[n.pluginName][a]&&o[n.pluginName][a](k({sortable:o},t)),o.options[n.pluginName]&&o[n.pluginName][e]&&o[n.pluginName][e](k({sortable:o},t)))}))},initializePlugins:function(e,o,t,n){for(var a in ie.forEach((function(n){var a=n.pluginName;if(e.options[a]||n.initializeByDefault){var i=new n(e,o,e.options);i.sortable=e,i.options=e.options,e[a]=i,g(t,i.defaults)}})),e.options)if(e.options.hasOwnProperty(a)){var i=this.modifyOption(e,a,e.options[a]);"undefined"!==typeof i&&(e.options[a]=i)}},getEventProperties:function(e,o){var t={};return ie.forEach((function(n){"function"===typeof n.eventProperties&&g(t,n.eventProperties.call(o[n.pluginName],e))})),t},modifyOption:function(e,o,t){var n;return ie.forEach((function(a){e[a.pluginName]&&a.optionListeners&&"function"===typeof a.optionListeners[o]&&(n=a.optionListeners[o].call(e[a.pluginName],t))})),n}};function se(e){var o=e.sortable,t=e.rootEl,n=e.name,a=e.targetEl,i=e.cloneEl,l=e.toEl,r=e.fromEl,s=e.oldIndex,c=e.newIndex,d=e.oldDraggableIndex,u=e.newDraggableIndex,m=e.originalEvent,h=e.putSortable,p=e.extraEventProperties;if(o=o||t&&t[oe],o){var b,g=o.options,v="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||x||y?(b=document.createEvent("Event"),b.initEvent(n,!0,!0)):b=new CustomEvent(n,{bubbles:!0,cancelable:!0}),b.to=l||t,b.from=r||t,b.item=a||t,b.clone=i,b.oldIndex=s,b.newIndex=c,b.oldDraggableIndex=d,b.newDraggableIndex=u,b.originalEvent=m,b.pullMode=h?h.lastPutMode:void 0;var f=k(k({},p),re.getEventProperties(n,o));for(var _ in f)b[_]=f[_];t&&t.dispatchEvent(b),g[v]&&g[v].call(o,b)}}var ce=["evt"],de=function(e,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t.evt,a=f(t,ce);re.pluginEvent.bind(ao)(e,o,k({dragEl:me,parentEl:he,ghostEl:ke,rootEl:pe,nextEl:be,lastDownEl:ge,cloneEl:ve,cloneHidden:fe,dragStarted:$e,putSortable:Ie,activeSortable:ao.active,originalEvent:n,oldIndex:_e,oldDraggableIndex:xe,newIndex:we,newDraggableIndex:ye,hideGhostForTarget:eo,unhideGhostForTarget:oo,cloneNowHidden:function(){fe=!0},cloneNowShown:function(){fe=!1},dispatchSortableEvent:function(e){ue({sortable:o,name:e,originalEvent:n})}},a))};function ue(e){se(k({putSortable:Ie,cloneEl:ve,targetEl:me,rootEl:pe,oldIndex:_e,oldDraggableIndex:xe,newIndex:we,newDraggableIndex:ye},e))}var me,he,ke,pe,be,ge,ve,fe,_e,we,xe,ye,Ce,Ie,Be,De,Se,Ee,Ve,Me,$e,Te,We,qe,Oe,Ne=!1,Ae=!1,Ue=[],Le=!1,je=!1,Fe=[],Pe=!1,Re=[],Ye="undefined"!==typeof document,ze=B,Xe=y||x?"cssFloat":"float",He=Ye&&!D&&!B&&"draggable"in document.createElement("div"),Ze=function(){if(Ye){if(x)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Ke=function(e,o){var t=N(e),n=parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight)-parseInt(t.borderLeftWidth)-parseInt(t.borderRightWidth),a=P(e,0,o),i=P(e,1,o),l=a&&N(a),r=i&&N(i),s=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+j(a).width,c=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+j(i).width;if("flex"===t.display)return"column"===t.flexDirection||"column-reverse"===t.flexDirection?"vertical":"horizontal";if("grid"===t.display)return t.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&l["float"]&&"none"!==l["float"]){var d="left"===l["float"]?"left":"right";return!i||"both"!==r.clear&&r.clear!==d?"horizontal":"vertical"}return a&&("block"===l.display||"flex"===l.display||"table"===l.display||"grid"===l.display||s>=n&&"none"===t[Xe]||i&&"none"===t[Xe]&&s+c>n)?"vertical":"horizontal"},Ge=function(e,o,t){var n=t?e.left:e.top,a=t?e.right:e.bottom,i=t?e.width:e.height,l=t?o.left:o.top,r=t?o.right:o.bottom,s=t?o.width:o.height;return n===l||a===r||n+i/2===l+s/2},Je=function(e,o){var t;return Ue.some((function(n){var a=n[oe].options.emptyInsertThreshold;if(a&&!R(n)){var i=j(n),l=e>=i.left-a&&e<=i.right+a,r=o>=i.top-a&&o<=i.bottom+a;return l&&r?t=n:void 0}})),t},Qe=function(e){function o(e,t){return function(n,a,i,l){var r=n.options.group.name&&a.options.group.name&&n.options.group.name===a.options.group.name;if(null==e&&(t||r))return!0;if(null==e||!1===e)return!1;if(t&&"clone"===e)return e;if("function"===typeof e)return o(e(n,a,i,l),t)(n,a,i,l);var s=(t?n:a).options.group.name;return!0===e||"string"===typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var t={},n=e.group;n&&"object"==p(n)||(n={name:n}),t.name=n.name,t.checkPull=o(n.pull,!0),t.checkPut=o(n.put),t.revertClone=n.revertClone,e.group=t},eo=function(){!Ze&&ke&&N(ke,"display","none")},oo=function(){!Ze&&ke&&N(ke,"display","")};Ye&&document.addEventListener("click",(function(e){if(Ae)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ae=!1,!1}),!0);var to=function(e){if(me){e=e.touches?e.touches[0]:e;var o=Je(e.clientX,e.clientY);if(o){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.target=t.rootEl=o,t.preventDefault=void 0,t.stopPropagation=void 0,o[oe]._onDragOver(t)}}},no=function(e){me&&me.parentNode[oe]._isOutsideThisEl(e.target)};function ao(e,o){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=o=g({},o),e[oe]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ke(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,o){e.setData("Text",o.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==ao.supportPointer&&"PointerEvent"in window&&!I,emptyInsertThreshold:5};for(var n in re.initializePlugins(this,e,t),t)!(n in o)&&(o[n]=t[n]);for(var a in Qe(o),this)"_"===a.charAt(0)&&"function"===typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!o.forceFallback&&He,this.nativeDraggable&&(this.options.touchStartThreshold=1),o.supportPointer?E(e,"pointerdown",this._onTapStart):(E(e,"mousedown",this._onTapStart),E(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(E(e,"dragover",this),E(e,"dragenter",this)),Ue.push(this.el),o.store&&o.store.get&&this.sort(o.store.get(this)||[]),g(this,te())}function io(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function lo(e,o,t,n,a,i,l,r){var s,c,d=e[oe],u=d.options.onMove;return!window.CustomEvent||x||y?(s=document.createEvent("Event"),s.initEvent("move",!0,!0)):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=o,s.from=e,s.dragged=t,s.draggedRect=n,s.related=a||o,s.relatedRect=i||j(o),s.willInsertAfter=r,s.originalEvent=l,e.dispatchEvent(s),u&&(c=u.call(d,s,l)),c}function ro(e){e.draggable=!1}function so(){Pe=!1}function co(e,o,t){var n=j(P(t.el,0,t.options,!0)),a=10;return o?e.clientX<n.left-a||e.clientY<n.top&&e.clientX<n.right:e.clientY<n.top-a||e.clientY<n.bottom&&e.clientX<n.left}function uo(e,o,t){var n=j(R(t.el,t.options.draggable)),a=10;return o?e.clientX>n.right+a||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+a}function mo(e,o,t,n,a,i,l,r){var s=n?e.clientY:e.clientX,c=n?t.height:t.width,d=n?t.top:t.left,u=n?t.bottom:t.right,m=!1;if(!l)if(r&&qe<c*a){if(!Le&&(1===We?s>d+c*i/2:s<u-c*i/2)&&(Le=!0),Le)m=!0;else if(1===We?s<d+qe:s>u-qe)return-We}else if(s>d+c*(1-a)/2&&s<u-c*(1-a)/2)return ho(o);return m=m||l,m&&(s<d+c*i/2||s>u-c*i/2)?s>d+c/2?1:-1:0}function ho(e){return Y(me)<Y(e)?1:-1}function ko(e){var o=e.tagName+e.className+e.src+e.href+e.textContent,t=o.length,n=0;while(t--)n+=o.charCodeAt(t);return n.toString(36)}function po(e){Re.length=0;var o=e.getElementsByTagName("input"),t=o.length;while(t--){var n=o[t];n.checked&&Re.push(n)}}function bo(e){return setTimeout(e,0)}function go(e){return clearTimeout(e)}ao.prototype={constructor:ao,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Te=null)},_getDirection:function(e,o){return"function"===typeof this.options.direction?this.options.direction.call(this,e,o,me):this.options.direction},_onTapStart:function(e){if(e.cancelable){var o=this,t=this.el,n=this.options,a=n.preventOnFilter,i=e.type,l=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,r=(l||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||r,c=n.filter;if(po(t),!me&&!(/mousedown|pointerdown/.test(i)&&0!==e.button||n.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!I||!r||"SELECT"!==r.tagName.toUpperCase())&&(r=T(r,n.draggable,t,!1),(!r||!r.animated)&&ge!==r)){if(_e=Y(r),xe=Y(r,n.draggable),"function"===typeof c){if(c.call(this,e,r,this))return ue({sortable:o,rootEl:s,name:"filter",targetEl:r,toEl:t,fromEl:t}),de("filter",o,{evt:e}),void(a&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(n){if(n=T(s,n.trim(),t,!1),n)return ue({sortable:o,rootEl:n,name:"filter",targetEl:r,fromEl:t,toEl:t}),de("filter",o,{evt:e}),!0})),c))return void(a&&e.cancelable&&e.preventDefault());n.handle&&!T(s,n.handle,t,!1)||this._prepareDragStart(e,l,r)}}},_prepareDragStart:function(e,o,t){var n,a=this,i=a.el,l=a.options,r=i.ownerDocument;if(t&&!me&&t.parentNode===i){var s=j(t);if(pe=i,me=t,he=me.parentNode,be=me.nextSibling,ge=t,Ce=l.group,ao.dragged=me,Be={target:me,clientX:(o||e).clientX,clientY:(o||e).clientY},Ve=Be.clientX-s.left,Me=Be.clientY-s.top,this._lastX=(o||e).clientX,this._lastY=(o||e).clientY,me.style["will-change"]="all",n=function(){de("delayEnded",a,{evt:e}),ao.eventCanceled?a._onDrop():(a._disableDelayedDragEvents(),!C&&a.nativeDraggable&&(me.draggable=!0),a._triggerDragStart(e,o),ue({sortable:a,name:"choose",originalEvent:e}),O(me,l.chosenClass,!0))},l.ignore.split(",").forEach((function(e){U(me,e.trim(),ro)})),E(r,"dragover",to),E(r,"mousemove",to),E(r,"touchmove",to),E(r,"mouseup",a._onDrop),E(r,"touchend",a._onDrop),E(r,"touchcancel",a._onDrop),C&&this.nativeDraggable&&(this.options.touchStartThreshold=4,me.draggable=!0),de("delayStart",this,{evt:e}),!l.delay||l.delayOnTouchOnly&&!o||this.nativeDraggable&&(y||x))n();else{if(ao.eventCanceled)return void this._onDrop();E(r,"mouseup",a._disableDelayedDrag),E(r,"touchend",a._disableDelayedDrag),E(r,"touchcancel",a._disableDelayedDrag),E(r,"mousemove",a._delayedDragTouchMoveHandler),E(r,"touchmove",a._delayedDragTouchMoveHandler),l.supportPointer&&E(r,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(n,l.delay)}}},_delayedDragTouchMoveHandler:function(e){var o=e.touches?e.touches[0]:e;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){me&&ro(me),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;V(e,"mouseup",this._disableDelayedDrag),V(e,"touchend",this._disableDelayedDrag),V(e,"touchcancel",this._disableDelayedDrag),V(e,"mousemove",this._delayedDragTouchMoveHandler),V(e,"touchmove",this._delayedDragTouchMoveHandler),V(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,o){o=o||"touch"==e.pointerType&&e,!this.nativeDraggable||o?this.options.supportPointer?E(document,"pointermove",this._onTouchMove):E(document,o?"touchmove":"mousemove",this._onTouchMove):(E(me,"dragend",this),E(pe,"dragstart",this._onDragStart));try{document.selection?bo((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(e,o){if(Ne=!1,pe&&me){de("dragStarted",this,{evt:o}),this.nativeDraggable&&E(document,"dragover",no);var t=this.options;!e&&O(me,t.dragClass,!1),O(me,t.ghostClass,!0),ao.active=this,e&&this._appendGhost(),ue({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(De){this._lastX=De.clientX,this._lastY=De.clientY,eo();var e=document.elementFromPoint(De.clientX,De.clientY),o=e;while(e&&e.shadowRoot){if(e=e.shadowRoot.elementFromPoint(De.clientX,De.clientY),e===o)break;o=e}if(me.parentNode[oe]._isOutsideThisEl(e),o)do{if(o[oe]){var t=void 0;if(t=o[oe]._onDragOver({clientX:De.clientX,clientY:De.clientY,target:e,rootEl:o}),t&&!this.options.dragoverBubble)break}e=o}while(o=o.parentNode);oo()}},_onTouchMove:function(e){if(Be){var o=this.options,t=o.fallbackTolerance,n=o.fallbackOffset,a=e.touches?e.touches[0]:e,i=ke&&A(ke,!0),l=ke&&i&&i.a,r=ke&&i&&i.d,s=ze&&Oe&&z(Oe),c=(a.clientX-Be.clientX+n.x)/(l||1)+(s?s[0]-Fe[0]:0)/(l||1),d=(a.clientY-Be.clientY+n.y)/(r||1)+(s?s[1]-Fe[1]:0)/(r||1);if(!ao.active&&!Ne){if(t&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<t)return;this._onDragStart(e,!0)}if(ke){i?(i.e+=c-(Se||0),i.f+=d-(Ee||0)):i={a:1,b:0,c:0,d:1,e:c,f:d};var u="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");N(ke,"webkitTransform",u),N(ke,"mozTransform",u),N(ke,"msTransform",u),N(ke,"transform",u),Se=c,Ee=d,De=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ke){var e=this.options.fallbackOnBody?document.body:pe,o=j(me,!0,ze,!0,e),t=this.options;if(ze){Oe=e;while("static"===N(Oe,"position")&&"none"===N(Oe,"transform")&&Oe!==document)Oe=Oe.parentNode;Oe!==document.body&&Oe!==document.documentElement?(Oe===document&&(Oe=L()),o.top+=Oe.scrollTop,o.left+=Oe.scrollLeft):Oe=L(),Fe=z(Oe)}ke=me.cloneNode(!0),O(ke,t.ghostClass,!1),O(ke,t.fallbackClass,!0),O(ke,t.dragClass,!0),N(ke,"transition",""),N(ke,"transform",""),N(ke,"box-sizing","border-box"),N(ke,"margin",0),N(ke,"top",o.top),N(ke,"left",o.left),N(ke,"width",o.width),N(ke,"height",o.height),N(ke,"opacity","0.8"),N(ke,"position",ze?"absolute":"fixed"),N(ke,"zIndex","100000"),N(ke,"pointerEvents","none"),ao.ghost=ke,e.appendChild(ke),N(ke,"transform-origin",Ve/parseInt(ke.style.width)*100+"% "+Me/parseInt(ke.style.height)*100+"%")}},_onDragStart:function(e,o){var t=this,n=e.dataTransfer,a=t.options;de("dragStart",this,{evt:e}),ao.eventCanceled?this._onDrop():(de("setupClone",this),ao.eventCanceled||(ve=ee(me),ve.draggable=!1,ve.style["will-change"]="",this._hideClone(),O(ve,this.options.chosenClass,!1),ao.clone=ve),t.cloneId=bo((function(){de("clone",t),ao.eventCanceled||(t.options.removeCloneOnHide||pe.insertBefore(ve,me),t._hideClone(),ue({sortable:t,name:"clone"}))})),!o&&O(me,a.dragClass,!0),o?(Ae=!0,t._loopId=setInterval(t._emulateDragOver,50)):(V(document,"mouseup",t._onDrop),V(document,"touchend",t._onDrop),V(document,"touchcancel",t._onDrop),n&&(n.effectAllowed="move",a.setData&&a.setData.call(t,n,me)),E(document,"drop",t),N(me,"transform","translateZ(0)")),Ne=!0,t._dragStartId=bo(t._dragStarted.bind(t,o,e)),E(document,"selectstart",t),$e=!0,I&&N(document.body,"user-select","none"))},_onDragOver:function(e){var o,t,n,a,i=this.el,l=e.target,r=this.options,s=r.group,c=ao.active,d=Ce===s,u=r.sort,m=Ie||c,h=this,p=!1;if(!Pe){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),l=T(l,r.draggable,i,!0),V("dragOver"),ao.eventCanceled)return p;if(me.contains(e.target)||l.animated&&l.animatingX&&l.animatingY||h._ignoreWhileAnimating===l)return $(!1);if(Ae=!1,c&&!r.disabled&&(d?u||(n=he!==pe):Ie===this||(this.lastPutMode=Ce.checkPull(this,c,me,e))&&s.checkPut(this,c,me,e))){if(a="vertical"===this._getDirection(e,l),o=j(me),V("dragOverValid"),ao.eventCanceled)return p;if(n)return he=pe,M(),this._hideClone(),V("revert"),ao.eventCanceled||(be?pe.insertBefore(me,be):pe.appendChild(me)),$(!0);var b=R(i,r.draggable);if(!b||uo(e,a,this)&&!b.animated){if(b===me)return $(!1);if(b&&i===e.target&&(l=b),l&&(t=j(l)),!1!==lo(pe,i,me,o,l,t,e,!!l))return M(),i.appendChild(me),he=i,W(),$(!0)}else if(b&&co(e,a,this)){var g=P(i,0,r,!0);if(g===me)return $(!1);if(l=g,t=j(l),!1!==lo(pe,i,me,o,l,t,e,!1))return M(),i.insertBefore(me,g),he=i,W(),$(!0)}else if(l.parentNode===i){t=j(l);var v,f,_=0,w=me.parentNode!==i,x=!Ge(me.animated&&me.toRect||o,l.animated&&l.toRect||t,a),y=a?"top":"left",C=F(l,"top","top")||F(me,"top","top"),I=C?C.scrollTop:void 0;if(Te!==l&&(v=t[y],Le=!1,je=!x&&r.invertSwap||w),_=mo(e,l,t,a,x?1:r.swapThreshold,null==r.invertedSwapThreshold?r.swapThreshold:r.invertedSwapThreshold,je,Te===l),0!==_){var B=Y(me);do{B-=_,f=he.children[B]}while(f&&("none"===N(f,"display")||f===ke))}if(0===_||f===l)return $(!1);Te=l,We=_;var D=l.nextElementSibling,S=!1;S=1===_;var E=lo(pe,i,me,o,l,t,e,S);if(!1!==E)return 1!==E&&-1!==E||(S=1===E),Pe=!0,setTimeout(so,30),M(),S&&!D?i.appendChild(me):l.parentNode.insertBefore(me,S?D:l),C&&Q(C,0,I-C.scrollTop),he=me.parentNode,void 0===v||je||(qe=Math.abs(v-j(l)[y])),W(),$(!0)}if(i.contains(me))return $(!1)}return!1}function V(r,s){de(r,h,k({evt:e,isOwner:d,axis:a?"vertical":"horizontal",revert:n,dragRect:o,targetRect:t,canSort:u,fromSortable:m,target:l,completed:$,onMove:function(t,n){return lo(pe,i,me,o,t,j(t),e,n)},changed:W},s))}function M(){V("dragOverAnimationCapture"),h.captureAnimationState(),h!==m&&m.captureAnimationState()}function $(o){return V("dragOverCompleted",{insertion:o}),o&&(d?c._hideClone():c._showClone(h),h!==m&&(O(me,Ie?Ie.options.ghostClass:c.options.ghostClass,!1),O(me,r.ghostClass,!0)),Ie!==h&&h!==ao.active?Ie=h:h===ao.active&&Ie&&(Ie=null),m===h&&(h._ignoreWhileAnimating=l),h.animateAll((function(){V("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(l===me&&!me.animated||l===i&&!l.animated)&&(Te=null),r.dragoverBubble||e.rootEl||l===document||(me.parentNode[oe]._isOutsideThisEl(e.target),!o&&to(e)),!r.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),p=!0}function W(){we=Y(me),ye=Y(me,r.draggable),ue({sortable:h,name:"change",toEl:i,newIndex:we,newDraggableIndex:ye,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){V(document,"mousemove",this._onTouchMove),V(document,"touchmove",this._onTouchMove),V(document,"pointermove",this._onTouchMove),V(document,"dragover",to),V(document,"mousemove",to),V(document,"touchmove",to)},_offUpEvents:function(){var e=this.el.ownerDocument;V(e,"mouseup",this._onDrop),V(e,"touchend",this._onDrop),V(e,"pointerup",this._onDrop),V(e,"touchcancel",this._onDrop),V(document,"selectstart",this)},_onDrop:function(e){var o=this.el,t=this.options;we=Y(me),ye=Y(me,t.draggable),de("drop",this,{evt:e}),he=me&&me.parentNode,we=Y(me),ye=Y(me,t.draggable),ao.eventCanceled||(Ne=!1,je=!1,Le=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),go(this.cloneId),go(this._dragStartId),this.nativeDraggable&&(V(document,"drop",this),V(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),I&&N(document.body,"user-select",""),N(me,"transform",""),e&&($e&&(e.cancelable&&e.preventDefault(),!t.dropBubble&&e.stopPropagation()),ke&&ke.parentNode&&ke.parentNode.removeChild(ke),(pe===he||Ie&&"clone"!==Ie.lastPutMode)&&ve&&ve.parentNode&&ve.parentNode.removeChild(ve),me&&(this.nativeDraggable&&V(me,"dragend",this),ro(me),me.style["will-change"]="",$e&&!Ne&&O(me,Ie?Ie.options.ghostClass:this.options.ghostClass,!1),O(me,this.options.chosenClass,!1),ue({sortable:this,name:"unchoose",toEl:he,newIndex:null,newDraggableIndex:null,originalEvent:e}),pe!==he?(we>=0&&(ue({rootEl:he,name:"add",toEl:he,fromEl:pe,originalEvent:e}),ue({sortable:this,name:"remove",toEl:he,originalEvent:e}),ue({rootEl:he,name:"sort",toEl:he,fromEl:pe,originalEvent:e}),ue({sortable:this,name:"sort",toEl:he,originalEvent:e})),Ie&&Ie.save()):we!==_e&&we>=0&&(ue({sortable:this,name:"update",toEl:he,originalEvent:e}),ue({sortable:this,name:"sort",toEl:he,originalEvent:e})),ao.active&&(null!=we&&-1!==we||(we=_e,ye=xe),ue({sortable:this,name:"end",toEl:he,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){de("nulling",this),pe=me=he=ke=be=ve=ge=fe=Be=De=$e=we=ye=_e=xe=Te=We=Ie=Ce=ao.dragged=ao.ghost=ao.clone=ao.active=null,Re.forEach((function(e){e.checked=!0})),Re.length=Se=Ee=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":me&&(this._onDragOver(e),io(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e,o=[],t=this.el.children,n=0,a=t.length,i=this.options;n<a;n++)e=t[n],T(e,i.draggable,this.el,!1)&&o.push(e.getAttribute(i.dataIdAttr)||ko(e));return o},sort:function(e,o){var t={},n=this.el;this.toArray().forEach((function(e,o){var a=n.children[o];T(a,this.options.draggable,n,!1)&&(t[e]=a)}),this),o&&this.captureAnimationState(),e.forEach((function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))})),o&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,o){return T(e,o||this.options.draggable,this.el,!1)},option:function(e,o){var t=this.options;if(void 0===o)return t[e];var n=re.modifyOption(this,e,o);t[e]="undefined"!==typeof n?n:o,"group"===e&&Qe(t)},destroy:function(){de("destroy",this);var e=this.el;e[oe]=null,V(e,"mousedown",this._onTapStart),V(e,"touchstart",this._onTapStart),V(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(V(e,"dragover",this),V(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Ue.splice(Ue.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!fe){if(de("hideClone",this),ao.eventCanceled)return;N(ve,"display","none"),this.options.removeCloneOnHide&&ve.parentNode&&ve.parentNode.removeChild(ve),fe=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(fe){if(de("showClone",this),ao.eventCanceled)return;me.parentNode!=pe||this.options.group.revertClone?be?pe.insertBefore(ve,be):pe.appendChild(ve):pe.insertBefore(ve,me),this.options.group.revertClone&&this.animate(me,ve),N(ve,"display",""),fe=!1}}else this._hideClone()}},Ye&&E(document,"touchmove",(function(e){(ao.active||Ne)&&e.cancelable&&e.preventDefault()})),ao.utils={on:E,off:V,css:N,find:U,is:function(e,o){return!!T(e,o,e,!1)},extend:Z,throttle:G,closest:T,toggleClass:O,clone:ee,index:Y,nextTick:bo,cancelNextTick:go,detectDirection:Ke,getChild:P},ao.get=function(e){return e[oe]},ao.mount=function(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];o[0].constructor===Array&&(o=o[0]),o.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(ao.utils=k(k({},ao.utils),e.utils)),re.mount(e)}))},ao.create=function(e,o){return new ao(e,o)},ao.version=_;var vo,fo,_o,wo,xo,yo,Co=[],Io=!1;function Bo(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var o=e.originalEvent;this.sortable.nativeDraggable?E(document,"dragover",this._handleAutoScroll):this.options.supportPointer?E(document,"pointermove",this._handleFallbackAutoScroll):o.touches?E(document,"touchmove",this._handleFallbackAutoScroll):E(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var o=e.originalEvent;this.options.dragOverBubble||o.rootEl||this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?V(document,"dragover",this._handleAutoScroll):(V(document,"pointermove",this._handleFallbackAutoScroll),V(document,"touchmove",this._handleFallbackAutoScroll),V(document,"mousemove",this._handleFallbackAutoScroll)),So(),Do(),J()},nulling:function(){xo=fo=vo=Io=yo=_o=wo=null,Co.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,o){var t=this,n=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,i=document.elementFromPoint(n,a);if(xo=e,o||this.options.forceAutoScrollFallback||y||x||I){Eo(e,this.options,i,o);var l=H(i,!0);!Io||yo&&n===_o&&a===wo||(yo&&So(),yo=setInterval((function(){var i=H(document.elementFromPoint(n,a),!0);i!==l&&(l=i,Do()),Eo(e,t.options,i,o)}),10),_o=n,wo=a)}else{if(!this.options.bubbleScroll||H(i,!0)===L())return void Do();Eo(e,this.options,H(i,!1),!1)}}},g(e,{pluginName:"scroll",initializeByDefault:!0})}function Do(){Co.forEach((function(e){clearInterval(e.pid)})),Co=[]}function So(){clearInterval(yo)}var Eo=G((function(e,o,t,n){if(o.scroll){var a,i=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,r=o.scrollSensitivity,s=o.scrollSpeed,c=L(),d=!1;fo!==t&&(fo=t,Do(),vo=o.scroll,a=o.scrollFn,!0===vo&&(vo=H(t,!0)));var u=0,m=vo;do{var h=m,k=j(h),p=k.top,b=k.bottom,g=k.left,v=k.right,f=k.width,_=k.height,w=void 0,x=void 0,y=h.scrollWidth,C=h.scrollHeight,I=N(h),B=h.scrollLeft,D=h.scrollTop;h===c?(w=f<y&&("auto"===I.overflowX||"scroll"===I.overflowX||"visible"===I.overflowX),x=_<C&&("auto"===I.overflowY||"scroll"===I.overflowY||"visible"===I.overflowY)):(w=f<y&&("auto"===I.overflowX||"scroll"===I.overflowX),x=_<C&&("auto"===I.overflowY||"scroll"===I.overflowY));var S=w&&(Math.abs(v-i)<=r&&B+f<y)-(Math.abs(g-i)<=r&&!!B),E=x&&(Math.abs(b-l)<=r&&D+_<C)-(Math.abs(p-l)<=r&&!!D);if(!Co[u])for(var V=0;V<=u;V++)Co[V]||(Co[V]={});Co[u].vx==S&&Co[u].vy==E&&Co[u].el===h||(Co[u].el=h,Co[u].vx=S,Co[u].vy=E,clearInterval(Co[u].pid),0==S&&0==E||(d=!0,Co[u].pid=setInterval(function(){n&&0===this.layer&&ao.active._onTouchMove(xo);var o=Co[this.layer].vy?Co[this.layer].vy*s:0,t=Co[this.layer].vx?Co[this.layer].vx*s:0;"function"===typeof a&&"continue"!==a.call(ao.dragged.parentNode[oe],t,o,e,xo,Co[this.layer].el)||Q(Co[this.layer].el,t,o)}.bind({layer:u}),24))),u++}while(o.bubbleScroll&&m!==c&&(m=H(m,!1)));Io=d}}),30),Vo=function(e){var o=e.originalEvent,t=e.putSortable,n=e.dragEl,a=e.activeSortable,i=e.dispatchSortableEvent,l=e.hideGhostForTarget,r=e.unhideGhostForTarget;if(o){var s=t||a;l();var c=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,d=document.elementFromPoint(c.clientX,c.clientY);r(),s&&!s.el.contains(d)&&(i("spill"),this.onSpill({dragEl:n,putSortable:t}))}};function Mo(){}function $o(){}Mo.prototype={startIndex:null,dragStart:function(e){var o=e.oldDraggableIndex;this.startIndex=o},onSpill:function(e){var o=e.dragEl,t=e.putSortable;this.sortable.captureAnimationState(),t&&t.captureAnimationState();var n=P(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(o,n):this.sortable.el.appendChild(o),this.sortable.animateAll(),t&&t.animateAll()},drop:Vo},g(Mo,{pluginName:"revertOnSpill"}),$o.prototype={onSpill:function(e){var o=e.dragEl,t=e.putSortable,n=t||this.sortable;n.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),n.animateAll()},drop:Vo},g($o,{pluginName:"removeOnSpill"});ao.mount(new Bo),ao.mount($o,Mo);var To=ao;function Wo(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function qo(e,o,t){const n=0===t?e.children[0]:e.children[t-1].nextSibling;e.insertBefore(o,n)}function Oo(){return"undefined"!==typeof window?window.console:t.g.console}const No=Oo();function Ao(e){const o=Object.create(null);return function(t){const n=o[t];return n||(o[t]=e(t))}}const Uo=/-(\w)/g,Lo=Ao((e=>e.replace(Uo,((e,o)=>o.toUpperCase())))),jo=["Start","Add","Remove","Update","End"],Fo=["Choose","Unchoose","Sort","Filter","Clone"],Po=["Move"],Ro=[Po,jo,Fo].flatMap((e=>e)).map((e=>`on${e}`)),Yo={manage:Po,manageAndEmit:jo,emit:Fo};function zo(e){return-1!==Ro.indexOf(e)}const Xo=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function Ho(e){return Xo.includes(e)}function Zo(e){return["transition-group","TransitionGroup"].includes(e)}function Ko(e){return["id","class","role","style"].includes(e)||e.startsWith("data-")||e.startsWith("aria-")||e.startsWith("on")}function Go(e){return e.reduce(((e,[o,t])=>(e[o]=t,e)),{})}function Jo({$attrs:e,componentData:o={}}){const t=Go(Object.entries(e).filter((([e,o])=>Ko(e))));return{...t,...o}}function Qo({$attrs:e,callBackBuilder:o}){const t=Go(et(e));Object.entries(o).forEach((([e,o])=>{Yo[e].forEach((e=>{t[`on${e}`]=o(e)}))}));const n=`[data-draggable]${t.draggable||""}`;return{...t,draggable:n}}function et(e){return Object.entries(e).filter((([e,o])=>!Ko(e))).map((([e,o])=>[Lo(e),o])).filter((([e,o])=>!zo(e)))}const ot=({el:e})=>e,tt=(e,o)=>e.__draggable_context=o,nt=e=>e.__draggable_context;class at{constructor({nodes:{header:e,default:o,footer:t},root:n,realList:a}){this.defaultNodes=o,this.children=[...e,...o,...t],this.externalComponent=n.externalComponent,this.rootTransition=n.transition,this.tag=n.tag,this.realList=a}get _isRootComponent(){return this.externalComponent||this.rootTransition}render(e,o){const{tag:t,children:n,_isRootComponent:a}=this,i=a?{default:()=>n}:n;return e(t,o,i)}updated(){const{defaultNodes:e,realList:o}=this;e.forEach(((e,t)=>{tt(ot(e),{element:o[t],index:t})}))}getUnderlyingVm(e){return nt(e)}getVmIndexFromDomIndex(e,o){const{defaultNodes:t}=this,{length:n}=t,a=o.children,i=a.item(e);if(null===i)return n;const l=nt(i);if(l)return l.index;if(0===n)return 0;const r=ot(t[0]),s=[...a].findIndex((e=>e===r));return e<s?0:n}}var it=t(9242);function lt(e,o){const t=e[o];return t?t():[]}function rt({$slots:e,realList:o,getKey:t}){const n=o||[],[a,i]=["header","footer"].map((o=>lt(e,o))),{item:l}=e;if(!l)throw new Error("draggable element must have an item slot");const r=n.flatMap(((e,o)=>l({element:e,index:o}).map((o=>(o.key=t(e),o.props={...o.props||{},"data-draggable":!0},o)))));if(r.length!==n.length)throw new Error("Item slot must have only one child");return{header:a,footer:i,default:r}}function st(e){const o=Zo(e),t=!Ho(e)&&!o;return{transition:o,externalComponent:t,tag:t?(0,n.up)(e):o?it.W3:e}}function ct({$slots:e,tag:o,realList:t,getKey:n}){const a=rt({$slots:e,realList:t,getKey:n}),i=st(o);return new at({nodes:a,root:i,realList:t})}function dt(e,o){(0,n.Y3)((()=>this.$emit(e.toLowerCase(),o)))}function ut(e){return(o,t)=>{if(null!==this.realList)return this[`onDrag${e}`](o,t)}}function mt(e){const o=ut.call(this,e);return(t,n)=>{o.call(this,t,n),dt.call(this,e,t)}}let ht=null;const kt={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},pt=["update:modelValue","change",...[...Yo.manageAndEmit,...Yo.emit].map((e=>e.toLowerCase()))],bt=(0,n.aZ)({name:"draggable",inheritAttrs:!1,props:kt,emits:pt,data(){return{error:!1}},render(){try{this.error=!1;const{$slots:e,$attrs:o,tag:t,componentData:a,realList:i,getKey:l}=this,r=ct({$slots:e,tag:t,realList:i,getKey:l});this.componentStructure=r;const s=Jo({$attrs:o,componentData:a});return r.render(n.h,s)}catch(e){return this.error=!0,(0,n.h)("pre",{style:{color:"red"}},e.stack)}},created(){null!==this.list&&null!==this.modelValue&&No.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted(){if(this.error)return;const{$attrs:e,$el:o,componentStructure:t}=this;t.updated();const n=Qo({$attrs:e,callBackBuilder:{manageAndEmit:e=>mt.call(this,e),emit:e=>dt.bind(this,e),manage:e=>ut.call(this,e)}}),a=1===o.nodeType?o:o.parentElement;this._sortable=new To(a,n),this.targetDomElement=a,a.__draggable_component__=this},updated(){this.componentStructure.updated()},beforeUnmount(){void 0!==this._sortable&&this._sortable.destroy()},computed:{realList(){const{list:e}=this;return e||this.modelValue},getKey(){const{itemKey:e}=this;return"function"===typeof e?e:o=>o[e]}},watch:{$attrs:{handler(e){const{_sortable:o}=this;o&&et(e).forEach((([e,t])=>{o.option(e,t)}))},deep:!0}},methods:{getUnderlyingVm(e){return this.componentStructure.getUnderlyingVm(e)||null},getUnderlyingPotencialDraggableComponent(e){return e.__draggable_component__},emitChanges(e){(0,n.Y3)((()=>this.$emit("change",e)))},alterList(e){if(this.list)return void e(this.list);const o=[...this.modelValue];e(o),this.$emit("update:modelValue",o)},spliceList(){const e=e=>e.splice(...arguments);this.alterList(e)},updatePosition(e,o){const t=t=>t.splice(o,0,t.splice(e,1)[0]);this.alterList(t)},getRelatedContextFromMoveEvent({to:e,related:o}){const t=this.getUnderlyingPotencialDraggableComponent(e);if(!t)return{component:t};const n=t.realList,a={list:n,component:t};if(e!==o&&n){const e=t.getUnderlyingVm(o)||{};return{...e,...a}}return a},getVmIndexFromDomIndex(e){return this.componentStructure.getVmIndexFromDomIndex(e,this.targetDomElement)},onDragStart(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),ht=e.item},onDragAdd(e){const o=e.item._underlying_vm_;if(void 0===o)return;Wo(e.item);const t=this.getVmIndexFromDomIndex(e.newIndex);this.spliceList(t,0,o);const n={element:o,newIndex:t};this.emitChanges({added:n})},onDragRemove(e){if(qo(this.$el,e.item,e.oldIndex),"clone"===e.pullMode)return void Wo(e.clone);const{index:o,element:t}=this.context;this.spliceList(o,1);const n={element:t,oldIndex:o};this.emitChanges({removed:n})},onDragUpdate(e){Wo(e.item),qo(e.from,e.item,e.oldIndex);const o=this.context.index,t=this.getVmIndexFromDomIndex(e.newIndex);this.updatePosition(o,t);const n={element:this.context.element,oldIndex:o,newIndex:t};this.emitChanges({moved:n})},computeFutureIndex(e,o){if(!e.element)return 0;const t=[...o.to.children].filter((e=>"none"!==e.style["display"])),n=t.indexOf(o.related),a=e.component.getVmIndexFromDomIndex(n),i=-1!==t.indexOf(ht);return i||!o.willInsertAfter?a:a+1},onDragMove(e,o){const{move:t,realList:n}=this;if(!t||!n)return!0;const a=this.getRelatedContextFromMoveEvent(e),i=this.computeFutureIndex(a,e),l={...this.context,futureIndex:i},r={...e,relatedContext:a,draggedContext:l};return t(r,o)},onDragEnd(){ht=null}}});var gt=bt,vt={props:{sideBar:Boolean,bookcase:Object},components:{Draggable:gt},data(){return{}},setup(){},created(){},mounted(){},unmounted(){},computed:{library:{get(){return this.$store.state.bookStore.library},set(e){const o=[];e.forEach((e=>{o.push(e.bookcase.bookcase_seq)}));const t="/bookcase/order",n={user_email:this.$store.state.accountStore.account.user_email,user_pw:this.$store.state.accountStore.account.user_pw,bookcase_order:encodeURIComponent(o)};this.$axios.post(t,null,{params:n}),this.$store.commit("editBookcaseOrder",e);const a=this.$store.state.bookStore.library.findIndex((e=>e.bookcase.bookcase_seq===this.bookcase.bookcase_seq));this.$emit("select",a)}}},methods:{log(e,o){console.log(e),console.log(o)}}},ft=t(89);const _t=(0,ft.Z)(vt,[["render",m],["__scopeId","data-v-2563b7e5"]]);var wt=_t;const xt={class:"title elevation-1"},yt={class:"title-text"},Ct=["value"],It={class:"title-button-group"},Bt={class:"contents"};function Dt(e,o,t,a,i,l){const s=(0,n.up)("v-icon"),c=(0,n.up)("v-btn"),d=(0,n.up)("book-list"),u=(0,n.up)("create-book"),m=(0,n.up)("edit-book"),h=(0,n.up)("move-book"),k=(0,n.up)("create-bookmark"),p=(0,n.up)("edit-bookmark"),b=(0,n.up)("share-bookcase");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",{class:(0,r.C_)(["library-container",{extend:!t.sideBar}])},[(0,n._)("div",xt,[(0,n._)("div",yt,[(0,n._)("input",{ref:"editName",value:t.bookcase.bookcase_name,onFocusin:o[0]||(o[0]=e=>i.editable=!0),onFocusout:o[1]||(o[1]=(...e)=>l.editName&&l.editName(...e)),onKeydown:[o[2]||(o[2]=(0,it.D2)(((...e)=>l.editName&&l.editName(...e)),["enter"])),o[3]||(o[3]=(0,it.D2)(((...e)=>l.escapeEdit&&l.escapeEdit(...e)),["esc"]))],maxlength:"20"},null,40,Ct)]),(0,n._)("div",It,[(0,n.Wm)(c,{class:"title-button elevation-3",color:"red",onClick:l.deleteBookcase},{default:(0,n.w5)((()=>[(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-delete")])),_:1}),(0,n.Uk)(" Delete ")])),_:1},8,["onClick"]),(0,n.Wm)(c,{class:"title-button elevation-3",color:"blue",onClick:l.openShare},{default:(0,n.w5)((()=>[(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-share")])),_:1}),(0,n.Uk)(" Share ")])),_:1},8,["onClick"])])]),(0,n._)("div",Bt,[(0,n.Wm)(d,{bookcase:t.bookcase,bookcaseIndex:t.bookcaseIndex,onOpenModal:l.openModal,onSetBook:l.setBook,onSetBookmark:l.setBookmark},null,8,["bookcase","bookcaseIndex","onOpenModal","onSetBook","onSetBookmark"])])],2),i.createBook?((0,n.wg)(),(0,n.j4)(u,{key:0,bookcase:t.bookcase,bookcaseIndex:t.bookcaseIndex,onClose:l.closeModal},null,8,["bookcase","bookcaseIndex","onClose"])):(0,n.kq)("",!0),i.editBook?((0,n.wg)(),(0,n.j4)(m,{key:1,book:i.book,bookIndex:i.bookIndex,bookcaseIndex:t.bookcaseIndex,onClose:l.closeModal},null,8,["book","bookIndex","bookcaseIndex","onClose"])):(0,n.kq)("",!0),i.moveBook?((0,n.wg)(),(0,n.j4)(h,{key:2,book:i.book,bookcase:t.bookcase,bookcaseIndex:t.bookcaseIndex,onClose:l.closeModal},null,8,["book","bookcase","bookcaseIndex","onClose"])):(0,n.kq)("",!0),i.createBookmark?((0,n.wg)(),(0,n.j4)(k,{key:3,book:i.book,bookIndex:i.bookIndex,bookcaseIndex:t.bookcaseIndex,onClose:l.closeModal},null,8,["book","bookIndex","bookcaseIndex","onClose"])):(0,n.kq)("",!0),i.editBookmark?((0,n.wg)(),(0,n.j4)(p,{key:4,bookmark:i.bookmark,bookmarkIndex:i.bookmarkIndex,book:i.book,bookIndex:i.bookIndex,bookcaseIndex:t.bookcaseIndex,onClose:l.closeModal},null,8,["bookmark","bookmarkIndex","book","bookIndex","bookcaseIndex","onClose"])):(0,n.kq)("",!0),i.shareBookcase?((0,n.wg)(),(0,n.j4)(b,{key:5,bookcase:t.bookcase,bookcaseIndex:t.bookcaseIndex,onClose:l.closeModal},null,8,["bookcase","bookcaseIndex","onClose"])):(0,n.kq)("",!0)],64)}const St={class:"modal__title"},Et={class:"modal__content"},Vt=["onClick"],Mt=["onClick"];function $t(e,o,t,a,i,l){const s=(0,n.up)("v-icon"),c=(0,n.up)("v-radio"),d=(0,n.up)("v-col"),u=(0,n.up)("v-row"),m=(0,n.up)("v-radio-group"),h=(0,n.up)("v-slide-group-item"),k=(0,n.up)("v-slide-group"),p=(0,n.up)("v-text-field"),b=(0,n.up)("v-responsive"),g=(0,n.up)("loading-button"),v=(0,n.up)("vue-final-modal");return(0,n.wg)(),(0,n.j4)(v,{modelValue:i.showModal,"onUpdate:modelValue":o[6]||(o[6]=e=>i.showModal=e),classes:"modal-container","content-class":"modal-content elevation-3","lock-scroll":!0,"click-to-close":!0,"esc-to-close":!0,onClosed:l.close},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{icon:"mdi-close",class:"modal__close",color:"#808080",onClick:o[0]||(o[0]=e=>i.showModal=!1)}),(0,n._)("span",St,[(0,n.wy)((0,n._)("input",{type:"color",class:"color-custom","onUpdate:modelValue":o[1]||(o[1]=e=>i.icon_color=e)},null,512),[[it.nr,i.icon_color]]),(0,n.Wm)(s,{icon:i.icon,size:"x-large",color:i.icon_color},null,8,["icon","color"])]),(0,n._)("div",Et,[(0,n.Wm)(m,{class:"mb-3",modelValue:i.book_type,"onUpdate:modelValue":o[2]||(o[2]=e=>i.book_type=e),inline:"","hide-details":""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{cols:"6",class:"text-end"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{label:"북마크 북",value:"Bookmark",color:"indigo"})])),_:1}),(0,n.Wm)(d,{cols:"6",class:"text-start"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{label:"비디오 북",value:"Video",color:"indigo"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n._)("div",null,[(0,n._)("fieldset",null,[(0,n._)("legend",null,[(0,n.Uk)("Icon "),(0,n.wy)((0,n._)("input",{style:{position:"absolute"},type:"color","onUpdate:modelValue":o[3]||(o[3]=e=>i.icon_color=e)},null,512),[[it.nr,i.icon_color]])]),(0,n.Wm)(k,{"show-arrows":"",style:{width:"20rem"}},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.icons,(e=>((0,n.wg)(),(0,n.j4)(h,{key:e},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{class:(0,r.C_)(["icon",{selected:e===this.icon}]),icon:e,onClick:o=>this.icon=e},null,8,["class","icon","onClick"])])),_:2},1024)))),128))])),_:1}),(0,n._)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.colors,(e=>((0,n.wg)(),(0,n.iD)("span",{class:"color-filter my-3",key:e},[(0,n._)("div",{class:"color-pick",style:(0,r.j5)({"background-color":e}),onClick:o=>i.icon_color=e},null,12,Vt)])))),128))])])]),(0,n._)("div",null,[(0,n._)("fieldset",{style:(0,r.j5)(`border:2px solid ${i.book_color}`)},[(0,n._)("legend",null,[(0,n.Uk)("Line color "),(0,n.wy)((0,n._)("input",{style:{position:"absolute"},type:"color","onUpdate:modelValue":o[4]||(o[4]=e=>i.book_color=e)},null,512),[[it.nr,i.book_color]])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.colors,(e=>((0,n.wg)(),(0,n.iD)("span",{class:"color-filter",key:e},[(0,n._)("div",{class:"color-pick",style:(0,r.j5)({"background-color":e}),onClick:o=>i.book_color=e},null,12,Mt)])))),128))],4)]),(0,n.Wm)(b,{class:"mx-auto my-3","max-width":"320"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{variant:"underlined",label:"이름",modelValue:i.book_name,"onUpdate:modelValue":o[5]||(o[5]=e=>i.book_name=e),class:(0,r.C_)({invalid:""===i.book_name}),rules:[i.rules.required],counter:"",maxlength:"12"},null,8,["modelValue","class","rules"])])),_:1}),(0,n.Wm)(g,{text:i.text,loading:i.loading,onClick:l.create},null,8,["text","loading","onClick"])])])),_:1},8,["modelValue","onClosed"])}var Tt=t(2848),Wt=t(4860),qt={props:{bookcase:Object,bookcaseIndex:Number},components:{VueFinalModal:Tt.iR,LoadingButton:Wt.Z},data(){return{showModal:!0,text:"생성",loading:!1,book_type:"Bookmark",book_name:"",book_color:"#9896A4",colors:["#9896A4","#F7C9C9","#F7776A","#DD4132","#F9E03D","#78C752","#97DDDD","#91A8D1","#034F83","#B18F6A"],icon:"mdi-book-multiple",icon_color:"#9896A4",icons:["mdi-book-open-page-variant","mdi-star","mdi-heart","mdi-book-multiple","mdi-youtube","mdi-email","mdi-forum","mdi-cart","mdi-music","mdi-controller","mdi-silverware-fork-knife","mdi-information","mdi-briefcase","mdi-camera","mdi-movie","mdi-tennis-ball","mdi-map-marker","mdi-car","mdi-headset","mdi-hospital-box","mdi-chef-hat","mdi-cloud","mdi-cog","mdi-dice-3","mdi-glass-cocktail","mdi-lock","mdi-watch"],rules:{required:e=>!!e||""}}},setup(){},created(){},mounted(){},unmounted(){},watch:{book_type:function(){this.icon="Bookmark"===this.book_type?"mdi-book-multiple":"mdi-youtube"}},methods:{close(){this.showModal=!0,this.$emit("close","createBook")},async create(){const e=document.querySelectorAll(".invalid");if(this.loading||!this.$isValid(e))return!1;this.text="",this.loading=!0;const o="/book/create",t={parent_bookcase_seq:this.bookcase.bookcase_seq,book_name:this.book_name,book_color:this.book_color,book_icon:this.icon,book_icon_color:this.icon_color,book_type:this.book_type},n=await this.$axios.post(o,null,{params:t});if(!n.data)return!1;this.$store.commit("addBook",{book:n.data,bookcaseIndex:this.bookcaseIndex}),this.close()}}};const Ot=(0,ft.Z)(qt,[["render",$t],["__scopeId","data-v-aea405ca"]]);var Nt=Ot;const At={class:"modal__title"},Ut={class:"modal__content"},Lt=["onClick"],jt=["onClick"];function Ft(e,o,t,a,i,l){const s=(0,n.up)("v-icon"),c=(0,n.up)("v-radio"),d=(0,n.up)("v-col"),u=(0,n.up)("v-row"),m=(0,n.up)("v-radio-group"),h=(0,n.up)("v-slide-group-item"),k=(0,n.up)("v-slide-group"),p=(0,n.up)("v-text-field"),b=(0,n.up)("v-responsive"),g=(0,n.up)("loading-button"),v=(0,n.up)("vue-final-modal");return(0,n.wg)(),(0,n.j4)(v,{modelValue:i.showModal,"onUpdate:modelValue":o[6]||(o[6]=e=>i.showModal=e),classes:"modal-container","content-class":"modal-content elevation-3","lock-scroll":!0,"click-to-close":!0,"esc-to-close":!0,onClosed:l.close},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{icon:"mdi-close",class:"modal__close",color:"#808080",onClick:o[0]||(o[0]=e=>i.showModal=!1)}),(0,n._)("span",At,[(0,n.wy)((0,n._)("input",{type:"color",class:"color-custom","onUpdate:modelValue":o[1]||(o[1]=e=>i.icon_color=e)},null,512),[[it.nr,i.icon_color]]),(0,n.Wm)(s,{icon:i.icon,size:"x-large",color:i.icon_color},null,8,["icon","color"])]),(0,n._)("div",Ut,[(0,n.Wm)(m,{readonly:"",class:"mb-3",modelValue:i.book_type,"onUpdate:modelValue":o[2]||(o[2]=e=>i.book_type=e),inline:"","hide-details":""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{cols:"6",class:"text-end"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{label:"북마크 북",value:"Bookmark",color:"indigo"})])),_:1}),(0,n.Wm)(d,{cols:"6",class:"text-start"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{label:"비디오 북",value:"Video",color:"indigo"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n._)("div",null,[(0,n._)("fieldset",null,[(0,n._)("legend",null,[(0,n.Uk)("Icon "),(0,n.wy)((0,n._)("input",{style:{position:"absolute"},type:"color","onUpdate:modelValue":o[3]||(o[3]=e=>i.icon_color=e)},null,512),[[it.nr,i.icon_color]])]),(0,n.Wm)(k,{"show-arrows":"",style:{width:"20rem"}},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.icons,(e=>((0,n.wg)(),(0,n.j4)(h,{key:e},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{class:(0,r.C_)(["icon",{selected:e===this.icon}]),icon:e,onClick:o=>this.icon=e},null,8,["class","icon","onClick"])])),_:2},1024)))),128))])),_:1}),(0,n._)("div",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.colors,(e=>((0,n.wg)(),(0,n.iD)("span",{class:"color-filter my-3",key:e},[(0,n._)("div",{class:"color-pick",style:(0,r.j5)({"background-color":e}),onClick:o=>i.icon_color=e},null,12,Lt)])))),128))])])]),(0,n._)("div",null,[(0,n._)("fieldset",{style:(0,r.j5)(`border:2px solid ${i.book_color}`)},[(0,n._)("legend",null,[(0,n.Uk)("Line color "),(0,n.wy)((0,n._)("input",{style:{position:"absolute"},type:"color","onUpdate:modelValue":o[4]||(o[4]=e=>i.book_color=e)},null,512),[[it.nr,i.book_color]])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.colors,(e=>((0,n.wg)(),(0,n.iD)("span",{class:"color-filter",key:e},[(0,n._)("div",{class:"color-pick",style:(0,r.j5)({"background-color":e}),onClick:o=>i.book_color=e},null,12,jt)])))),128))],4)]),(0,n.Wm)(b,{class:"mx-auto my-3","max-width":"320"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{variant:"underlined",label:"이름",modelValue:i.book_name,"onUpdate:modelValue":o[5]||(o[5]=e=>i.book_name=e),class:(0,r.C_)({invalid:""===i.book_name}),rules:[i.rules.required],counter:"",maxlength:"12"},null,8,["modelValue","class","rules"])])),_:1}),(0,n.Wm)(g,{text:i.text,loading:i.loading,onClick:l.edit},null,8,["text","loading","onClick"])])])),_:1},8,["modelValue","onClosed"])}var Pt={props:{book:Object,bookcaseIndex:Number,bookIndex:Number},components:{VueFinalModal:Tt.iR,LoadingButton:Wt.Z},data(){return{showModal:!0,text:"변경",loading:!1,book_type:this.book.book_type,book_name:this.book.book_name,book_color:this.book.book_color,colors:["#9896A4","#F7C9C9","#F7776A","#DD4132","#F9E03D","#78C752","#97DDDD","#91A8D1","#034F83","#B18F6A"],icon:this.book.book_icon,icon_color:this.book.book_icon_color,icons:["mdi-book-open-page-variant","mdi-star","mdi-heart","mdi-book-multiple","mdi-youtube","mdi-email","mdi-forum","mdi-cart","mdi-music","mdi-controller","mdi-silverware-fork-knife","mdi-information","mdi-briefcase","mdi-camera","mdi-movie","mdi-tennis-ball","mdi-map-marker","mdi-car","mdi-headset","mdi-hospital-box","mdi-chef-hat","mdi-cloud","mdi-cog","mdi-dice-3","mdi-glass-cocktail","mdi-lock","mdi-watch"],rules:{required:e=>!!e||""}}},setup(){},created(){},mounted(){},unmounted(){},methods:{close(){this.showModal=!0,this.$emit("close","editBook")},async edit(){const e=document.querySelectorAll(".invalid");if(this.loading||!this.$isValid(e))return!1;this.text="",this.loading=!0;const o="/book/edit",t={book_seq:this.book.book_seq,book_name:this.book_name,book_color:this.book_color,book_icon:this.icon,book_icon_color:this.icon_color},n=await this.$axios.post(o,null,{params:t});if(!n.data)return!1;this.$store.commit("editBook",{book:n.data.book,bookcaseIndex:this.bookcaseIndex,bookIndex:this.bookIndex}),this.close()}}};const Rt=(0,ft.Z)(Pt,[["render",Ft],["__scopeId","data-v-90f485aa"]]);var Yt=Rt;const zt={class:"modal__title"},Xt={class:"book-name"},Ht={class:"modal__content"};function Zt(e,o,t,a,i,l){const s=(0,n.up)("v-icon"),c=(0,n.up)("v-text-field"),d=(0,n.up)("v-select"),u=(0,n.up)("v-responsive"),m=(0,n.up)("loading-button"),h=(0,n.up)("vue-final-modal");return(0,n.wg)(),(0,n.j4)(h,{modelValue:i.showModal,"onUpdate:modelValue":o[2]||(o[2]=e=>i.showModal=e),classes:"modal-container","content-class":"modal-content elevation-3","lock-scroll":!0,"click-to-close":!0,"esc-to-close":!0,onClosed:l.close},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{icon:"mdi-close",class:"modal__close",color:"#808080",onClick:o[0]||(o[0]=e=>i.showModal=!1)}),(0,n._)("span",zt,[(0,n.Wm)(s,{icon:"mdi-folder-move",size:"x-large",color:this.book.book_color},null,8,["color"]),(0,n._)("div",Xt,(0,r.zw)(this.book.book_name),1)]),(0,n._)("div",Ht,[(0,n.Wm)(u,{class:"mx-auto","max-width":"256"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"mb-7",variant:"filled",label:"from","model-value":this.bookcase.bookcase_name,readonly:"","hide-details":""},null,8,["model-value"]),(0,n.Wm)(s,{icon:"mdi-arrow-down-bold",size:"large",style:{margin:"0 0 1rem"}}),(0,n.Wm)(d,{class:"destination mb-7",variant:"filled",label:"to",modelValue:i.select,"onUpdate:modelValue":o[1]||(o[1]=e=>i.select=e),items:i.items,"item-title":"bookcase.bookcase_name","return-object":"","hide-details":""},null,8,["modelValue","items"])])),_:1}),(0,n.Wm)(m,{text:i.text,loading:i.loading,onClick:l.move},null,8,["text","loading","onClick"])])])),_:1},8,["modelValue","onClosed"])}var Kt={props:{book:Object,bookcase:Object,bookcaseIndex:Number},components:{VueFinalModal:Tt.iR,LoadingButton:Wt.Z},data(){return{showModal:!0,text:"이동",loading:!1,book_name:this.book.book_name,select:null,items:null}},setup(){},created(){const e=[];for(let o=0;o<this.$store.state.bookStore.library.length;o++)o!==this.bookcaseIndex&&e.push(this.$store.state.bookStore.library[o]);this.select=e[0],this.items=e},mounted(){},unmounted(){},methods:{close(){this.showModal=!0,this.$emit("close","moveBook")},async move(){this.text="",this.loading=!0;const e="/book/move",o={user_email:this.$store.state.accountStore.account.user_email,user_pw:this.$store.state.accountStore.account.user_pw,book_seq:this.book.book_seq,origin_seq:this.bookcase.bookcase_seq,destination_seq:this.select.bookcase.bookcase_seq},t=await this.$axios.post(e,null,{params:o});if(!t.data)return!1;this.$store.commit("moveBook",t.data),this.close()}}};const Gt=(0,ft.Z)(Kt,[["render",Zt],["__scopeId","data-v-2511b0e8"]]);var Jt=Gt;const Qt={class:"modal__title"},en={class:"modal__content"};function on(e,o,t,a,i,l){const s=(0,n.up)("v-icon"),c=(0,n.up)("v-text-field"),d=(0,n.up)("v-textarea"),u=(0,n.up)("v-responsive"),m=(0,n.up)("loading-button"),h=(0,n.up)("vue-final-modal");return(0,n.wg)(),(0,n.j4)(h,{modelValue:i.showModal,"onUpdate:modelValue":o[5]||(o[5]=e=>i.showModal=e),classes:"modal-container","content-class":"modal-content elevation-3","lock-scroll":!0,"click-to-close":!0,"esc-to-close":!0,onClosed:l.close},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{icon:"mdi-close",class:"modal__close",color:"#808080",onClick:o[0]||(o[0]=e=>i.showModal=!1)}),(0,n._)("span",Qt,[(0,n.Wm)(s,{icon:"mdi-bookmark-multiple",size:"x-large"})]),(0,n._)("div",en,[(0,n.Wm)(u,{class:"mx-auto","max-width":"256"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{variant:"underlined",label:"이름",modelValue:i.bookmark_name,"onUpdate:modelValue":o[1]||(o[1]=e=>i.bookmark_name=e),class:(0,r.C_)({invalid:""===i.bookmark_name}),rules:[i.rules.required],counter:"",maxlength:"12"},null,8,["modelValue","class","rules"]),"Bookmark"===this.book.book_type?((0,n.wg)(),(0,n.j4)(c,{key:0,class:(0,r.C_)(["mb-3",{invalid:""===i.bookmark_url}]),variant:"underlined",label:"URL",modelValue:i.bookmark_url,"onUpdate:modelValue":o[2]||(o[2]=e=>i.bookmark_url=e),rules:[i.rules.required],maxlength:"1000"},null,8,["modelValue","class","rules"])):(0,n.kq)("",!0),"Video"===this.book.book_type?((0,n.wg)(),(0,n.j4)(c,{key:1,class:(0,r.C_)(["text-start mb-3",{invalid:""===i.video_url||!i.video_valid}]),variant:"underlined",label:"URL",modelValue:i.video_url,"onUpdate:modelValue":o[3]||(o[3]=e=>i.video_url=e),rules:[i.rules.required],loading:i.video_loading,hint:i.hint,"persistent-hint":"",onChange:l.getVideoData},null,8,["modelValue","class","rules","loading","hint","onChange"])):(0,n.kq)("",!0),(0,n.Wm)(d,{variant:"outlined",label:"메모",modelValue:i.bookmark_memo,"onUpdate:modelValue":o[4]||(o[4]=e=>i.bookmark_memo=e),"no-resize":"",rows:"3",counter:"",maxlength:"60"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(m,{text:i.text,loading:i.loading,onClick:l.create},null,8,["text","loading","onClick"])])])),_:1},8,["modelValue","onClosed"])}var tn={props:{book:Object,bookcaseIndex:Number,bookIndex:Number},components:{VueFinalModal:Tt.iR,LoadingButton:Wt.Z},data(){return{showModal:!0,text:"생성",loading:!1,bookmark_name:"",bookmark_url:"",bookmark_memo:"",bookmark_icon:"",video_url:"",video_title:"",video_channel:"",video_loading:!1,hint:"* 현재 YouTube 링크만 지원 가능해요.",video_valid:!1,rules:{required:e=>!!e||""}}},setup(){},created(){},mounted(){},unmounted(){},methods:{close(){this.showModal=!0,this.$emit("close","createBookmark")},async create(){const e=document.querySelectorAll(".invalid");if(this.loading||!this.$isValid(e))return!1;this.text="",this.loading=!0;const o="/bookmark/create",t={parent_book_seq:this.book.book_seq,bookmark_name:this.bookmark_name,bookmark_url:"Bookmark"===this.book.book_type?this.bookmark_url:"-",bookmark_memo:this.bookmark_memo,bookmark_icon:this.bookmark_icon,video_id:"Video"===this.book.book_type?this.getId(this.video_url):"-",video_title:"Video"===this.book.book_type?this.video_title:"-",video_channel:"Video"===this.book.book_type?this.video_channel:"-"},n=await this.$axios.post(o,null,{params:t});if(!n.data)return!1;this.$store.commit("addBookmark",{bookmark:n.data,bookcaseIndex:this.bookcaseIndex,bookIndex:this.bookIndex}),this.close()},async getVideoData(){const e=this.getId(this.video_url);if(null===e)return this.hint="* 올바른 형식의 URL을 입력하세요.",this.video_valid=!1,!1;this.video_loading=!0;const o="https://www.googleapis.com/youtube/v3/videos",t={part:"snippet",id:e,key:"AIzaSyDyq-JOF0s6xKnoBl1ZrQ1vadozAv7Xzss"},n=await this.$axios.get(o,{params:t});if(this.video_loading=!1,0===n.data.items.length)return this.hint="* 동영상을 찾을 수 없어요.",this.video_valid=!1,!1;const a=n.data.items[0].snippet.title;this.hint=a.length<20?"* "+a:"* "+a.slice(0,19)+"...",this.video_title=a,this.video_channel=n.data.items[0].snippet.channelTitle,this.video_valid=!0},getId(e){const o=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;return null===e.match(o)?null:e.match(o)[2]}}};const nn=(0,ft.Z)(tn,[["render",on],["__scopeId","data-v-1bcf4d6a"]]);var an=nn;const ln={class:"book"},rn=["onClick"],sn={class:"pl-3"},cn=["onDrop"],dn={class:"book-tools elevation-3"};function un(e,o,t,a,i,l){const s=(0,n.up)("v-icon"),c=(0,n.up)("v-btn"),d=(0,n.up)("bookmark-list"),u=(0,n.up)("v-expand-transition"),m=(0,n.up)("draggable");return(0,n.wg)(),(0,n.j4)(m,{tag:"div",class:"book-group",modelValue:l.bookList,"onUpdate:modelValue":o[1]||(o[1]=e=>l.bookList=e),"item-key":"book.book_seq",handle:".handle"},{item:(0,n.w5)((({element:e,index:o})=>[(0,n._)("div",ln,[(0,n._)("div",{class:"book-title d-flex align-center handle elevation-3",onClick:t=>l.setBookState(e.book,o)},[(0,n.Wm)(s,{icon:e.book.book_icon,color:e.book.book_icon_color,size:"small"},null,8,["icon","color"]),(0,n._)("div",sn,(0,r.zw)(e.book.book_name),1),(0,n.Wm)(c,{class:"book-fold",variant:"plain",icon:"Y"===e.book.book_open?"mdi-chevron-up":"mdi-chevron-down"},null,8,["icon"])],8,rn),(0,n._)("div",{class:"elevation-1",style:(0,r.j5)([{height:"0.8rem"},{background:`linear-gradient( to right,\n          ${e.book.book_color} 90%,\n          ${e.book.book_color+"64"}`}])},null,4),(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.wy)((0,n._)("div",{class:"book-content elevation-3",onDrop:t=>{i.targetBook=e.book,i.targetBookIndex=o}},[(0,n._)("div",null,[(0,n.Wm)(d,{book:e.book,bookcaseIndex:t.bookcaseIndex,bookIndex:o,targetBook:i.targetBook,targetBookIndex:i.targetBookIndex,onOpenModal:t=>l.openModal(e.book,o,"editBookmark"),onSetBookmark:l.setBookmark,onSetBook:t=>this.$emit("setBook",{book:e.book,bookIndex:o})},null,8,["book","bookcaseIndex","bookIndex","targetBook","targetBookIndex","onOpenModal","onSetBookmark","onSetBook"])])],40,cn),[[it.F8,"Y"===e.book.book_open]])])),_:2},1024),(0,n._)("div",dn,[(0,n.Wm)(c,{variant:"plain",icon:"mdi-book-plus",onClick:t=>l.openModal(e.book,o,"createBookmark")},null,8,["onClick"]),(0,n.Wm)(c,{variant:"plain",icon:"mdi-pencil-box-multiple",onClick:t=>l.openModal(e.book,o,"editBook")},null,8,["onClick"]),(0,n.Wm)(c,{variant:"plain",icon:"mdi-folder-move",onClick:t=>l.moveBook(e.book,o)},null,8,["onClick"]),(0,n.Wm)(c,{variant:"plain",icon:"mdi-delete",onClick:o=>l.deleteBook(e.book)},null,8,["onClick"])])])])),footer:(0,n.w5)((()=>[(0,n.Wm)(c,{variant:"text",class:"book book-create elevation-3",onClick:o[0]||(o[0]=e=>this.$emit("openModal","createBook"))},{default:(0,n.w5)((()=>[(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-view-grid-plus")])),_:1})])),_:1})])),_:1},8,["modelValue"])}const mn=e=>((0,n.dD)("data-v-48f661bb"),e=e(),(0,n.Cn)(),e),hn={key:0,class:"d-flex align-center justify-center",style:{height:"40px","background-color":"#808080",color:"white"}},kn=mn((()=>(0,n._)("div",null,"아직 등록된 북마크가 없어요.",-1))),pn=[kn],bn={key:1,class:"d-flex align-center justify-center",style:{height:"200px","background-color":"#808080",color:"white"}},gn=mn((()=>(0,n._)("div",null,"표시할 컨텐츠가 존재하지 않아요.",-1))),vn=[gn],fn=["onMouseenter","onMouseleave"],_n={key:0,class:"d-flex align-center"},wn=["src"],xn=["href"],yn=mn((()=>(0,n._)("strong",null,"URL",-1))),Cn=mn((()=>(0,n._)("hr",null,null,-1))),In=mn((()=>(0,n._)("strong",null,"MEMO",-1))),Bn={key:1,class:"d-flex align-center"},Dn=["onClick"],Sn=mn((()=>(0,n._)("strong",null,"TITLE",-1))),En=mn((()=>(0,n._)("br",null,null,-1))),Vn=mn((()=>(0,n._)("strong",null,"CHANNEL",-1))),Mn=mn((()=>(0,n._)("hr",null,null,-1))),$n=mn((()=>(0,n._)("strong",null,"MEMO",-1))),Tn={class:"ml-auto"};function Wn(e,o,t,a,i,l){const s=(0,n.up)("YouTube"),c=(0,n.up)("v-tooltip"),d=(0,n.up)("v-icon"),u=(0,n.up)("v-btn"),m=(0,n.up)("draggable");return(0,n.wg)(),(0,n.j4)(m,{tag:"div",class:(0,r.C_)(0!==l.bookmarkList.length?"bookmark-group":""),modelValue:l.bookmarkList,"onUpdate:modelValue":o[1]||(o[1]=e=>l.bookmarkList=e),"item-key":"bookmark.seq",group:"Bookmark"===this.book.book_type?"Book":"VideoBook",onChange:l.moveBookmark},{header:(0,n.w5)((()=>["Bookmark"===this.book.book_type&&0===this.bookmarkList.length?((0,n.wg)(),(0,n.iD)("div",hn,pn)):(0,n.kq)("",!0),"Video"===this.book.book_type&&0===this.bookmarkList.length?((0,n.wg)(),(0,n.iD)("div",bn,vn)):(0,n.kq)("",!0),"Video"===this.book.book_type&&0!==this.bookmarkList.length?((0,n.wg)(),(0,n.j4)(s,{key:2,src:"https://www.youtube.com/watch?v="+this.bookmarkList[this.book.video_index].video_id,vars:{start:this.bookmarkList[this.book.video_index].video_time},ref:`youtube${this.bookIndex}`,width:"288",height:"200",onStateChange:o[0]||(o[0]=e=>l.onStateChange(l.bookmarkList[this.book.video_index].bookmark_seq))},null,8,["src","vars"])):(0,n.kq)("",!0)])),item:(0,n.w5)((({element:e,index:o})=>[(0,n._)("div",{class:"bookmark d-flex align-center",onMouseenter:e=>i.showTools[o]=!0,onMouseleave:e=>i.showTools[o]=!1},["Bookmark"===this.book.book_type?((0,n.wg)(),(0,n.iD)("div",_n,[(0,n._)("img",{src:"https://www.google.com/s2/favicons?domain="+e.bookmark_url,alt:"favicon"},null,8,wn),(0,n._)("a",{class:"px-1",href:l.getUrlFormat(e.bookmark_url),target:"_blank"},[(0,n.Uk)((0,r.zw)(e.bookmark_name)+" ",1),(0,n.Wm)(c,{activator:"parent",location:"top","max-width":"360"},{default:(0,n.w5)((()=>[yn,(0,n.Uk)(" : "+(0,r.zw)(e.bookmark_url)+" ",1),Cn,In,(0,n.Uk)(" : "+(0,r.zw)(e.bookmark_memo),1)])),_:2},1024)],8,xn)])):(0,n.kq)("",!0),"Video"===this.book.book_type?((0,n.wg)(),(0,n.iD)("div",Bn,[(0,n.Wm)(d,{icon:"mdi-youtube",color:"red"}),(0,n._)("a",{class:"px-1",href:"javascript:void(0)",onClick:t=>l.loadVideo(e,this.book,o,this.bookIndex)},[(0,n.Uk)((0,r.zw)(e.bookmark_name)+" ",1),(0,n.Wm)(c,{activator:"parent",location:"bottom","max-width":"360"},{default:(0,n.w5)((()=>[Sn,(0,n.Uk)(" : "+(0,r.zw)(e.video_title)+" ",1),En,Vn,(0,n.Uk)(" : "+(0,r.zw)(e.video_channel)+" ",1),Mn,$n,(0,n.Uk)(" : "+(0,r.zw)(e.bookmark_memo),1)])),_:2},1024)],8,Dn)])):(0,n.kq)("",!0),(0,n._)("div",Tn,[(0,n.Wm)(u,{class:(0,r.C_)(["bookmark-tools",{show:i.showTools[o]}]),variant:"plain",icon:"mdi-book-edit",size:"small",onClick:t=>l.editBookmark(e,o)},null,8,["class","onClick"]),(0,n.Wm)(u,{class:(0,r.C_)(["bookmark-tools",{show:i.showTools[o]}]),variant:"plain",icon:"mdi-book-remove",color:"red",size:"small",onClick:t=>l.deleteBookmark(e,o)},null,8,["class","onClick"])])],40,fn)])),_:1},8,["class","modelValue","group","onChange"])}var qn={props:{book:Object,targetBook:Object,bookcaseIndex:Number,bookIndex:Number,targetBookIndex:Number},components:{Draggable:gt},data(){return{showTools:[],setValue:null,bookmark:null}},setup(){},created(){},mounted(){},unmounted(){},computed:{bookmarkList:{get(){return this.$store.state.bookStore.library[this.bookcaseIndex].bookList[this.bookIndex].bookmarkList},set(e){this.setValue=e}}},methods:{getUrlFormat(e){const o=e.startsWith("http://")||e.startsWith("https://");return o?e:"http://"+e},editBookmark(e,o){this.$emit("openModal"),this.$emit("setBookmark",{bookmark:e,bookmarkIndex:o}),this.$emit("setBook")},async deleteBookmark(e,o){const t="/bookmark/delete",n={bookmark_seq:e.bookmark_seq},a=await this.$axios.post(t,null,{params:n});if(!a.data)return!1;this.$store.commit("delBookmark",{bookcaseIndex:this.bookcaseIndex,bookIndex:this.bookIndex,bookmarkIndex:o})},async moveBookmark(e){const o=this.setValue,t=[];o.forEach((e=>{t.push(e.bookmark_seq)}));const n="/bookmark/order",a={book_seq:this.book.book_seq,bookmark_order:encodeURIComponent(t)};await this.$axios.post(n,null,{params:a});const i={bookmarkList:o,bookcaseIndex:this.bookcaseIndex,bookIndex:this.bookIndex};if(this.$store.commit("editBookmarkOrder",i),void 0!==e.removed){this.$store.commit("editVideoIndex",{value:0,bookcaseIndex:this.bookcaseIndex,bookIndex:this.bookIndex});const o=e.removed.element,t="/bookmark/move",n={bookmark_seq:o.bookmark_seq,parent_book_seq:this.targetBook.book_seq},a=await this.$axios.post(t,null,{params:n});this.$store.commit("moveBookmark",{bookmark:a.data,bookIndex:this.targetBookIndex,bookcaseIndex:this.bookcaseIndex})}},onStateChange(e){const o=JSON.parse(event.data).info;if(2===o){const o=Math.floor(this.$refs[`youtube${this.bookIndex}`].getCurrentTime()),t="/bookmark/time",n={bookmark_seq:e,video_time:o};this.$axios.post(t,null,{params:n}),this.$store.commit("editVideoTime",{value:o,bookcaseIndex:this.bookcaseIndex,bookIndex:this.bookIndex,bookmark_seq:e})}},loadVideo(e,o,t,n){this.$refs[`youtube${n}`].loadVideoById(e.video_id);const a="/book/index",i={book_seq:o.book_seq,video_index:t};this.$axios.post(a,null,{params:i}),this.$store.commit("editVideoIndex",{value:t,bookcaseIndex:this.bookcaseIndex,bookIndex:this.bookIndex})}}};const On=(0,ft.Z)(qn,[["render",Wn],["__scopeId","data-v-48f661bb"]]);var Nn=On,An={props:{bookcase:Object,bookcaseIndex:Number},components:{BookmarkList:Nn,Draggable:gt},data(){return{targetBook:null,targetBookIndex:null}},setup(){},created(){},mounted(){},unmounted(){},computed:{bookList:{get(){return this.$store.state.bookStore.library[this.bookcaseIndex].bookList},set(e){const o=[];e.forEach((e=>{o.push(e.book.book_seq)}));const t="/book/order",n={bookcase_seq:this.bookcase.bookcase_seq,book_order:encodeURIComponent(o)};this.$axios.post(t,null,{params:n}),this.$store.commit("editBookOrder",{book:e,bookcaseIndex:this.bookcaseIndex})}}},methods:{openModal(e,o,t){this.$emit("setBook",{book:e,bookIndex:o}),this.$emit("openModal",t)},setBookState(e,o){const t="Y"===e.book_open?"N":"Y",n="/book/state",a={book_seq:e.book_seq,book_open:t};this.$axios.post(n,null,{params:a}),this.$store.commit("editBookState",{value:t,bookIndex:o,bookcaseIndex:this.bookcaseIndex})},deleteBook(e){const o={html:"<strong>"+e.book_name+"</strong><br>폴더를 삭제 할거에요.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"예",cancelButtonText:"아니오"};this.$swal.fire(o).then((async o=>{if(o.isConfirmed){const o="/book/delete",t={book_seq:e.book_seq},n=await this.$axios.post(o,null,{params:t});if(!n.data)return!1;this.$store.commit("delBook",{book:e,bookcaseIndex:this.bookcaseIndex})}}))},moveBook(e,o){if(this.$store.state.bookStore.library.length<=1){const e={icon:"error",html:"<strong>이동할 페이지가 존재하지 않아요.</strong>"};return this.$swal.fire(e),!1}this.openModal(e,o,"moveBook")},setBookmark(e){this.$emit("setBookmark",e)}}};const Un=(0,ft.Z)(An,[["render",un],["__scopeId","data-v-5bb7503e"]]);var Ln=Un;const jn={class:"modal__title"},Fn={class:"modal__content"};function Pn(e,o,t,a,i,l){const s=(0,n.up)("v-icon"),c=(0,n.up)("v-text-field"),d=(0,n.up)("v-textarea"),u=(0,n.up)("v-responsive"),m=(0,n.up)("loading-button"),h=(0,n.up)("vue-final-modal");return(0,n.wg)(),(0,n.j4)(h,{modelValue:i.showModal,"onUpdate:modelValue":o[5]||(o[5]=e=>i.showModal=e),classes:"modal-container","content-class":"modal-content elevation-3","lock-scroll":!0,"click-to-close":!0,"esc-to-close":!0,onClosed:l.close},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{icon:"mdi-close",class:"modal__close",color:"#808080",onClick:o[0]||(o[0]=e=>i.showModal=!1)}),(0,n._)("span",jn,[(0,n.Wm)(s,{icon:"mdi-bookmark-multiple",size:"x-large"})]),(0,n._)("div",Fn,[(0,n.Wm)(u,{class:"mx-auto","max-width":"256"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{variant:"underlined",label:"이름",modelValue:i.bookmark_name,"onUpdate:modelValue":o[1]||(o[1]=e=>i.bookmark_name=e),class:(0,r.C_)({invalid:""===i.bookmark_name}),rules:[i.rules.required],counter:"",maxlength:"12"},null,8,["modelValue","class","rules"]),"Bookmark"===i.book_type?((0,n.wg)(),(0,n.j4)(c,{key:0,class:(0,r.C_)(["mb-3",{invalid:""===i.bookmark_url}]),variant:"underlined",label:"URL",modelValue:i.bookmark_url,"onUpdate:modelValue":o[2]||(o[2]=e=>i.bookmark_url=e),rules:[i.rules.required],maxlength:"1000"},null,8,["modelValue","class","rules"])):(0,n.kq)("",!0),"Video"===i.book_type?((0,n.wg)(),(0,n.j4)(c,{key:1,class:(0,r.C_)(["text-start mb-3",{invalid:""===i.video_url||!i.video_valid}]),variant:"underlined",label:"URL",modelValue:i.video_url,"onUpdate:modelValue":o[3]||(o[3]=e=>i.video_url=e),rules:[i.rules.required],loading:i.video_loading,hint:i.hint,"persistent-hint":"",onChange:l.getVideoData},null,8,["modelValue","class","rules","loading","hint","onChange"])):(0,n.kq)("",!0),(0,n.Wm)(d,{variant:"outlined",label:"메모",modelValue:i.bookmark_memo,"onUpdate:modelValue":o[4]||(o[4]=e=>i.bookmark_memo=e),"no-resize":"",rows:"3",counter:"",maxlength:"60"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(m,{text:i.text,loading:i.loading,onClick:l.edit},null,8,["text","loading","onClick"])])])),_:1},8,["modelValue","onClosed"])}var Rn={props:{book:Object,bookmark:Object,bookcaseIndex:Number,bookIndex:Number,bookmarkIndex:Number},components:{VueFinalModal:Tt.iR,LoadingButton:Wt.Z},data(){return{showModal:!0,text:"변경",loading:!1,bookmark_seq:this.bookmark.bookmark_seq,parent_book_seq:this.bookmark.parent_book_seq,bookmark_name:this.bookmark.bookmark_name,bookmark_url:this.bookmark.bookmark_url,bookmark_memo:this.bookmark.bookmark_memo,bookmark_icon:"",book_type:this.book.book_type,video_url:"https://www.youtube.com/watch?v="+this.bookmark.video_id,video_title:this.bookmark.video_title,video_channel:this.bookmark.video_channel,video_loading:!1,hint:"",video_valid:!0,rules:{required:e=>!!e||""}}},setup(){},created(){this.getVideoData(this.video_url)},mounted(){},unmounted(){},methods:{close(){this.showModal=!0,this.$emit("close","editBookmark")},async edit(){const e=document.querySelectorAll(".invalid");if(this.loading||!this.$isValid(e))return!1;this.text="",this.loading=!0;const o="/bookmark/edit",t={bookmark_seq:this.bookmark_seq,parent_book_seq:this.parent_book_seq,bookmark_name:this.bookmark_name,bookmark_url:"Bookmark"===this.book.book_type?this.bookmark_url:"-",bookmark_memo:this.bookmark_memo,bookmark_icon:this.bookmark_icon,video_id:"Video"===this.book.book_type?this.getId(this.video_url):"-",video_title:"Video"===this.book.book_type?this.video_title:"-",video_channel:"Video"===this.book.book_type?this.video_channel:"-"},n=await this.$axios.post(o,null,{params:t});if(!n.data)return!1;this.$store.commit("editBookmark",{bookmark:n.data,bookcaseIndex:this.bookcaseIndex,bookIndex:this.bookIndex,bookmarkIndex:this.bookmarkIndex}),this.close()},async getVideoData(){const e=this.getId(this.video_url);if(null===e)return this.hint="* 올바른 형식의 URL을 입력하세요.",this.video_valid=!1,!1;this.video_loading=!0;const o="https://www.googleapis.com/youtube/v3/videos",t={part:"snippet",id:e,key:"AIzaSyDyq-JOF0s6xKnoBl1ZrQ1vadozAv7Xzss"},n=await this.$axios.get(o,{params:t});if(this.video_loading=!1,0===n.data.items.length)return this.hint="* 동영상을 찾을 수 없어요.",this.video_valid=!1,!1;const a=n.data.items[0].snippet.title;this.hint=a.length<20?"* "+a:"* "+a.slice(0,19)+"...",this.video_title=a,this.video_channel=n.data.items[0].snippet.channelTitle,this.video_valid=!0},getId(e){const o=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;return null===e.match(o)?null:e.match(o)[2]}}};const Yn=(0,ft.Z)(Rn,[["render",Pn],["__scopeId","data-v-19f3e04a"]]);var zn=Yn;const Xn={class:"modal__title"},Hn={class:"modal__content"};function Zn(e,o,t,a,i,l){const s=(0,n.up)("v-icon"),c=(0,n.up)("v-radio"),d=(0,n.up)("v-col"),u=(0,n.up)("v-row"),m=(0,n.up)("v-radio-group"),h=(0,n.up)("v-text-field"),k=(0,n.up)("v-textarea"),p=(0,n.up)("v-combobox"),b=(0,n.up)("v-chip"),g=(0,n.up)("v-slide-group-item"),v=(0,n.up)("v-slide-group"),f=(0,n.up)("v-responsive"),_=(0,n.up)("v-expand-transition"),w=(0,n.up)("loading-button"),x=(0,n.up)("vue-final-modal");return(0,n.wg)(),(0,n.j4)(x,{modelValue:i.showModal,"onUpdate:modelValue":o[5]||(o[5]=e=>i.showModal=e),classes:"modal-container","content-class":"modal-content elevation-3","lock-scroll":!0,"click-to-close":!0,"esc-to-close":!0,onClosed:l.close},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{icon:"mdi-close",class:"modal__close",color:"#808080",onClick:o[0]||(o[0]=e=>i.showModal=!1)}),(0,n._)("span",Xn,[(0,n.Wm)(s,{icon:"mdi-share",size:"x-large"})]),(0,n._)("div",Hn,[(0,n.Wm)(m,{class:"mb-3",modelValue:i.onlyCode,"onUpdate:modelValue":o[1]||(o[1]=e=>i.onlyCode=e),inline:"","hide-details":""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{cols:"6",class:"text-end"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{label:"공유 코드 생성",value:!0,color:"indigo"})])),_:1}),(0,n.Wm)(d,{cols:"6",class:"text-start"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{label:"공개 등록",value:!1,color:"indigo"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.wy)((0,n.Wm)(f,{class:"mx-auto","max-width":"320"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{class:(0,r.C_)(["mb-7",{invalid:""===i.bookcase_name}]),variant:"underlined",label:"이름",modelValue:i.bookcase_name,"onUpdate:modelValue":o[2]||(o[2]=e=>i.bookcase_name=e),rules:[i.rules.required],disabled:i.onlyCode,counter:"",maxlength:"12"},null,8,["modelValue","class","rules","disabled"]),(0,n.Wm)(k,{variant:"outlined",label:"내용",modelValue:i.share_contents,"onUpdate:modelValue":o[3]||(o[3]=e=>i.share_contents=e),class:(0,r.C_)({invalid:""===i.share_contents}),"no-resize":"",rows:"3",disabled:i.onlyCode,counter:"",maxlength:"1000"},null,8,["modelValue","class","disabled"]),(0,n.Wm)(p,{class:"input-tag",label:"tag",modelValue:i.temp_tag,"onUpdate:modelValue":o[4]||(o[4]=e=>i.temp_tag=e),items:[],multiple:"",delimiters:[","," "],"hide-details":"","hide-selected":"","prepend-inner-icon":"mdi-tag",onInput:l.moveTag,onKeydown:(0,it.D2)(l.moveTag,["enter"])},null,8,["modelValue","onInput","onKeydown"]),(0,n.Wm)(v,{class:"slide-tag","show-arrows":""},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.tags,(e=>((0,n.wg)(),(0,n.j4)(g,{key:e},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{class:"mx-1",closable:"","onClick:close":o=>l.deleteTag(e)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(e),1)])),_:2},1032,["onClick:close"])])),_:2},1024)))),128))])),_:1})])),_:1},512),[[it.F8,!i.onlyCode]])])),_:1}),(0,n.Wm)(w,{text:i.text,loading:i.loading,onClick:l.create},null,8,["text","loading","onClick"])])])),_:1},8,["modelValue","onClosed"])}var Kn={props:{bookcase:Object,bookcaseIndex:Number},components:{VueFinalModal:Tt.iR,LoadingButton:Wt.Z},data(){return{showModal:!0,onlyCode:!0,text:"확인",loading:!1,bookcase_name:this.bookcase.bookcase_name,share_contents:"",temp_tag:[],tags:[],rules:{required:e=>!!e||""}}},setup(){},created(){},mounted(){},unmounted(){},methods:{close(){this.showModal=!0,this.$emit("close","shareBookcase")},moveTag(){if(this.temp_tag.length>0){const e=this.temp_tag.pop();this.tags.includes(e)||this.tags.push(e)}},deleteTag(e){const o=this.tags.findIndex((o=>o===e));this.tags.splice(o,1)},async create(){const e=document.querySelectorAll(".invalid");if(!this.onlyCode&&(this.loading||!this.$isValid(e)))return!1;this.text="",this.loading=!0;const o="/share/create",t={origin_seq:this.bookcase.bookcase_seq,account_seq:this.$store.state.accountStore.account.account_seq,bookcase_name:this.onlyCode?this.bookcase.bookcase_name:this.bookcase_name,share_public:this.onlyCode?"N":"Y",share_contents:this.onlyCode?"-":this.share_contents,share_tag:this.onlyCode?"-":encodeURIComponent(JSON.stringify(this.tags))},n=await this.$axios.post(o,null,{params:t});if(!n.data)return!1;this.close();const a={icon:"success",html:`\n        <input\n        type="text"\n        value="${n.data.bookcase.share_code}"\n        style="\n        text-align: center;\n        height: 2rem;\n        font-weight: bold;\n        font-size: large;\n        border: 0;\n        background-color: #E8E8E8;\n        outline: none;\n        cursor: pointer;"\n        onclick="this.select()\n        document.execCommand('Copy')\n        this.setSelectionRange(0, 0)"\n        readonly>\n        <br><br>코드는 <a href="/myshare">공유함<a>에서 다시 확인할 수 있어요.`};this.$swal.fire(a)}}};const Gn=(0,ft.Z)(Kn,[["render",Zn],["__scopeId","data-v-e9f2ef9a"]]);var Jn=Gn,Qn={props:{sideBar:Boolean,bookcase:Object,bookcaseIndex:Number},components:{CreateBook:Nt,EditBook:Yt,MoveBook:Jt,CreateBookmark:an,EditBookmark:zn,ShareBookcase:Jn,BookList:Ln},data(){return{createBook:!1,editBook:!1,moveBook:!1,createBookmark:!1,editBookmark:!1,shareBookcase:!1,editable:!1,book:null,bookIndex:null,bookmark:null,bookmarkIndex:null}},setup(){},created(){},mounted(){},unmounted(){},methods:{openModal(e){"createBook"===e?this.createBook=!0:"editBook"===e?this.editBook=!0:"moveBook"===e?this.moveBook=!0:"createBookmark"===e?this.createBookmark=!0:"editBookmark"===e&&(this.editBookmark=!0)},closeModal(e){"createBook"===e?this.createBook=!1:"editBook"===e?this.editBook=!1:"moveBook"===e?this.moveBook=!1:"createBookmark"===e?this.createBookmark=!1:"editBookmark"===e?this.editBookmark=!1:"shareBookcase"===e&&(this.shareBookcase=!1)},setBook(e){this.book=e.book,this.bookIndex=e.bookIndex},setBookmark(e){this.bookmark=e.bookmark,this.bookmarkIndex=e.bookmarkIndex},deleteBookcase(){if(this.$store.state.bookStore.library.length<=1){const e={icon:"error",html:"<strong>마지막 페이지는 삭제할 수 없어요.</strong>"};return this.$swal.fire(e),!1}const e={html:"<strong>'"+this.bookcase.bookcase_name+"'</strong><br>페이지를 삭제합니다.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"예",cancelButtonText:"아니오"};this.$swal.fire(e).then((async e=>{if(e.isConfirmed){const e="/bookcase/delete",o={bookcase_seq:this.bookcase.bookcase_seq},t=await this.$axios.post(e,null,{params:o});if(!t.data)return!1;this.$store.commit("delBookcase",{bookcaseIndex:this.bookcaseIndex}),this.$emit("select",0)}}))},async editName(){if(!this.editable||""===this.$refs.editName.value||this.$refs.editName.value===this.bookcase.bookcase_name)return this.escapeEdit(),!1;const e="/bookcase/name",o={bookcase_seq:this.bookcase.bookcase_seq,bookcase_name:this.$refs.editName.value},t=await this.$axios.post(e,null,{params:o});if(!t.data)return!1;await this.$store.commit("editBookcaseName",{bookcase:t.data,bookcaseIndex:this.bookcaseIndex}),this.escapeEdit()},escapeEdit(){this.$refs.editName.value=this.bookcase.bookcase_name,this.editable=!1,this.$refs.editName.blur()},openShare(){if(0===this.$store.state.bookStore.library[this.bookcaseIndex].bookList.length){const e={icon:"error",html:"<strong>빈 페이지는 공유할 수 없어요.</strong>"};return this.$swal.fire(e),!1}this.shareBookcase=!0}}};const ea=(0,ft.Z)(Qn,[["render",Dt],["__scopeId","data-v-fd475a2c"]]);var oa=ea;const ta={class:"modal__title"},na={class:"modal__content"};function aa(e,o,t,a,i,l){const s=(0,n.up)("v-icon"),c=(0,n.up)("v-radio"),d=(0,n.up)("v-col"),u=(0,n.up)("v-row"),m=(0,n.up)("v-radio-group"),h=(0,n.up)("v-text-field"),k=(0,n.up)("v-responsive"),p=(0,n.up)("loading-button"),b=(0,n.up)("vue-final-modal");return(0,n.wg)(),(0,n.j4)(b,{modelValue:i.showModal,"onUpdate:modelValue":o[3]||(o[3]=e=>i.showModal=e),classes:"modal-container","content-class":"modal-content elevation-3","lock-scroll":!0,"click-to-close":!0,"esc-to-close":!0,onClosed:l.close},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{icon:"mdi-close",class:"modal__close",color:"#808080",onClick:o[0]||(o[0]=e=>i.showModal=!1)}),(0,n._)("span",ta,[(0,n.Wm)(s,{icon:"mdi-bookshelf",size:"x-large"})]),(0,n._)("div",na,[(0,n.Wm)(m,{class:"mb-3",modelValue:i.inputCode,"onUpdate:modelValue":o[1]||(o[1]=e=>i.inputCode=e),inline:"","hide-details":""},{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{cols:"6",class:"text-end"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{label:"직접 생성",value:!1,color:"indigo"})])),_:1}),(0,n.Wm)(d,{cols:"6",class:"text-start"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{label:"코드 입력",value:!0,color:"indigo"})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(k,{class:"mx-auto","max-width":"256"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{variant:"underlined",label:i.inputCode?"공유 코드":"이름",modelValue:i.bookcase_name,"onUpdate:modelValue":o[2]||(o[2]=e=>i.bookcase_name=e),class:(0,r.C_)({invalid:""===i.bookcase_name}),rules:[i.rules.required],counter:"",maxlength:"12"},null,8,["label","modelValue","class","rules"])])),_:1}),(0,n.Wm)(p,{text:i.text,loading:i.loading,onClick:l.create},null,8,["text","loading","onClick"])])])),_:1},8,["modelValue","onClosed"])}var ia={components:{VueFinalModal:Tt.iR,LoadingButton:Wt.Z},data(){return{showModal:!0,text:"확인",loading:!1,inputCode:!1,bookcase_name:"",rules:{required:e=>!!e||""}}},setup(){},created(){},mounted(){},unmounted(){},methods:{close(){this.showModal=!0,this.$emit("close")},async create(){const e=document.querySelectorAll(".invalid");if(this.loading||!this.$isValid(e))return!1;this.text="",this.loading=!0;const o=this.inputCode?"/share/import":"/bookcase/create",t={user_email:this.$store.state.accountStore.account.user_email,user_pw:this.$store.state.accountStore.account.user_pw,[this.inputCode?"share_code":"bookcase_name"]:this.bookcase_name},n=await this.$axios.post(o,null,{params:t});if(!n.data&&this.inputCode){const e={icon:"error",html:"<strong>공유 코드가 유효하지 않아요.</strong>"};return this.$swal.fire(e).then((e=>{(e.isConfirmed||e.isDismissed)&&(this.text="확인",this.loading=!1)})),!1}this.$store.commit("addBookcase",{bookcase:n.data}),this.$emit("select",this.$store.state.bookStore.library.length-1),this.close()}}};const la=(0,ft.Z)(ia,[["render",aa],["__scopeId","data-v-c1f7230e"]]);var ra=la,sa={components:{LibrarySideBar:wt,BookcaseContents:oa,CreateBookcase:ra},data(){return{sideBar:!0,bookcase:this.$store.state.bookStore.library[0],bookcaseIndex:0,createBookcase:!1,loadComplete:!1}},setup(){},async created(){if(!this.$store.state.accountStore.isLogin)return this.$emit("setLoginModal",!0),!1;const e="/bookcase/list",o={user_email:this.$store.state.accountStore.account.user_email,user_pw:this.$store.state.accountStore.account.user_pw},t=await this.$axios.get(e,{params:o});this.$store.commit("refresh",t.data),void 0!==this.$route.query.recent&&(this.bookcase=this.$store.state.bookStore.library[t.data.length-1]),this.loadComplete=!0},mounted(){},unmounted(){},methods:{selectBookcase(e){if(e.constructor!==Number)return!1;this.bookcase=this.$store.state.bookStore.library[e],this.bookcaseIndex=e}}};const ca=(0,ft.Z)(sa,[["render",l],["__scopeId","data-v-970478ec"]]);var da=ca}}]);
//# sourceMappingURL=library.005bddcd.js.map