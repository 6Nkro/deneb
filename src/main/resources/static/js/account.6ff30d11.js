"use strict";(self["webpackChunkdeneb"]=self["webpackChunkdeneb"]||[]).push([[809],{1229:function(t,e,s){s.r(e),s.d(e,{default:function(){return g}});var a=s(3396),i=s(7139);const o=t=>((0,a.dD)("data-v-8a4c9f3e"),t=t(),(0,a.Cn)(),t),n={key:0,id:"my-share"},c={class:"container"},l={class:"table text-start"},d=(0,a.uE)('<div class="title mb-3" data-v-8a4c9f3e>나의 공유 목록</div><hr data-v-8a4c9f3e><div class="py-5 d-flex" data-v-8a4c9f3e><div style="width:12%;" class="px-1" data-v-8a4c9f3e> 공유코드 </div><div style="width:24%;" class="px-1" data-v-8a4c9f3e> 제목 </div><div style="width:24%;" class="px-1" data-v-8a4c9f3e> 내용 </div><div style="width:16%;" class="text-center px-1" data-v-8a4c9f3e> 날짜 </div><div style="width:7%;" class="text-center px-1" data-v-8a4c9f3e> 좋아요 </div><div style="width:7%;" class="text-center px-1" data-v-8a4c9f3e> 공유 </div><div style="width:5%;" class="text-center px-1" data-v-8a4c9f3e> 공개 </div><div style="width:5%;" class="text-center px-1" data-v-8a4c9f3e> 삭제 </div></div><hr data-v-8a4c9f3e>',4),r=["onClick"],h={style:{width:"12%"},class:"px-1"},p={style:{width:"24%"},class:"text-truncate px-1"},u={style:{width:"24%"},class:"text-truncate px-1"},v={style:{width:"16%"},class:"text-center px-1"},_={style:{width:"7%"},class:"text-center px-1"},x={style:{width:"7%"},class:"text-center px-1"},w={style:{width:"5%"},class:"text-center px-1"},m={style:{width:"5%"},class:"text-center px-1"},f=o((()=>(0,a._)("hr",null,null,-1)));function k(t,e,s,o,k,y){const C=(0,a.up)("v-icon"),L=(0,a.up)("share-post-detail");return k.loadComplete?((0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",c,[(0,a._)("div",l,[d,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(k.postList,((t,e)=>((0,a.wg)(),(0,a.iD)("div",{key:e},[(0,a._)("div",{class:"py-4 d-flex post",onClick:e=>y.openDetail(t)},[(0,a._)("div",h,(0,i.zw)(t.share_code),1),(0,a._)("div",p,(0,i.zw)(t.bookcase_name),1),(0,a._)("div",u,(0,i.zw)(t.share_contents),1),(0,a._)("div",v,(0,i.zw)(y.getDateFormat(t.share_date)),1),(0,a._)("div",_,[(0,a.Wm)(C,{class:"mr-1",icon:"mdi-heart",size:"x-small",color:"red"}),(0,a.Uk)(" "+(0,i.zw)(t.like_count),1)]),(0,a._)("div",x,[(0,a.Wm)(C,{class:"mr-1",icon:"mdi-share-variant",size:"x-small"}),(0,a.Uk)(" "+(0,i.zw)(t.share_count),1)]),(0,a._)("div",w,(0,i.zw)(t.share_public),1),(0,a._)("div",m,[(0,a.Wm)(C,{icon:"mdi-close",color:"red-lighten-3",onClick:e=>y.deleteShare(t)},null,8,["onClick"])])],8,r),f])))),128))])]),k.post_detail?((0,a.wg)(),(0,a.j4)(L,{key:0,post:k.post,onOpenLogin:e[0]||(e[0]=t=>this.$emit("setLoginModal",!0)),onShareCount:y.shareCount,onLikeCount:y.likeCount,onReplyCount:y.replyCount,onClose:e[1]||(e[1]=t=>k.post_detail=!1)},null,8,["post","onShareCount","onLikeCount","onReplyCount"])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)}var y=s(5766),C={components:{SharePostDetail:y.Z},data(){return{postList:[],post:null,post_detail:!1,loadComplete:!1}},setup(){},async created(){await this.getShareList(),this.loadComplete=!0},mounted(){},unmounted(){},methods:{async getShareList(){const t="/share/myshare",e={account_seq:this.$store.state.accountStore.account.account_seq},s=await this.$axios.get(t,{params:e});this.postList=s.data},shareCount(t){const e=this.postList.findIndex((e=>e.bookcase_seq===t.post.bookcase_seq));this.postList[e].share_count=this.postList[e].share_count+t.increase,this.postList.splice(0,0)},likeCount(t){const e=this.postList.findIndex((e=>e.bookcase_seq===t.post.bookcase_seq));this.postList[e].like_count=this.postList[e].like_count+t.increase,this.postList.splice(0,0)},replyCount(t){const e=this.postList.findIndex((e=>e.bookcase_seq===t.post.bookcase_seq));this.postList[e].reply_count=t.count,this.postList.splice(0,0)},openDetail(t){const e=event.target.className;if(e.includes("mdi-close"))return!1;this.post=t,this.post_detail=!0},getDateFormat(t){return this.$getDateFormat(new Date(t).getTime()+324e5)},deleteShare(t){const e={html:"<strong>'"+t.bookcase_name+"'</strong><br> 공유 목록에서 삭제합니다.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"예",cancelButtonText:"아니오"};this.$swal.fire(e).then((async e=>{if(e.isConfirmed){const e="/share/delete",s={account_seq:this.$store.state.accountStore.account.account_seq,bookcase_seq:t.bookcase_seq},a=await this.$axios.post(e,null,{params:s});if(!a.data)return!1;this.postList=a.data,this.postList.splice(0,0)}}))}}},L=s(89);const b=(0,L.Z)(C,[["render",k],["__scopeId","data-v-8a4c9f3e"]]);var g=b}}]);
//# sourceMappingURL=account.6ff30d11.js.map